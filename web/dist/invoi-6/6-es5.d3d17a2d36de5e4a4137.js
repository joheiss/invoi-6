!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],c=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(c=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);c=!0);}catch(u){r=!0,a=u}finally{try{c||null==o.return||o.return()}finally{if(r)throw a}}return n}(e,t)||Zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(){var e=ia([":\u241ff0485a8b1abaab68a1d67358a39c5558bf9f909e\u241f4050726944055278528:Steuersatz"]);return t=function(){return e},e}function n(){var e=ia([":\u241f984a34347041296dcc3cae9a8719c400e631988e\u241f8509586664655630098:G\xfcltig bis"]);return n=function(){return e},e}function c(){var e=ia([":\u241f0bf18431caaac839c1e6c838e2a27d9fd321743a\u241f1346750425871899275:G\xfcltig ab"]);return c=function(){return e},e}function r(){var e=ia([":\u241f49181af14f8ccc54fb2e931599e8b13cc300f490\u241f1999647039747025377:Steuercode"]);return r=function(){return e},e}function a(){var e=ia([":\u241f2a7f70995274e199df9287d67aa6bc90458df950\u241f8261782328713390804:Periode hinzuf\xfcgen"]);return a=function(){return e},e}function i(){var e=ia([":\u241f8df88f74706b74f37a55c11e945bf373887712d9\u241f3127620467897431535:Anlegen"]);return i=function(){return e},e}function o(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return o=function(){return e},e}function u(){var e=ia([":\u241fb8bd173fec055a201c1648f61dad406949cfb3f9\u241f1014393421561264116:Bitte geben Sie einen g\xfcltigen Prozentsatz ein"]);return u=function(){return e},e}function l(){var e=ia([":\u241f8077bffbbf9f4508a0c924dfff3841dea514298c\u241f7187223394324495132:Bitte geben Sie einen Prozentsatz ein"]);return l=function(){return e},e}function s(){var e=ia([":\u241f478b66b2bfa8c5399381ad1e550c35630562db43\u241f7347964765002118292:Bitte geben Sie ein G\xfcltigkeitsdatum ein"]);return s=function(){return e},e}function b(){var e=ia([":\u241f478b66b2bfa8c5399381ad1e550c35630562db43\u241f7347964765002118292:Bitte geben Sie ein G\xfcltigkeitsdatum ein"]);return b=function(){return e},e}function d(){var e=ia([":\u241f9419d79161e61b62a030b8e1d43b002de9b89923\u241f4666139466262817587:Bitte geben Sie einen Steuercode ein."]);return d=function(){return e},e}function f(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return f=function(){return e},e}function m(){var e=ia([":Steuersatz % plcaeholder\u241fee5d5ad01686a8f158d3aaeca491d85d48737cd0\u241f3725642128447996306:Steuersatz %"]);return m=function(){return e},e}function h(){var e=ia([":G\xfcltig bis placeholder\u241f984a34347041296dcc3cae9a8719c400e631988e\u241f8509586664655630098:G\xfcltig bis"]);return h=function(){return e},e}function g(){var e=ia([":G\xfcltig ab placeholder\u241f0bf18431caaac839c1e6c838e2a27d9fd321743a\u241f1346750425871899275:G\xfcltig ab"]);return g=function(){return e},e}function p(){var e=ia([":Steuercode placeholder\u241f49181af14f8ccc54fb2e931599e8b13cc300f490\u241f1999647039747025377:Steuercode"]);return p=function(){return e},e}function v(){var e=ia([":\u241f62bb0bbdfe183f451e0ac662beecb10b25f12ecc\u241f6849442939139406465:Steuersatz pflegen"]);return v=function(){return e},e}function y(){var e=ia([":\u241f0e52d6564a22869a81028b17f8101faffbf32302\u241f5896115930586524761:Mehr"]);return y=function(){return e},e}function C(){var e=ia([":\u241f63997044413969ba33a9aaf33c4925effe6389b2\u241f23837338749578806:\xdcbersetzung "]);return C=function(){return e},e}function O(){var e=ia([":\u241f5c246f91bfcc7deb488adb23878699f932167b3c\u241f5077435806197549609:ISO Code"]);return O=function(){return e},e}function j(){var e=ia([":\u241fc47252d6cffe14a672e7ef04b2cc30e761f240ae\u241f8930526198656004715:Zur\xfcck"]);return j=function(){return e},e}function S(){var e=ia([":\u241f91258d9e8a4471fcad91834ed8b98a3f19d40291\u241f5064300286565041768:Land hinzuf\xfcgen"]);return S=function(){return e},e}function T(){var e=ia([":\u241f62abbac084f69510c9af6a90fed45138cdac9795\u241f4904138318188506340:\xdcbersetzung hinzuf\xfcgen"]);return T=function(){return e},e}function w(){var e=ia([":\u241f8df88f74706b74f37a55c11e945bf373887712d9\u241f3127620467897431535:Anlegen"]);return w=function(){return e},e}function k(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return k=function(){return e},e}function D(){var e=ia([":\u241f4ac644b6ed93d490227e021dbfb25e76dea4c914\u241f1657536116083699340:Bitte geben Sie eine Bezeichnung ein."]);return D=function(){return e},e}function I(){var e=ia([":\u241ff9c06e985632e4a9ef63f5f293533c580c8d2cf2\u241f7239681445066505424:Es existiert bereits eine \xdcbersetzung f\xfcr diese Sprache."]);return I=function(){return e},e}function P(){var e=ia([":\u241f04d8c27406f93d06d7f3923cf661739f8111712f\u241f618156714160397541:Bitte geben Sie eine Sprache ein."]);return P=function(){return e},e}function $(){var e=ia([":L\xe4ndername placeholder\u241f21a0e3b2654f174eda8b65296100aaa487ae981b\u241f5164311268349388722:L\xe4ndername"]);return $=function(){return e},e}function x(){var e=ia([":Sprache placeholder\u241f1451a321cb66a6785cf15b8d0ada9a620071c6d9\u241f51574765818008149:Sprache"]);return x=function(){return e},e}function _(){var e=ia([":\u241fd2e63977267f0a7a3bda5fea43fe3072a09796c9\u241f6261419973361980210:Bitte geben Sie ein Land (ISO Code) ein."]);return _=function(){return e},e}function M(){var e=ia([":\u241f6743ba4b913840675b2848688c500465f55c9d27\u241f745272443193824543:Neue \xdcbersetzung anlegen"]);return M=function(){return e},e}function z(){var e=ia([":\u241f20baa28bf1fd3c0a05b4aa0615bacd972642b7a4\u241f6894394019761733214:Neues Land anlegen"]);return z=function(){return e},e}function A(){var e=ia([":\u241f5089ec3b59c687f7191c1207989b400ad65b6ba7\u241f3316870872842855349:L\xe4nderbezeichnungen pflegen"]);return A=function(){return e},e}function B(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return B=function(){return e},e}function R(){var e=ia([":\u241f724ca3154418d8b777c1cd41422c25217440c4c8\u241f7196449562707086924:Umsatzsteuer"]);return R=function(){return e},e}function E(){var e=ia([":\u241ff73c127dcfb51c980300e537b788eb7d364e9ea8\u241f1354829749518262932:L\xe4nder"]);return E=function(){return e},e}function N(){var e=ia([":\u241fd51964ee88c8f21f5bdb4cac4f3a8f290c109dec\u241f3803830480262269000:Ums\xe4tze"]);return N=function(){return e},e}function F(){var e=ia([":\u241f6aeb444698c3fb62567e3c083b9957b3bb68328b\u241f3628816711306092195:F\xe4llig am"]);return F=function(){return e},e}function L(){var e=ia([":\u241fb1318f9a2f3af0d6dab9195065bcc438a444cc3a\u241f6777217996757352044:Betrag"]);return L=function(){return e},e}function X(){var e=ia([":\u241f4e36a7e889e4ccc15542a4c4e95e077e0faf14ac\u241f8800748062155248797:Zahlungsbetrag"]);return X=function(){return e},e}function q(){var e=ia([":\u241f440811b80eb2e50e99cfd9ce3488c64effe4ac12\u241f4255603834735357563:Nettobetrag"]);return q=function(){return e},e}function H(){var e=ia([":\u241f761edc4bb4bf3b074dcc6c9cc2f1c5026dadf425\u241f8579240404470114859:Zeitraum"]);return H=function(){return e},e}function U(){var e=ia([":\u241f3342a3c0c94305b6b27a42d63f3a3e5d62c72350\u241f5110226715617494380:Leistungszeitraum"]);return U=function(){return e},e}function V(){var e=ia([":\u241f1470eabded471793a7ef2271e2a1dc30a1a3265f\u241f935267939147271845:Datum"]);return V=function(){return e},e}function G(){var e=ia([":\u241f97c5ce6ba91397715b3d50eecc97b87b041dd090\u241f5357494641373890764:Kunde"]);return G=function(){return e},e}function Y(){var e=ia([":\u241f97c5ce6ba91397715b3d50eecc97b87b041dd090\u241f5357494641373890764:Kunde"]);return Y=function(){return e},e}function Z(){var e=ia([":\u241f3ecb5ffd80e534d0d8cf0376a019296c5f771f87\u241f3563503330091824066:Nr."]);return Z=function(){return e},e}function Q(){var e=ia([":\u241f9140e68397cae48dfcde5153ad2dbeb94879c32a\u241f2229036289439083594:Offene Rechnungen"]);return Q=function(){return e},e}function J(){var e=ia([":\u241fc47252d6cffe14a672e7ef04b2cc30e761f240ae\u241f8930526198656004715:Zur\xfcck"]);return J=function(){return e},e}function K(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return K=function(){return e},e}function W(){var e=ia([":\u241f88b3ac9a827098b6d328047f771e97fd46b1af06\u241f7393855088038119274: Bitte geben Sie eine Beschreibung ein "]);return W=function(){return e},e}function ee(){var e=ia([":\u241f6e54d5a28aa0565ed3b2b9ce41adada3f74b02c2\u241f6070824206268826189: Die Eingabe ist ung\xfcltig "]);return ee=function(){return e},e}function te(){var e=ia([":\u241f37210fac72b83d62b80af1fb81ea91f672b22537\u241f3434241033973129805: Bitte geben Sie eine Menge ein "]);return te=function(){return e},e}function ne(){var e=ia([":\u241f52eca136377aad607d88771b44b7ce49ccdc8c81\u241f7466335479873725444: Bitte geben Sie einen Leistungszeitraum ein "]);return ne=function(){return e},e}function ce(){var e=ia([":\u241ffda4049544eb356b2f36c9f7b014e62e211c7622\u241f413760431675318522: Bitte geben Sie ein Ausstellungsdatum ein "]);return ce=function(){return e},e}function re(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return re=function(){return e},e}function ae(){var e=ia([":Zahlungsbetrag placeholder\u241f4e36a7e889e4ccc15542a4c4e95e077e0faf14ac\u241f8800748062155248797:Zahlungsbetrag"]);return ae=function(){return e},e}function ie(){var e=ia([":Skontobetrag placeholder\u241f6fceced2e8cc37fd84d728f11fe5e424d540e9ba\u241f5408165412793826820:Skontobetrag"]);return ie=function(){return e},e}function oe(){var e=ia([":Skontobasis placeholder\u241fecf719a53f85ed0621501a869c199996eb58ddd3\u241f1849435329535756690:Skontobasis"]);return oe=function(){return e},e}function ue(){var e=ia([":Bruttobetrag placeholder\u241f942585b80fc17703c1d3d4af0b2ad1053f556f2e\u241f3131712871196625585:Bruttobetrag"]);return ue=function(){return e},e}function le(){var e=ia([":MwSt-Betrag placeholder\u241f84805a6840ccf47405474330adb672e77fb0833b\u241f858435599647438726:MwSt-Betrag"]);return le=function(){return e},e}function se(){var e=ia([":Nettobetrag placeholder\u241f440811b80eb2e50e99cfd9ce3488c64effe4ac12\u241f4255603834735357563:Nettobetrag"]);return se=function(){return e},e}function be(){var e=ia([":Beschreibung placeholder\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return be=function(){return e},e}function de(){var e=ia([":Menge placeholder\u241f77134c293828bbe6d663d26f75252663f46c7ca4\u241f6137964906830522076:Menge"]);return de=function(){return e},e}function fe(){var e=ia([":Leistungszeitraum placeholder\u241f3342a3c0c94305b6b27a42d63f3a3e5d62c72350\u241f5110226715617494380:Leistungszeitraum"]);return fe=function(){return e},e}function me(){var e=ia([":Ausstellungsdatum placeholder\u241fdcf7a87cdaa0b60b86dee709e0a4ee1787e05089\u241f8405214177669701282:Ausstellungsdatum"]);return me=function(){return e},e}function he(){var e=ia([":Vertrag placeholder\u241f8d9d0c95aafb0d02dc9303a7c56c52df91696314\u241f1102846783936377980:Vertrag"]);return he=function(){return e},e}function ge(){var e=ia([":Rechnungsempf\xe4nger placeholder\u241f996e7ab6fb58c2ad265d33ab3d53931d50fef5f2\u241f3449924265582634866:Rechnungsempf\xe4nger"]);return ge=function(){return e},e}function pe(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return pe=function(){return e},e}function ve(){var e=ia([":\u241faf6fdfafe4d3fd76a950684aeb6a01d5e552371b\u241f8970769016607182045:Senden"]);return ve=function(){return e},e}function ye(){var e=ia([":\u241f3d94117edfca25b8718ef463d101386797acddf4\u241f7488980554242426848:PDF erzeugen"]);return ye=function(){return e},e}function Ce(){var e=ia([":\u241fa813fd43c9a1b211fe541045d263d2c500c80f0f\u241f4580399730639224598:L\xf6schen"]);return Ce=function(){return e},e}function Oe(){var e=ia([":\u241ffeabfc384269a35e1f051ef9302a4b5624f3a69a\u241f6421015407864399648:Kopieren"]);return Oe=function(){return e},e}function je(){var e=ia([":\u241f88979a32990e673589e593742a64bf65cc78a3d1\u241f5659799815836451311:Neu"]);return je=function(){return e},e}function Se(){var e=ia([":\u241fc47252d6cffe14a672e7ef04b2cc30e761f240ae\u241f8930526198656004715:Zur\xfcck"]);return Se=function(){return e},e}function Te(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return Te=function(){return e},e}function we(){var e=ia([":Dokumente\u241fa6bb7641bde88e6d98545723fd6f563960c6ade0\u241f8986273476063523240:Dokumente"]);return we=function(){return e},e}function ke(){var e=ia([":\u241f05ba229584be0c2e440d5f0c25f8ea170dbfd23f\u241f859604042561581065: Bitte geben Sie mindestens eine Position ein. "]);return ke=function(){return e},e}function De(){var e=ia([":\u241f345d89276df821026be6ac2a56f060c836e02589\u241f5425552576326490212: Bitte geben Sie eine Zahlungsziel ein "]);return De=function(){return e},e}function Ie(){var e=ia([":\u241fb4f53f5c88cc29966bb551f9a45222095c15b488\u241f174497592247559182: Bitte geben Sie einen g\xfcltigen Prozentsatz ein "]);return Ie=function(){return e},e}function Pe(){var e=ia([":\u241f801b2cfacdf47b28180bbce5f2e890335523581a\u241f7897469896844362432: Bitte geben Sie eine Skontofrist ein "]);return Pe=function(){return e},e}function $e(){var e=ia([":\u241fab1fff8514dbe06165dd3ca4f4d01e4d47f24d3e\u241f6967719713285787883: Bitte w\xe4hlen Sie eine Zahlungsmethode aus "]);return $e=function(){return e},e}function xe(){var e=ia([":\u241fdaa995c7fa75d4213912d409eab254389c42e980\u241f42164365498874028: Bitte geben Sie Zahlungsbedingungen ein "]);return xe=function(){return e},e}function _e(){var e=ia([":\u241f5e1ee45699ba982af00d23d6a6a9262a356d8c44\u241f3197748058937026406: Die Eingabe ist ung\xfcltig "]);return _e=function(){return e},e}function Me(){var e=ia([":\u241f7b4a38ab774886a0b1886986d02d81da0a214d1a\u241f3369859494957303445: Bitte geben Sie MwSt % ein "]);return Me=function(){return e},e}function ze(){var e=ia([":\u241f7c61006f5b70e4085cbaef80da92af86d661c597\u241f2870608823321325981: Bitte geben Sie eine W\xe4hrung ein "]);return ze=function(){return e},e}function Ae(){var e=ia([":\u241f037cc976466359dc5e10f7849d8b7314c61ffe8f\u241f5313014536057916467: Bitte w\xe4hlen Sie eine Abrechnunsgmethode aus "]);return Ae=function(){return e},e}function Be(){var e=ia([":\u241f9fb5b01ba5caf5a637d5c4567503941cb8bcd704\u241f4908785386382355099: Bitte w\xe4hlen Sie einen Vertrag aus "]);return Be=function(){return e},e}function Re(){var e=ia([":\u241f76234d2807759934c1f56cc8fb31691c3f4ef0c4\u241f4425624233617177476: Bitte geben Sie einen Leistungszeitraum ein "]);return Re=function(){return e},e}function Ee(){var e=ia([":\u241fcd25388d0ca3be792e50256257ada7ef0bee5a8b\u241f5227236835299961140: Bitte w\xe4hlen Sie einen Rechnungsempf\xe4nger aus "]);return Ee=function(){return e},e}function Ne(){var e=ia([":\u241fe888ce8c83551f0663ee3c5365bc890d9c95a9ab\u241f6091068183627428459: Bitte geben Sie ein Ausstellungsdatum ein "]);return Ne=function(){return e},e}function Fe(){var e=ia([":Texte label\u241f47c49089cc33fccaf331c86769333cde3b5ca371\u241f4500738092135046119:Texte"]);return Fe=function(){return e},e}function Le(){var e=ia([":Zahlungsbetrag placeholder\u241f4e36a7e889e4ccc15542a4c4e95e077e0faf14ac\u241f8800748062155248797:Zahlungsbetrag"]);return Le=function(){return e},e}function Xe(){var e=ia([":Skontobetrag placeholder\u241f6fceced2e8cc37fd84d728f11fe5e424d540e9ba\u241f5408165412793826820:Skontobetrag"]);return Xe=function(){return e},e}function qe(){var e=ia([":Skontobasis placeholder\u241fecf719a53f85ed0621501a869c199996eb58ddd3\u241f1849435329535756690:Skontobasis"]);return qe=function(){return e},e}function He(){var e=ia([":Bruttobetrag placeholder\u241f942585b80fc17703c1d3d4af0b2ad1053f556f2e\u241f3131712871196625585:Bruttobetrag"]);return He=function(){return e},e}function Ue(){var e=ia([":MwSt-Betrag placeholder\u241f84805a6840ccf47405474330adb672e77fb0833b\u241f858435599647438726:MwSt-Betrag"]);return Ue=function(){return e},e}function Ve(){var e=ia([":Nettobetrag placeholder\u241f440811b80eb2e50e99cfd9ce3488c64effe4ac12\u241f4255603834735357563:Nettobetrag"]);return Ve=function(){return e},e}function Ge(){var e=ia([":\u241f8100aba3ce3415af027180b229de7d9fc69d732f\u241f8275530816414097157: Summen "]);return Ge=function(){return e},e}function Ye(){var e=ia([":\u241f2ae0d2f825a259edf00be3b2bdc711132d48ebb6\u241f2957224140510428886: Positionen "]);return Ye=function(){return e},e}function Ze(){var e=ia([":Zahlungsziel placeholder\u241fb14eaff126beab605bf25b55dda15cdaaf609243\u241f6511323718365817274:Zahlungsziel"]);return Ze=function(){return e},e}function Qe(){var e=ia([":Zahlungsziel (Tage) placeholder\u241f303bc69903af32d06624c46d7c558bc1482fd55d\u241f7892494172621830593:Zahlungsziel (Tage)"]);return Qe=function(){return e},e}function Je(){var e=ia([":Skonto % placeholder\u241fb9e57a536573fa03be1118ef385582b08d1d6b98\u241f1663220885453607346:Skonto %"]);return Je=function(){return e},e}function Ke(){var e=ia([":Skontofrist placeholder\u241fa5c11eb9480bbc5724d110a961c14c17aa0ddc88\u241f641944921956802707:Skontofrist"]);return Ke=function(){return e},e}function We(){var e=ia([":Skontofrist (Tage) placeholder\u241fca63f9bafaae5af42510f630d08abe682e73e3d7\u241f2141599410247429915:Skontofrist (Tage)"]);return We=function(){return e},e}function et(){var e=ia([":\u241fe20d5a24db36cecc8abcb0b7de821a5ce31e693b\u241f439972911168819515:Bankeinzug"]);return et=function(){return e},e}function tt(){var e=ia([":\u241fa92e1e7f291cb9f0edd0d5964e9909798e5331b8\u241f2453386397609224267:\xdcberweisung"]);return tt=function(){return e},e}function nt(){var e=ia([":Zahlungsmethode placeholder\u241f7fd2bd5f2d075316ece7d5f8cd6d9ff158ad6186\u241f1787120783773742465:Zahlungsmethode"]);return nt=function(){return e},e}function ct(){var e=ia([":Zahlungsbedingungen placeholder\u241f58a005e0f6f0af9b5e57de55495e15142ae9dcd8\u241f6798515712238664417:Zahlungsbedingungen"]);return ct=function(){return e},e}function rt(){var e=ia([":\u241ffb2126695d01dc10c35c579ffaa6cf8f6f5ef779\u241f7780068730337602696: Zahlungsbedingungen "]);return rt=function(){return e},e}function at(){var e=ia([":MwSt % placeholder\u241f42aa635cf416fae4cca140f9b382481bec5d904d\u241f6883632949570577750:MwSt %"]);return at=function(){return e},e}function it(){var e=ia([":W\xe4hrung placeholder\u241fd0ed15535520aa18e6cda2699402d710b2fe2f24\u241f840276036992230191:W\xe4hrung"]);return it=function(){return e},e}function ot(){var e=ia([":\u241f0b5dbef59cb7a61b005772768bcfad47d7bdbe0b\u241f2168111436561686090:Gutschriftverfahren"]);return ot=function(){return e},e}function ut(){var e=ia([":\u241fcc1820bde05602a97b5a798796df954f091586c2\u241f7915235365181603581:Rechnung"]);return ut=function(){return e},e}function lt(){var e=ia([":Abrechnungsmethode placeholder\u241f94f146aa5b64ff76a340bb87c70de86ff725dc89\u241f6433128085828975212:Abrechnungsmethode"]);return lt=function(){return e},e}function st(){var e=ia([":Vertrag placeholder\u241f8d9d0c95aafb0d02dc9303a7c56c52df91696314\u241f1102846783936377980:Vertrag"]);return st=function(){return e},e}function bt(){var e=ia([":\u241fce8dfe741c69b8b7da8265f4ed0b75a33759c35b\u241f1544995080170515256: Vertragsinformationen "]);return bt=function(){return e},e}function dt(){var e=ia([":Leistungszeitraum placeholder\u241f3342a3c0c94305b6b27a42d63f3a3e5d62c72350\u241f5110226715617494380:Leistungszeitraum"]);return dt=function(){return e},e}function ft(){var e=ia([":Rechnungsempf\xe4nger placeholder\u241f996e7ab6fb58c2ad265d33ab3d53931d50fef5f2\u241f3449924265582634866:Rechnungsempf\xe4nger"]);return ft=function(){return e},e}function mt(){var e=ia([":Ausstellungsdatum placeholder\u241fdcf7a87cdaa0b60b86dee709e0a4ee1787e05089\u241f8405214177669701282:Ausstellungsdatum"]);return mt=function(){return e},e}function ht(){var e=ia([":\u241f83fe3aa5847917b1f242f36e9d8ff1624165985b\u241f4060017248895284665:bezahlt"]);return ht=function(){return e},e}function gt(){var e=ia([":\u241f3c106cb1dfd426a81061b4dc144cffb6a4af95ee\u241f1795533124023367087:versandt"]);return gt=function(){return e},e}function pt(){var e=ia([":\u241fed8adbb9dc6217a8f5a3970cf91554d181a18661\u241f5162351694482160609:In Bearbeitung"]);return pt=function(){return e},e}function vt(){var e=ia([":Details label\u241f4f8b2bb476981727ab34ed40fde1218361f92c45\u241f5028777105388019087:Details"]);return vt=function(){return e},e}function yt(){var e=ia([":\u241f036f93b1bd29e3c2f0819d096c2a2605e5935e44\u241f6232800382799517035: Position hinzuf\xfcgen "]);return yt=function(){return e},e}function Ct(){var e=ia([":\u241f5b0300a79f5e96408ce29a73a2d996729a6a82d4\u241f1894072764523923289:Skonto erlaubt?"]);return Ct=function(){return e},e}function Ot(){var e=ia([":\u241ff367c2b1df4204a29bb4038483308defb5dc25a3\u241f1933013871016789910:Gesamt"]);return Ot=function(){return e},e}function jt(){var e=ia([":\u241f7f18d9e7e949f788d606ea4314689a9f2f7ee9c5\u241f3277192243903869757:Preis"]);return jt=function(){return e},e}function St(){var e=ia([":\u241f107b9ff6838c0b8f0a4659e655911ab3bcb2d90e\u241f56228327617948862:Einheit"]);return St=function(){return e},e}function Tt(){var e=ia([":\u241f77134c293828bbe6d663d26f75252663f46c7ca4\u241f6137964906830522076:Menge"]);return Tt=function(){return e},e}function wt(){var e=ia([":\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return wt=function(){return e},e}function kt(){var e=ia([":\u241fa34143dc6d8269cd960824a3922cdf658a0df1a7\u241f1227005203155874633:Vertrags- position"]);return kt=function(){return e},e}function Dt(){var e=ia([":\u241f7ea430fd3f2354501da86b2d5a83834133db0888\u241f3210324540898431438: Bitte geben Sie einen g\xfcltigen Einzelpreis "]);return Dt=function(){return e},e}function It(){var e=ia([":\u241f4bb72df894b3cf3e6425b94eb066d249b348a17e\u241f4773951379498831175: Bitte geben Sie einen Einzelpreis ein "]);return It=function(){return e},e}function Pt(){var e=ia([":\u241fcf67ccdb5e2c3f33edfaaf494d6abfc4a0aa3a00\u241f4973934549587365354: Bitte geben Sie eine Mengeneinheit ein "]);return Pt=function(){return e},e}function $t(){var e=ia([":\u241ff2944b3a612a6f29988ef3b4d07c47717acceb17\u241f7761992969123304470: Bitte geben Sie eine g\xfcltige Menge "]);return $t=function(){return e},e}function xt(){var e=ia([":\u241f37210fac72b83d62b80af1fb81ea91f672b22537\u241f3434241033973129805: Bitte geben Sie eine Menge ein "]);return xt=function(){return e},e}function _t(){var e=ia([":\u241f88b3ac9a827098b6d328047f771e97fd46b1af06\u241f7393855088038119274: Bitte geben Sie eine Beschreibung ein "]);return _t=function(){return e},e}function Mt(){var e=ia([":\u241f8d4dc061b1ef6e09f36b0e30e4734b8a61f518fe\u241f5451937419600444184: Bitte w\xe4hlen Sie eine g\xfcltige Vertragsposition aus "]);return Mt=function(){return e},e}function zt(){var e=ia([":\u241f5b0300a79f5e96408ce29a73a2d996729a6a82d4\u241f1894072764523923289:Skonto erlaubt?"]);return zt=function(){return e},e}function At(){var e=ia([":\u241f1e50ae39eaecdb9f46d9c14b78f7e33e4bcda859\u241f4617732463449978836:Gesamtpreis"]);return At=function(){return e},e}function Bt(){var e=ia([":\u241f09372c93bb361968dc85f8453fcf9696e8127170\u241f1750464341811945394:Einzelpreis"]);return Bt=function(){return e},e}function Rt(){var e=ia([":\u241f107b9ff6838c0b8f0a4659e655911ab3bcb2d90e\u241f56228327617948862:Einheit"]);return Rt=function(){return e},e}function Et(){var e=ia([":\u241f77134c293828bbe6d663d26f75252663f46c7ca4\u241f6137964906830522076:Menge"]);return Et=function(){return e},e}function Nt(){var e=ia([":\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return Nt=function(){return e},e}function Ft(){var e=ia([":\u241fcc16eb32b567abccbd4706b74034e351a2a4227b\u241f6535899358117021728:Vertragsposition"]);return Ft=function(){return e},e}function Lt(){var e=ia([":\u241f59c84ec590da70dcc0595d71779a98bda2a7b8a4\u241f8591713515042959235:Vertrag "]);return Lt=function(){return e},e}function Xt(){var e=ia([":\u241f76c3eb966f0ba66dc3ecfa23720521ec47b2f754\u241f918038637540163317:Neue Rechnung"]);return Xt=function(){return e},e}function qt(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return qt=function(){return e},e}function Ht(){var e=ia([":\u241fa813fd43c9a1b211fe541045d263d2c500c80f0f\u241f4580399730639224598:L\xf6schen"]);return Ht=function(){return e},e}function Ut(){var e=ia([":\u241ffeabfc384269a35e1f051ef9302a4b5624f3a69a\u241f6421015407864399648:Kopieren"]);return Ut=function(){return e},e}function Vt(){var e=ia([":\u241f88979a32990e673589e593742a64bf65cc78a3d1\u241f5659799815836451311:Neu"]);return Vt=function(){return e},e}function Gt(){var e=ia([":\u241fc47252d6cffe14a672e7ef04b2cc30e761f240ae\u241f8930526198656004715:Zur\xfcck"]);return Gt=function(){return e},e}function Yt(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return Yt=function(){return e},e}function Zt(){var e=ia([":Rechnungen label\u241f0e6b823d70c740ac5decd370657dc22e613861dc\u241f2475884408878226227:Rechnungen"]);return Zt=function(){return e},e}function Qt(){var e=ia([":Offene Rechnungen label\u241f9140e68397cae48dfcde5153ad2dbeb94879c32a\u241f2229036289439083594:Offene Rechnungen"]);return Qt=function(){return e},e}function Jt(){var e=ia([":Dokumente label\u241fa6bb7641bde88e6d98545723fd6f563960c6ade0\u241f8986273476063523240:Dokumente"]);return Jt=function(){return e},e}function Kt(){var e=ia([":\u241f05ba229584be0c2e440d5f0c25f8ea170dbfd23f\u241f859604042561581065: Bitte geben Sie mindestens eine Position ein. "]);return Kt=function(){return e},e}function Wt(){var e=ia([":\u241f16901d4b876c507dbc2ca906d876c99ae87c2d50\u241f722570522301977045: Bitte geben Sie eine Zahlungsfrist (Anzahl Tage) ein "]);return Wt=function(){return e},e}function en(){var e=ia([":\u241fb4f53f5c88cc29966bb551f9a45222095c15b488\u241f174497592247559182: Bitte geben Sie einen g\xfcltigen Prozentsatz ein "]);return en=function(){return e},e}function tn(){var e=ia([":\u241fc376202c1164bc4df1b794f82fa613bae9a4d3f6\u241f5723753834608299709: Bitte geben Sie einen Skontoprozentsatz ein "]);return tn=function(){return e},e}function nn(){var e=ia([":\u241f81432a81495a51b47d2100bd5cdaccd9034d58f2\u241f3534620122032348550: Bitte geben Sie eine Skontofrist (Anzahl Tage) ein "]);return nn=function(){return e},e}function cn(){var e=ia([":\u241f33c83af7e48083f55e3ecd0721545ae48a7ddb9a\u241f4997253278566827559: Bitte geben Sie g\xfcltige Zahlungsbedingungen ein "]);return cn=function(){return e},e}function rn(){var e=ia([":\u241fab1fff8514dbe06165dd3ca4f4d01e4d47f24d3e\u241f6967719713285787883: Bitte w\xe4hlen Sie eine Zahlungsmethode aus "]);return rn=function(){return e},e}function an(){var e=ia([":\u241f037cc976466359dc5e10f7849d8b7314c61ffe8f\u241f5313014536057916467: Bitte w\xe4hlen Sie eine Abrechnunsgmethode aus "]);return an=function(){return e},e}function on(){var e=ia([":\u241fb40d1f1a309d8a040e3514a681783fb120e88e53\u241f8898719228719929491: Bitte geben Sie eine W\xe4hrung ein "]);return on=function(){return e},e}function un(){var e=ia([":\u241f2452d270905d288d25520575db0b88af5131b709\u241f911810319903928441: Bitte geben Sie einen g\xfcltigen numerischen Wert ein "]);return un=function(){return e},e}function ln(){var e=ia([":\u241fa355cd510e2e1f52a574ad79f8aeb832cec9e55a\u241f7910011726093772291: Das Vertragsende darf nicht vor dem Vertragsbeginn liegen "]);return ln=function(){return e},e}function sn(){var e=ia([":\u241fd1eb5fb75382e1f770eeb9d4969921c661c91139\u241f3555187740849811543: Bitte geben Sie ein g\xfcltiges Vertragsende ein "]);return sn=function(){return e},e}function bn(){var e=ia([":\u241f10ad4c12210a17f339a8a85573bcc512fceffa98\u241f6225979954336446049: Bitte geben Sie einen g\xfcltigen Vertragsbeginn ein "]);return bn=function(){return e},e}function dn(){var e=ia([":\u241f7d7e496cb3d5f3b19f62660c69a319591878ed01\u241f2655596240741158969: Bitte geben Sie eine Bezeichnung ein "]);return dn=function(){return e},e}function fn(){var e=ia([":\u241ff498a576154b49ccdb5d1325a6962c837e7732a7\u241f5394611898145589305: Bitte geben Sie ein g\xfcltiges Ausstellungsdatum ein "]);return fn=function(){return e},e}function mn(){var e=ia([":\u241fdb353325f80575ad8764b014409532ecf0bcae58\u241f3335321641064915753: Bitte w\xe4hlen Sie einen Vertragspartner aus "]);return mn=function(){return e},e}function hn(){var e=ia([":Texte label\u241f47c49089cc33fccaf331c86769333cde3b5ca371\u241f4500738092135046119:Texte"]);return hn=function(){return e},e}function gn(){var e=ia([":\u241f2ae0d2f825a259edf00be3b2bdc711132d48ebb6\u241f2957224140510428886: Positionen "]);return gn=function(){return e},e}function pn(){var e=ia([":Zahlungsfrist (Tage) placeholder\u241f0c7cad43a74f42fee87f1514b1ff828bb55dd820\u241f3479613514182424730:Zahlungsfrist (Tage)"]);return pn=function(){return e},e}function vn(){var e=ia([":Skonto % placeholder\u241fb9e57a536573fa03be1118ef385582b08d1d6b98\u241f1663220885453607346:Skonto %"]);return vn=function(){return e},e}function yn(){var e=ia([":Skontofrist (Tage) placeholder\u241fca63f9bafaae5af42510f630d08abe682e73e3d7\u241f2141599410247429915:Skontofrist (Tage)"]);return yn=function(){return e},e}function Cn(){var e=ia([":Zahlungsbedingungen placeholder\u241f58a005e0f6f0af9b5e57de55495e15142ae9dcd8\u241f6798515712238664417:Zahlungsbedingungen"]);return Cn=function(){return e},e}function On(){var e=ia([":\u241fe20d5a24db36cecc8abcb0b7de821a5ce31e693b\u241f439972911168819515:Bankeinzug"]);return On=function(){return e},e}function jn(){var e=ia([":\u241fa92e1e7f291cb9f0edd0d5964e9909798e5331b8\u241f2453386397609224267:\xdcberweisung"]);return jn=function(){return e},e}function Sn(){var e=ia([":Zahlungsmethode placeholder\u241f7fd2bd5f2d075316ece7d5f8cd6d9ff158ad6186\u241f1787120783773742465:Zahlungsmethode"]);return Sn=function(){return e},e}function Tn(){var e=ia([":\u241f0b5dbef59cb7a61b005772768bcfad47d7bdbe0b\u241f2168111436561686090:Gutschriftverfahren"]);return Tn=function(){return e},e}function wn(){var e=ia([":\u241fcc1820bde05602a97b5a798796df954f091586c2\u241f7915235365181603581:Rechnung"]);return wn=function(){return e},e}function kn(){var e=ia([":Abrechnungsmethode placeholder\u241f94f146aa5b64ff76a340bb87c70de86ff725dc89\u241f6433128085828975212:Abrechnungsmethode"]);return kn=function(){return e},e}function Dn(){var e=ia([":\u241ffb2126695d01dc10c35c579ffaa6cf8f6f5ef779\u241f7780068730337602696: Zahlungsbedingungen "]);return Dn=function(){return e},e}function In(){var e=ia([":W\xe4hrung placeholder\u241fd0ed15535520aa18e6cda2699402d710b2fe2f24\u241f840276036992230191:W\xe4hrung"]);return In=function(){return e},e}function Pn(){var e=ia([":Vertragsumfang placeholder\u241f7168018a6bd4e602c65cd8fd955f6c6008d36f52\u241f1049727201162290560:Vertragsumfang"]);return Pn=function(){return e},e}function $n(){var e=ia([":G\xfcltig bis placeholder\u241f984a34347041296dcc3cae9a8719c400e631988e\u241f8509586664655630098:G\xfcltig bis"]);return $n=function(){return e},e}function xn(){var e=ia([":G\xfcltig ab placeholder\u241f0bf18431caaac839c1e6c838e2a27d9fd321743a\u241f1346750425871899275:G\xfcltig ab"]);return xn=function(){return e},e}function _n(){var e=ia([":Bezeichnung placeholder\u241fef623008673bd2f0a928de8947d89e195d4bb081\u241f5742112645312541475:Bezeichnung"]);return _n=function(){return e},e}function Mn(){var e=ia([":Austellungsdatum placeholder\u241fab350df9f10f8958b49044a093adc3ff40b500ee\u241f3373442340766404998:augestellt am"]);return Mn=function(){return e},e}function zn(){var e=ia([":Vertragspartner placeholder\u241f706569cc06eb155b96ee159f65f258cd61ffb2b4\u241f4282747239118142038:Vertragspartner"]);return zn=function(){return e},e}function An(){var e=ia([":Details label\u241f4f8b2bb476981727ab34ed40fde1218361f92c45\u241f5028777105388019087:Details"]);return An=function(){return e},e}function Bn(){var e=ia([":interner Text\u241f0633f38a7eb9b1f388355998091d8d0eeba84422\u241f4829517666109604291:interner Text"]);return Bn=function(){return e},e}function Rn(){var e=ia([":Rechnungstext\u241f54ab03f963f902d5f69aeb32fec7a86813ea87d3\u241f8646224761300888054:Rechnungstext"]);return Rn=function(){return e},e}function En(){var e=ia([":\u241fc70359936645bb8b67b88e3685317960306c5e86\u241f2043972179657719095:Position hinzuf\xfcgen"]);return En=function(){return e},e}function Nn(){var e=ia([":\u241f5b0300a79f5e96408ce29a73a2d996729a6a82d4\u241f1894072764523923289:Skonto erlaubt?"]);return Nn=function(){return e},e}function Fn(){var e=ia([":\u241f107b9ff6838c0b8f0a4659e655911ab3bcb2d90e\u241f56228327617948862:Einheit"]);return Fn=function(){return e},e}function Ln(){var e=ia([":\u241f7f18d9e7e949f788d606ea4314689a9f2f7ee9c5\u241f3277192243903869757:Preis"]);return Ln=function(){return e},e}function Xn(){var e=ia([":\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return Xn=function(){return e},e}function qn(){var e=ia([":\u241fd606966f8f732a8fb7968fbfda0dc33e9c8b01fd\u241f3040268739767396014: Bitte geben Sie eine g\xfcltige Preiseinheit ein "]);return qn=function(){return e},e}function Hn(){var e=ia([":\u241f48e5eee6a8a63af79ead123a21c7ddeda607b465\u241f2498672340490571046: Bitte geben Sie einen g\xfcltigen (numerischen) Preis ein "]);return Hn=function(){return e},e}function Un(){var e=ia([":\u241f5e6e5eb2f4da8bb92edc0113d306a24b9cb923e6\u241f284330613300293870: Bitte geben Sie einen Preis ein "]);return Un=function(){return e},e}function Vn(){var e=ia([":\u241f88b3ac9a827098b6d328047f771e97fd46b1af06\u241f7393855088038119274: Bitte geben Sie eine Beschreibung ein "]);return Vn=function(){return e},e}function Gn(){var e=ia([":\u241f5b0300a79f5e96408ce29a73a2d996729a6a82d4\u241f1894072764523923289:Skonto erlaubt?"]);return Gn=function(){return e},e}function Yn(){var e=ia([":\u241f107b9ff6838c0b8f0a4659e655911ab3bcb2d90e\u241f56228327617948862:Einheit"]);return Yn=function(){return e},e}function Zn(){var e=ia([":\u241f9e753cca0b1fae0c9383e375154543d003e09ccc\u241f5381764684056187823:Preis pro Einheit"]);return Zn=function(){return e},e}function Qn(){var e=ia([":\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return Qn=function(){return e},e}function Jn(){var e=ia([":\u241f5170811ee777f21b4bab9431873fde29721364bd\u241f5832372188886501363:Rechnungsempf\xe4nger "]);return Jn=function(){return e},e}function Kn(){var e=ia([":\u241f76c3eb966f0ba66dc3ecfa23720521ec47b2f754\u241f918038637540163317:Neue Rechnung"]);return Kn=function(){return e},e}function Wn(){var e=ia([":\u241fa813fd43c9a1b211fe541045d263d2c500c80f0f\u241f4580399730639224598:L\xf6schen"]);return Wn=function(){return e},e}function ec(){var e=ia([":\u241f05d6def11b80c405276ad18c4fc5183e8cea4f75\u241f2854123663314832793:Speichern"]);return ec=function(){return e},e}function tc(){var e=ia([":\u241ffeabfc384269a35e1f051ef9302a4b5624f3a69a\u241f6421015407864399648:Kopieren"]);return tc=function(){return e},e}function nc(){var e=ia([":\u241f88979a32990e673589e593742a64bf65cc78a3d1\u241f5659799815836451311:Neu"]);return nc=function(){return e},e}function cc(){var e=ia([":\u241fc47252d6cffe14a672e7ef04b2cc30e761f240ae\u241f8930526198656004715:Zur\xfcck"]);return cc=function(){return e},e}function rc(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return rc=function(){return e},e}function ac(){var e=ia([":Letzte Rechnungen\u241fccf427c851879c6cadc3a4ce0c6094cedfc3a021\u241f6467529815805711800:Letzte Rechnungen"]);return ac=function(){return e},e}function ic(){var e=ia([":Offene Rechnungen\u241f9140e68397cae48dfcde5153ad2dbeb94879c32a\u241f2229036289439083594:Offene Rechnungen"]);return ic=function(){return e},e}function oc(){var e=ia([":Letzte Vertr\xe4ge\u241fef4ad9144faa0f853e0fc5322e5a1ad8ebaa9c18\u241f1520562236166949242:Letzte Vertr\xe4ge"]);return oc=function(){return e},e}function uc(){var e=ia([":Aktive Vertr\xe4ge\u241fcd2183bbe69887bf060409af30d5e2aaee1f3ca0\u241f7150667396706857545:Aktive Vertr\xe4ge"]);return uc=function(){return e},e}function lc(){var e=ia([":Dokumente\u241fa6bb7641bde88e6d98545723fd6f563960c6ade0\u241f8986273476063523240:Dokumente"]);return lc=function(){return e},e}function sc(){var e=ia([":\u241f48d5665b79bb05570f3f573dec4c94783f2a0175\u241f2248003256102313691: Bitte geben Sie eine g\xfcltige URL ein "]);return sc=function(){return e},e}function bc(){var e=ia([":\u241fb8bba3204b7e310f3acfa8305b26d8e17e7f7e52\u241f1443061571709800869: Bitte geben Sie eine g\xfcltige URL ist ung\xfcltig "]);return bc=function(){return e},e}function dc(){var e=ia([":\u241f6460f7061de47a9dba776af90b7840c0030aed84\u241f7788405478367669067: Bitte geben Sie eine g\xfcltige Faxnummer ein "]);return dc=function(){return e},e}function fc(){var e=ia([":\u241fe7465ce6d48157538243d581a41078b76b4fd6c0\u241f5011206747986867307: Bitte geben Sie eine g\xfcltige Telefonnummer ein "]);return fc=function(){return e},e}function mc(){var e=ia([":\u241f3b5f51a38b72a657c1b04b4410708c43ac49aa5b\u241f1164585582579262358: Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein "]);return mc=function(){return e},e}function hc(){var e=ia([":\u241fe34a0ed6e8b02985885a10a7fccbef0cd4f4510d\u241f7380742090895011449:Kommunikation"]);return hc=function(){return e},e}function gc(){var e=ia([":\u241ff669033ee5d0cfe654b5b3be9397e66db60a5354\u241f7055408595816220041: Bitte geben Sie einen Ort ein "]);return gc=function(){return e},e}function pc(){var e=ia([":\u241f4efcfdc13331143046024c023c76b96590ad0656\u241f8295389467117191782: Bitte geben Sie eine Postleitzahl ein "]);return pc=function(){return e},e}function vc(){var e=ia([":\u241fbe211aeaa3f4691b3c571847f0837c08b0145d05\u241f1303590087771332978: Bitte geben Sie einen Namen ein "]);return vc=function(){return e},e}function yc(){var e=ia([":Logo URL placeholder\u241f20863f05cbbba236c936781412d253077a17595d\u241f2198590276913934346:Logo URL"]);return yc=function(){return e},e}function Cc(){var e=ia([":Web Site placeholder\u241fcae9dd147e1d16cf8c91545af504282a5dba8802\u241f4516245323836473364:Web Site"]);return Cc=function(){return e},e}function Oc(){var e=ia([":Fax placeholder\u241fc51dd3c995cd973b8678838ac584270932b410c3\u241f791988267498679324:Fax"]);return Oc=function(){return e},e}function jc(){var e=ia([":Telefon placeholder\u241fcbbc5fc52b2dbad2f6313f78cd491475b7df01a9\u241f1578329818296386415:Telefon"]);return jc=function(){return e},e}function Sc(){var e=ia([":E-Mail placeholder\u241f6d3b88a3ae6ff3d987f86395605397ec736dee9c\u241f8115083664628466958:E-Mail"]);return Sc=function(){return e},e}function Tc(){var e=ia([":Stra\xdfe placeholder\u241f5de99bb0cc963bbbd0e375f53b640a2bedf9b681\u241f8957405583825584558:Stra\xdfe"]);return Tc=function(){return e},e}function wc(){var e=ia([":Ort placeholder\u241f21c7f50a98ed6ee10bbea74803213979b9c6cb66\u241f625064919933078273:Ort"]);return wc=function(){return e},e}function kc(){var e=ia([":Postleitzahl placeholder\u241fa19b2066ee5125ad7da789939c2d40c2695e9b66\u241f3749857632446690851:Postleitzahl"]);return kc=function(){return e},e}function Dc(){var e=ia([":Land placeholder\u241f7584280252b97acbb03011f8ad00bf1546c1509f\u241f6375472359794248883:Land"]);return Dc=function(){return e},e}function Ic(){var e=ia([":\u241fe5ccbefb9779386b4d03e1905ab10ca42045c055\u241f1983687610954995553: Adresse "]);return Ic=function(){return e},e}function Pc(){var e=ia([":Zusatz placeholder\u241fdc722aa68b020119c8d9c35d4dad2d36b619ff37\u241f4273632578386515134:Zusatz"]);return Pc=function(){return e},e}function $c(){var e=ia([":Name placeholder\u241fcff1428d10d59d14e45edec3c735a27b5482db59\u241f8953033926734869941:Name"]);return $c=function(){return e},e}function xc(){var e=ia([":\u241f9f7e0a292de93c112481a51cb6f959242b3ff7d4\u241f8015756215649523115:inaktiv"]);return xc=function(){return e},e}function _c(){var e=ia([":\u241f81d696cdc37eb8ebefaa037a5972539942bccfd7\u241f8766474537436839826:aktiv"]);return _c=function(){return e},e}function Mc(){var e=ia([":Details label\u241f4f8b2bb476981727ab34ed40fde1218361f92c45\u241f5028777105388019087:Details"]);return Mc=function(){return e},e}function zc(){var e=ia([":\u241f6aeb444698c3fb62567e3c083b9957b3bb68328b\u241f3628816711306092195:F\xe4llig am"]);return zc=function(){return e},e}function Ac(){var e=ia([":\u241fb1318f9a2f3af0d6dab9195065bcc438a444cc3a\u241f6777217996757352044:Betrag"]);return Ac=function(){return e},e}function Bc(){var e=ia([":\u241f4e36a7e889e4ccc15542a4c4e95e077e0faf14ac\u241f8800748062155248797:Zahlungsbetrag"]);return Bc=function(){return e},e}function Rc(){var e=ia([":\u241f440811b80eb2e50e99cfd9ce3488c64effe4ac12\u241f4255603834735357563:Nettobetrag"]);return Rc=function(){return e},e}function Ec(){var e=ia([":\u241f761edc4bb4bf3b074dcc6c9cc2f1c5026dadf425\u241f8579240404470114859:Zeitraum"]);return Ec=function(){return e},e}function Nc(){var e=ia([":\u241f3342a3c0c94305b6b27a42d63f3a3e5d62c72350\u241f5110226715617494380:Leistungszeitraum"]);return Nc=function(){return e},e}function Fc(){var e=ia([":\u241f1470eabded471793a7ef2271e2a1dc30a1a3265f\u241f935267939147271845:Datum"]);return Fc=function(){return e},e}function Lc(){var e=ia([":\u241f3ecb5ffd80e534d0d8cf0376a019296c5f771f87\u241f3563503330091824066:Nr."]);return Lc=function(){return e},e}function Xc(){var e=ia([":\u241f4a484679998242155cb21125438fb4d30e58f79f\u241f2311722646469153365:Umfang"]);return Xc=function(){return e},e}function qc(){var e=ia([":\u241f984a34347041296dcc3cae9a8719c400e631988e\u241f8509586664655630098:G\xfcltig bis"]);return qc=function(){return e},e}function Hc(){var e=ia([":\u241f0bf18431caaac839c1e6c838e2a27d9fd321743a\u241f1346750425871899275:G\xfcltig ab"]);return Hc=function(){return e},e}function Uc(){var e=ia([":\u241ff09ad66c1ebf16217ba1a1072be7a98de2d95eac\u241f3282235563480269560:Beschreibung"]);return Uc=function(){return e},e}function Vc(){var e=ia([":\u241f1470eabded471793a7ef2271e2a1dc30a1a3265f\u241f935267939147271845:Datum"]);return Vc=function(){return e},e}function Gc(){var e=ia([":\u241f3ecb5ffd80e534d0d8cf0376a019296c5f771f87\u241f3563503330091824066:Nr."]);return Gc=function(){return e},e}function Yc(){var e=ia([":\u241f05aaf3ce7943a934319fc83cd15154aa67db4c3c\u241f5546474975914780086:Sonstiges"]);return Yc=function(){return e},e}function Zc(){var e=ia([":\u241fa22d344f4204669c2bf136af56f0e69c68aceb59\u241f2068359683636438082:Leistungsnachweis"]);return Zc=function(){return e},e}function Qc(){var e=ia([":\u241f600568f738e29ca4c4516e6affcde00921c178b7\u241f7849353189653094872:Reisekostenabrechnung"]);return Qc=function(){return e},e}function Jc(){var e=ia([":\u241f3da587c406b6822ac62e3bc92bc2bee953d715c6\u241f858587265170581975:Rahmenvertrag"]);return Jc=function(){return e},e}function Kc(){var e=ia([":\u241f2bc69b5166b2243608b74f420594ffbc204c24e0\u241f2790879719080302821:Projektvertrag"]);return Kc=function(){return e},e}function Wc(){var e=ia([":\u241f8dab787158f14fa296599bd0fe4f1974250a2b24\u241f7356804873548564024:Gutschriftsanforderung"]);return Wc=function(){return e},e}function er(){var e=ia([":\u241fcc1820bde05602a97b5a798796df954f091586c2\u241f7915235365181603581:Rechnung"]);return er=function(){return e},e}function tr(){var e=ia([":\u241fa813fd43c9a1b211fe541045d263d2c500c80f0f\u241f4580399730639224598:L\xf6schen"]);return tr=function(){return e},e}function nr(){var e=ia([":\u241f70a43fcaa38b25e671bfb649f8f155f4e17e1cb2\u241f7633830982491636649:Herunterladen"]);return nr=function(){return e},e}function cr(){var e=ia([":\u241f6b0ee47afa46fb719fd4c28f81a147609c108642\u241f8603700948334752400:Hochladen"]);return cr=function(){return e},e}function rr(){var e=ia([":\u241fc3d74ee69c791602cb1170614b1e2db53ed11417\u241f5341815630205695062:Versenden?"]);return rr=function(){return e},e}function ar(){var e=ia([":\u241ff38608ed1a3f1f79dc6e43a9ad88364ffc098c1f\u241f2857587999825290192:Art"]);return ar=function(){return e},e}function ir(){var e=ia([":\u241f8b3daf8f7a96906fede1ce2314d309cffc4df900\u241f8833721880560394084:Dokumentenart"]);return ir=function(){return e},e}function or(){var e=ia([":\u241f764ebdf5c8fbdf3def64d7fda6f94f2aee64678d\u241f323296961323364638:Datei"]);return or=function(){return e},e}function ur(){var e=ia([":\u241f1b24932d0f2269e4b41d0f936fdb5de1b94da401\u241f7624133960269641605:Abbrechen"]);return ur=function(){return e},e}function lr(){var e=ia([":\u241f6b0ee47afa46fb719fd4c28f81a147609c108642\u241f8603700948334752400:Hochladen"]);return lr=function(){return e},e}function sr(){var e=ia([":\u241f1da68088736ee5a4dccb1b126fb4b6e1a196aedd\u241f2859529024895297125:E-Mail Anhang?"]);return sr=function(){return e},e}function br(){var e=ia([":\u241f05aaf3ce7943a934319fc83cd15154aa67db4c3c\u241f5546474975914780086:Sonstiges"]);return br=function(){return e},e}function dr(){var e=ia([":\u241fa22d344f4204669c2bf136af56f0e69c68aceb59\u241f2068359683636438082:Leistungsnachweis"]);return dr=function(){return e},e}function fr(){var e=ia([":\u241f600568f738e29ca4c4516e6affcde00921c178b7\u241f7849353189653094872:Reisekostenabrechnung"]);return fr=function(){return e},e}function mr(){var e=ia([":\u241f3da587c406b6822ac62e3bc92bc2bee953d715c6\u241f858587265170581975:Rahmenvertrag"]);return mr=function(){return e},e}function hr(){var e=ia([":\u241f2bc69b5166b2243608b74f420594ffbc204c24e0\u241f2790879719080302821:Projektvertrag"]);return hr=function(){return e},e}function gr(){var e=ia([":\u241f8dab787158f14fa296599bd0fe4f1974250a2b24\u241f7356804873548564024:Gutschriftsanforderung"]);return gr=function(){return e},e}function pr(){var e=ia([":\u241fcc1820bde05602a97b5a798796df954f091586c2\u241f7915235365181603581:Rechnung"]);return pr=function(){return e},e}function vr(){var e=ia([":Datei\u241f764ebdf5c8fbdf3def64d7fda6f94f2aee64678d\u241f323296961323364638:Datei"]);return vr=function(){return e},e}function yr(){var e=ia([":\u241f19d59348d0650d0a1616f41ff9ffb90234041c85\u241f6050207453634070555:Datei ausw\xe4hlen"]);return yr=function(){return e},e}function Cr(){var e=ia([":\u241f589cd2b246289ac803b5689a0004a28688f658e2\u241f472335994569796287:Datei hochladen"]);return Cr=function(){return e},e}function Or(){var e=ia([":\u241fa609b31073be01d9023150107282dd11c8e09cd7\u241f2897904788462940363:Rechnungsempf\xe4nger anlegen"]);return Or=function(){return e},e}function jr(){var e=ia([":\u241f9f7e0a292de93c112481a51cb6f959242b3ff7d4\u241f8015756215649523115:inaktiv"]);return jr=function(){return e},e}function Sr(){var e=ia([":\u241f81d696cdc37eb8ebefaa037a5972539942bccfd7\u241f8766474537436839826:aktiv"]);return Sr=function(){return e},e}function Tr(){var e=ia([":\u241f2fa7f127bb34e7481f137773182c25a04145fa14\u241f3739328082463643360:Letzte Rechnung:"]);return Tr=function(){return e},e}function wr(){var e=ia([":\u241fd85189de14349a0c27f1c257c780b2523e374fa3\u241f7136177095532140221:Offene Rechnungen:"]);return wr=function(){return e},e}function kr(){var e=ia([":\u241fc845b9dc93b23dba9dc6363f15455aa83d9d42f6\u241f7626142325415094897:F\xe4llige Rechnungen:"]);return kr=function(){return e},e}function Dr(){var e=ia([":\u241fe321472c82bd537781ad80900c0569a8f337f548\u241f8576682435763005545:Letzter Vertrag"]);return Dr=function(){return e},e}function Ir(){var e=ia([":\u241f3bf38eeed464fdca6ee1618b82117688e931f0ac\u241f1447948513288322020:Abgelaufene Vertr\xe4ge:"]);return Ir=function(){return e},e}function Pr(){var e=ia([":\u241f2b50aafb874b575d26a8d6604c9082e726c9fe24\u241f7125841675784132657:Aktive Vertr\xe4ge:"]);return Pr=function(){return e},e}function $r(){var e=ia([":\u241ff33f1381d29bb061f89b1fac910e9e46a79951e8\u241f8817686795284035107:Rechnung anlegen"]);return $r=function(){return e},e}function xr(){var e=ia([":\u241fa3c6df0fb3649cf45136c763ca88cd227bfb1881\u241f4623218398136502207:Skonto bis:"]);return xr=function(){return e},e}function _r(){var e=ia([":\u241f759813d4f34e8e8f131b948c7e8ea9fc67d75ce4\u241f3351250999105513410:F\xe4llig am:"]);return _r=function(){return e},e}function Mr(){var e=ia([":\u241fcec042b34b135ba1e074e9c71bc58442467a4726\u241f2239498602725263916:Zahlungsbetrag:"]);return Mr=function(){return e},e}function zr(){var e=ia([":\u241faafbdfda51ce775ad6a113cbe1c690026da2983b\u241f3199272327871980552:Bruttobetrag:"]);return zr=function(){return e},e}function Ar(){var e=ia([":\u241fb80273e5afac745feea1c991f5b54fe2a8d94553\u241f5447327385997433069:Umsatzsteuer:"]);return Ar=function(){return e},e}function Br(){var e=ia([":\u241ff2c18f28d6232578373305c2a780470355b5d4d2\u241f4556182243950806904:Nettobetrag:"]);return Br=function(){return e},e}function Rr(){var e=ia([":\u241fdca8c49916cbbed073d45ca0d979aca6126203e5\u241f88645063683715768:Vertrag: "]);return Rr=function(){return e},e}function Er(){var e=ia([":\u241f480040df1cf4a798962a307be25a8a2d7fb05490\u241f314743073997725143:Vertrag anlegen"]);return Er=function(){return e},e}function Nr(){var e=ia([":\u241f2fa7f127bb34e7481f137773182c25a04145fa14\u241f3739328082463643360:Letzte Rechnung:"]);return Nr=function(){return e},e}function Fr(){var e=ia([":\u241f0b7867162cf91f56c7f5522c5625d969ed9ebb88\u241f18929326236790508:Umsatz:"]);return Fr=function(){return e},e}function Lr(){var e=ia([":\u241f65a37375902cd6566f622d7f93caad03b955ecbc\u241f6159327805228198628:Budget:"]);return Lr=function(){return e},e}function Xr(){var e=ia([":\u241f8a113be54d0dcaf1307352671cb723771d9c1ccb\u241f4290228741319410457:Vertragsende:"]);return Xr=function(){return e},e}function qr(){var e=ia([":\u241fa301530b6f95d475f9a64ba716401cdf34417b31\u241f109610543903303314:Vertragsbeginn:"]);return qr=function(){return e},e}function Hr(){var e=ia([":\u241f1869a4223c33665483422f5a4ac8f65f267b50d7\u241f1885929916887047907:Vertragspartner:"]);return Hr=function(){return e},e}function Ur(){var e=ia([":\u241fa813fd43c9a1b211fe541045d263d2c500c80f0f\u241f4580399730639224598:L\xf6schen"]);return Ur=function(){return e},e}function Vr(){var e=ia([":\u241ffeabfc384269a35e1f051ef9302a4b5624f3a69a\u241f6421015407864399648:Kopieren"]);return Vr=function(){return e},e}function Gr(){var e=ia([":\u241f4f8b2bb476981727ab34ed40fde1218361f92c45\u241f5028777105388019087:Details"]);return Gr=function(){return e},e}function Yr(e){return function(e){if(Array.isArray(e))return Qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function Jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=ta(e);if(t){var r=ta(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return ea(this,n)}}function ea(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function ra(e,t,n){return t&&ca(e.prototype,t),n&&ca(e,n),e}function aa(){var e=ia([":\u241f6eaff43622783690eb1378edc67cb0c18a738dc3\u241f1297952410119052522: confirmations works!\n"]);return aa=function(){return e},e}function ia(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kkST:function(Zr,Qr,Kr){"use strict";Kr.r(Qr),Kr.d(Qr,"clearState",(function(){return Wj})),Kr.d(Qr,"metaReducers",(function(){return tS})),Kr.d(Qr,"InvoicingModule",(function(){return nS}));var ea,ta=Kr("l7P3"),ca=Kr("9jGm"),ia=Kr("KZX/"),oa=Kr("TIaw"),ua=Kr("tyNb"),la=Kr("fXoL");ea=$localize(aa());var sa,ba,da,fa,ma,ha,ga,pa,va,ya,Ca,Oa,ja,Sa,Ta,wa=((sa=function(){function e(){na(this,e)}return ra(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||sa)},sa.\u0275cmp=la.Hb({type:sa,selectors:[["jo-confirmations"]],decls:2,vars:0,template:function(e,t){1&e&&(la.Tb(0,"p"),la.Xb(1,ea),la.Sb())},styles:[""],changeDetection:0}),sa),ka=Kr("R0sL"),Da=Kr("HgwG"),Ia=Object(ka.a)({selectId:function(e){return e.id},sortComparer:function(e,t){return e.id.localeCompare(t.id)}}),Pa=Ia.getInitialState({loaded:!1,loading:!1,error:void 0}),$a=Ia.getSelectors().selectEntities,xa=Kr("CE/k"),_a=Object(ka.a)({selectId:function(e){return e.id},sortComparer:function(e,t){return e.name.localeCompare(t.name)}}),Ma=_a.getInitialState({loaded:!1,loading:!1,current:void 0,error:void 0}),za=_a.getSelectors(),Aa=za.selectIds,Ba=za.selectEntities,Ra=za.selectAll,Ea=Kr("Avje"),Na=Object(ka.a)({selectId:function(e){return e.id},sortComparer:!1}),Fa=Na.getInitialState({loaded:!1,loading:!1,current:void 0,error:void 0}),La=Na.getSelectors(),Xa=La.selectEntities,qa=La.selectAll,Ha=Kr("m2JN"),Ua=Object(ka.a)({selectId:function(e){return e.id},sortComparer:function(e,t){return t.issuedAt.getTime()-e.issuedAt.getTime()||e.id.localeCompare(t.id)}}),Va=Ua.getInitialState({loaded:!1,loading:!1,current:void 0,error:void 0}),Ga=Ua.getSelectors(),Ya=Ga.selectEntities,Za=Ga.selectAll,Qa=Kr("cGgE"),Ja=Object(ka.a)({selectId:function(e){return e.path},sortComparer:function(e,t){return e.path.localeCompare(t.path)}}),Ka=Ja.getInitialState({loaded:!1,loading:!1,error:void 0}),Wa=Ja.getSelectors(),ei=Wa.selectEntities,ti=Wa.selectAll,ni=Kr("ZnGM"),ci=Object(ka.a)({selectId:function(e){return e.id},sortComparer:function(e,t){return e.id.localeCompare(t.id)}}),ri=ci.getInitialState({loaded:!1,loading:!1,current:void 0,error:void 0}),ai=ci.getSelectors(),ii=ai.selectEntities,oi=ai.selectAll,ui=Kr("uKI6"),li=Object(ka.a)({selectId:function(e){return e.id},sortComparer:function(e,t){return t.id.localeCompare(e.id)}}),si=li.getInitialState({loaded:!1,loading:!1,error:void 0}),bi=li.getSelectors(),di=bi.selectIds,fi=bi.selectEntities,mi=bi.selectAll,hi=bi.selectTotal,gi={numberRanges:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Da.c:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0});case Da.a:return Ia.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case Da.b:return Ia.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case Da.e:return Ia.removeOne(t.payload.id,e);default:return e}},receivers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xa.u:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0,current:void 0});case xa.a:return _a.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case xa.r:return _a.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case xa.w:return _a.removeOne(t.payload.id,e);case xa.c:var n={isDirty:!0,receiver:t.payload};return Object.assign(Object.assign({},e),{current:n,error:void 0});case xa.s:var c={isDirty:!0,receiver:t.payload};return Object.assign(Object.assign({},e),{current:c,error:void 0});case xa.x:var r={isDirty:!1,receiver:t.payload};return Object.assign(Object.assign({},e),{current:r,error:void 0});case xa.b:var a={isDirty:!0,receiver:t.payload};return Object.assign(Object.assign({},e),{current:a,error:void 0});default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ea.u:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0,current:void 0});case Ea.a:return Na.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case Ea.r:return Na.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case Ea.w:return Na.removeOne(t.payload.id,e);case Ea.c:var n={isDirty:!0,contract:t.payload};return Object.assign(Object.assign({},e),{current:n,error:void 0});case Ea.s:var c={isDirty:!0,contract:t.payload};return Object.assign(Object.assign({},e),{current:c,error:void 0});case Ea.y:var r={isDirty:!1,contract:t.payload};return Object.assign(Object.assign({},e),{current:r,error:void 0});case Ea.b:var a={isDirty:!0,contract:t.payload};return Object.assign(Object.assign({},e),{current:a,error:void 0});case Ea.x:return Na.removeAll(Object.assign(Object.assign({},e),{loading:!1,loaded:!1,current:void 0}));default:return e}},invoices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.C:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0,current:void 0});case Ha.a:return Ua.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case Ha.x:if(t.payload.id===e.current.invoice.id){var n=Object.assign({},e.current.invoice,t.payload),c={isDirty:e.current.isDirty,invoice:n};return Ua.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0,current:c}))}return Ua.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case Ha.E:return Ua.removeOne(t.payload.id,e);case Ha.c:var r={isDirty:!0,invoice:t.payload};return Object.assign(Object.assign({},e),{current:r,error:void 0});case Ha.y:var a={isDirty:!0,invoice:t.payload};return Object.assign(Object.assign({},e),{current:a,error:void 0});case Ha.z:var i={isDirty:!0,invoice:t.payload};return Object.assign(Object.assign({},e),{current:i,error:void 0});case Ha.F:var o={isDirty:!1,invoice:t.payload};return Object.assign(Object.assign({},e),{current:o,error:void 0});case Ha.b:var u={isDirty:!0,invoice:t.payload};return Object.assign(Object.assign({},e),{current:u,error:void 0});default:return e}},documentLinks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.m:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0});case Qa.a:return Ja.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case Qa.k:return Ja.updateOne({id:t.payload.path,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case Qa.q:return Ja.removeOne(t.payload.path,e);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ni.p:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0,current:void 0});case ni.a:return ci.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case ni.n:return ci.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case ni.r:return ci.removeOne(t.payload.id,e);case ni.c:var n={isDirty:!0,setting:t.payload};return Object.assign(Object.assign({},e),{current:n,error:void 0});case ni.o:var c={isDirty:!0,setting:t.payload};return Object.assign(Object.assign({},e),{current:c,error:void 0});case ni.s:var r={isDirty:!1,setting:t.payload};return Object.assign(Object.assign({},e),{current:r,error:void 0});case ni.b:var a={isDirty:!0,setting:t.payload};return Object.assign(Object.assign({},e),{current:a,error:void 0});default:return e}},revenues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ui.c:return Object.assign(Object.assign({},e),{loading:!0,loaded:!1,error:void 0});case ui.a:return li.addOne(t.payload,Object.assign(Object.assign({},e),{loaded:!0,loading:!1,error:void 0}));case ui.b:return li.updateOne({id:t.payload.id,changes:t.payload},Object.assign(Object.assign({},e),{error:void 0}));case ui.e:return li.removeOne(t.payload.id,e);default:return e}}},pi=Object(ta.o)("invoicing"),vi=Kr("S6UB"),yi=Kr("eIep"),Ci=Kr("5+tZ"),Oi=Kr("lJxs"),ji=Kr("dNeE"),Si={"contract-create-fail":{text:"Der Vertrag konnte nicht angelegt werden. [$%]",usage:"error"},"contract-delete-fail":{text:"Der Vertrag konnte nicht gel\xf6scht werden. [$%]",usage:"error"},"contract-delete-success":{text:"Der Vertrag $% wurde gel\xf6scht.",usage:"success"},"contract-update-fail":{text:"Der Vertrag konnte nicht ge\xe4ndert werden. [$%]",usage:"error"},"contract-update-success":{text:"Der Vertrag $% wurde ge\xe4ndert.",usage:"success"},"file-delete-fail":{text:"Die Datei $% konnte nicht gel\xf6scht werden.",usage:"error"},"file-delete-success":{text:"Die Datei $% wurde gel\xf6scht.",usage:"success"},"file-download-fail":{text:"Die Datei $% konnte nicht heruntergeladen werden.",usage:"error"},"file-download-success":{text:"Die Datei $% wurde heruntergeladen.",usage:"success"},"file-upload-fail":{text:"Die Datei $% konnte nicht hochgeladen werden.",usage:"error"},"file-upload-success":{text:"Die Datei $% wurde hochgeladen.",usage:"success"},"invoice-create-fail":{text:"Die Rechnung konnte nicht angelegt werden. [$%]",usage:"error"},"invoice-delete-fail":{text:"Die Rechnung $% konnte nicht gel\xf6scht werden.",usage:"error"},"invoice-delete-success":{text:"Die Rechnung $% wurde gel\xf6scht.",usage:"success"},"invoice-email-fail":{text:"Die Rechnung konnte nicht per Email versandt werden.",usage:"error"},"invoice-email-success":{text:"Die Rechnung wurde per Email versandt.",usage:"success"},"invoice-update-fail":{text:"Die Rechnung $% konnte nicht ge\xe4ndert werden.",usage:"error"},"invoice-update-success":{text:"Die Rechnung $% wurde ge\xe4ndert.",usage:"success"},"invoice-pdf-created":{text:"Das PDF f\xfcr die Rechnung wurde erstellt und gespeichert.",usage:"success"},"invoice-pdf-failed":{text:"Das PDF f\xfcr die Rechnung konnte nicht erstellt werden.",usage:"error"},"permission-denied":{text:"Die Aktion wurde mangels ausreichender Berechtigung abgebrochen.",usage:"error"},"receiver-create-fail":{text:"Der Rechnungsempf\xe4nger konnte nicht angelegt werden. [$%]",usage:"error"},"receiver-create-success":{text:"Der Rechnungsempf\xe4nger $% wurde angelegt.",usage:"success"},"receiver-delete-fail":{text:"Der Rechnungsempf\xe4nger konnte nicht gel\xf6scht werden. [$%]",usage:"error"},"receiver-delete-success":{text:"Der Rechnungsempf\xe4nger $% wurde gel\xf6scht.",usage:"success"},"receiver-update-fail":{text:"Der Rechnungsempf\xe4nger konnte nicht ge\xe4ndert werden. [$%]",usage:"error"},"receiver-update-success":{text:"Der Rechnungsempf\xe4nger $% wurde ge\xe4ndert.",usage:"success"},"setting-delete-fail":{text:"Die Einstellung $% konnte nicht gel\xf6scht werden. [$%]",usage:"error"},"setting-delete-success":{text:"Die Einstellung $% wurde gel\xf6scht.",usage:"success"},"setting-update-fail":{text:"Die Einstellung konnte nicht ge\xe4ndert werden. [$%]",usage:"error"},"setting-update-success":{text:"Die Einstellung $% wurde ge\xe4ndert.",usage:"success"},"storage/object-not-found":{text:"Die Datei existiert nicht. ",usage:"error"}},Ti=Kr("bnn5"),wi=function(){function e(t,n,c){na(this,e),this.fbStore=t,this.collectionName=n,this.collectionOrderBy=c,this.col=this.fbStore.assignCollection(n,c),this.messages=new Ti.Messages(Si)}return ra(e,[{key:"queryAll",value:function(){return this.fbStore.queryAll(this.col)}},{key:"create",value:function(e){var t=this;return Object(ji.from)(this.fbStore.documentExists(this.col,e).then((function(n){if(n)throw new Error("Document with id ".concat(e.id," already exists. Check number ranges."));return t.fbStore.createDocument(t.col,e)})))}},{key:"delete",value:function(e){var t=this;return Object(ji.from)(this.fbStore.documentExists(this.col,e).then((function(n){if(!n)throw new Error("Document with id ".concat(e.id," does not exist."));return t.fbStore.deleteDocument(t.col,e)})))}},{key:"update",value:function(e){return this.fbStore.updateDocument(this.col,e)}},{key:"getMessage",value:function(e,t){return t&&t.length>0?this.messages.getMessageWithParams(e,t):this.messages.getMessage(e)}}]),e}(),ki=Kr("trtW"),Di=((ba=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbStore=e,c}return n}(wi)).COLLECTION_NAME="receivers",ba.COLLECTION_ORDERBY={fieldName:"id",direction:"asc"},ba.\u0275fac=function(e){return new(e||ba)(la.Zb(ki.a))},ba.\u0275prov=la.Jb({token:ba,factory:ba.\u0275fac}),ba),Ii=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(c=Object.getOwnPropertySymbols(e);r<c.length;r++)t.indexOf(c[r])<0&&Object.prototype.propertyIsEnumerable.call(e,c[r])&&(n[c[r]]=e[c[r]])}return n},Pi=((da=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbStore=e,c}return ra(n,null,[{key:"mapToBDO",value:function(e){var t=Ti.ContractTermFactory.fromDates(e.startDate,e.endDate),n=Ii(e,["startDate","endDate"]);return Object.assign(Object.assign({},n),{term:t})}},{key:"mapToDTO",value:function(e){var t=Ii(e,["term"]);return Object.assign(Object.assign({},t),{startDate:e.term.startDate,endDate:e.term.endDate})}}]),n}(wi)).COLLECTION_NAME="contracts",da.COLLECTION_ORDERBY={fieldName:"issuedAt",direction:"desc"},da.\u0275fac=function(e){return new(e||da)(la.Zb(ki.a))},da.\u0275prov=la.Jb({token:da,factory:da.\u0275fac}),da),$i=Kr("ZDzL"),xi=((pa=function(e){Jr(n,e);var t=Wr(n);function n(e,c){var r;return na(this,n),(r=t.call(this,c,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbFunctions=e,r.fbStore=c,r}return ra(n,[{key:"createInvoicePDF",value:function(e){return this.fbFunctions.createInvoicePDF(e)}},{key:"sendInvoiceEmail",value:function(e){return this.fbFunctions.sendInvoiceEmail(e)}}]),n}(wi)).COLLECTION_NAME="invoices",pa.COLLECTION_ORDERBY={fieldName:"issuedAt",direction:"desc"},pa.\u0275fac=function(e){return new(e||pa)(la.Zb($i.a),la.Zb(ki.a))},pa.\u0275prov=la.Jb({token:pa,factory:pa.\u0275fac}),pa),_i=((ga=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbStore=e,c}return n}(wi)).COLLECTION_NAME="settings",ga.COLLECTION_ORDERBY={fieldName:"id",direction:"asc"},ga.\u0275fac=function(e){return new(e||ga)(la.Zb(ki.a))},ga.\u0275prov=la.Jb({token:ga,factory:ga.\u0275fac}),ga),Mi=((ha=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME)).fbStore=e,c}return n}(wi)).COLLECTION_NAME="number-ranges",ha.\u0275fac=function(e){return new(e||ha)(la.Zb(ki.a))},ha.\u0275prov=la.Jb({token:ha,factory:ha.\u0275fac}),ha),zi=((ma=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbStore=e,c}return ra(n,[{key:"queryForObject",value:function(e){return this.fbStore.queryAllDocumentLinksForObject(e)}},{key:"create",value:function(e){return this.fbStore.createDocumentLink(e)}}]),n}(wi)).COLLECTION_NAME="document-links",ma.COLLECTION_ORDERBY={fieldName:"path",direction:"asc"},ma.\u0275fac=function(e){return new(e||ma)(la.Zb(ki.a))},ma.\u0275prov=la.Jb({token:ma,factory:ma.\u0275fac}),ma),Ai=((fa=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e,n.COLLECTION_NAME,n.COLLECTION_ORDERBY)).fbStore=e,c}return n}(wi)).COLLECTION_NAME="revenues",fa.COLLECTION_ORDERBY={fieldName:"id",direction:"desc"},fa.\u0275fac=function(e){return new(e||fa)(la.Zb(ki.a))},fa.\u0275prov=la.Jb({token:fa,factory:fa.\u0275fac}),fa),Bi=[Mi,Di,Pi,xi,_i,zi,Ai],Ri=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ei=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ni=((va=function e(t,n){var c=this;na(this,e),this.actions$=t,this.numberRangesService=n,this.queryNumberRanges$=this.actions$.pipe(Object(ca.e)(Da.c),Object(yi.a)((function(e){return c.numberRangesService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Oi.a)((function(e){return{type:"[Invoicing] Number Range "+e.type,payload:Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id})}}))),this.updateNumberRange$=this.actions$.pipe(Object(ca.e)(Da.f),Object(Oi.a)((function(e){return e})),Object(yi.a)((function(e){return c.numberRangesService.update(e)})),Object(Oi.a)((function(){return new Da.g})))}).\u0275fac=function(e){return new(e||va)(la.Zb(ca.a),la.Zb(Mi))},va.\u0275prov=la.Jb({token:va,factory:va.\u0275fac}),Ri([Object(ca.b)(),Ei("design:type",Object)],va.prototype,"queryNumberRanges$",void 0),Ri([Object(ca.b)(),Ei("design:type",Object)],va.prototype,"updateNumberRange$",void 0),va),Fi=Kr("pLZG"),Li=Kr("vkgz"),Xi=Kr("JIr8"),qi=Kr("YZbJ"),Hi=Kr("LzxC"),Ui=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Vi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gi=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Yi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zi=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Qi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ji=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ki=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wi=function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},eo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},to=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},no=[Ni,(Ta=function e(t,n,c){var r=this;na(this,e),this.actions$=t,this.receiversService=n,this.store=c,this.queryReceivers$=this.actions$.pipe(Object(ca.e)(xa.u),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(){return r.store.pipe(Object(ta.r)(Hi.b)).pipe(Object(Fi.a)((function(e){return!!e})),Object(Li.a)((function(e){return r.auth=e})),Object(yi.a)((function(e){return r.receiversService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Fi.a)((function(e){return e.payload.doc.data().organization===r.auth.organization})),Object(Oi.a)((function(e){return{type:"[Invoicing] Receiver "+e.type,payload:Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id})}})))}))),this.updateReceiver$=this.actions$.pipe(Object(ca.e)(xa.z),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.receiversService.update(e).pipe(Object(Oi.a)((function(e){return new xa.E(e)})),Object(Xi.a)((function(e){return console.error(e),Object(ji.of)(new xa.D(e))})))}))),this.updateReceiverSuccess$=this.actions$.pipe(Object(ca.e)(xa.B),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.receiversService.getMessage("receiver-update-success",[e.id])}),new qi.c({path:["/invoicing/receivers"]})]}))),this.updateReceiverFail$=this.actions$.pipe(Object(ca.e)(xa.A),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.receiversService.getMessage("receiver-update-fail",[e.message])})]}))),this.createReceiver$=this.actions$.pipe(Object(ca.e)(xa.d),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.receiversService.create(e).pipe(Object(Oi.a)((function(e){return new xa.k(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new xa.j(e))})))}))),this.createReceiverSuccess$=this.actions$.pipe(Object(ca.e)(xa.f),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.c({path:["/invoicing/receivers",e.id]})]}))),this.createReceiverFail$=this.actions$.pipe(Object(ca.e)(xa.e),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.receiversService.getMessage("receiver-create-fail",[e.message])})]}))),this.deleteReceiver$=this.actions$.pipe(Object(ca.e)(xa.l),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.receiversService.delete(e).pipe(Object(Oi.a)((function(){return new xa.q(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new xa.p(e))})))}))),this.deleteReceiverSuccess$=this.actions$.pipe(Object(ca.e)(xa.n),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.receiversService.getMessage("receiver-delete-success",[e.id])}),new qi.c({path:["/invoicing/receivers"]})]}))),this.deleteReceiverFail$=this.actions$.pipe(Object(ca.e)(xa.m),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.receiversService.getMessage("receiver-delete-fail",[e.message])})]}))),this.copyReceiverSuccess$=this.actions$.pipe(Object(ca.e)(xa.c),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/receivers","copy"]})}))),this.newReceiverSuccess$=this.actions$.pipe(Object(ca.e)(xa.s),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/receivers","new"]})})))},Ta.\u0275fac=function(e){return new(e||Ta)(la.Zb(ca.a),la.Zb(Di),la.Zb(ta.h))},Ta.\u0275prov=la.Jb({token:Ta,factory:Ta.\u0275fac}),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"queryReceivers$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"updateReceiver$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"updateReceiverSuccess$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"updateReceiverFail$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"createReceiver$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"createReceiverSuccess$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"createReceiverFail$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"deleteReceiver$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"deleteReceiverSuccess$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"deleteReceiverFail$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"copyReceiverSuccess$",void 0),Ui([Object(ca.b)(),Vi("design:type",Object)],Ta.prototype,"newReceiverSuccess$",void 0),Ta),(Sa=function e(t,n,c){var r=this;na(this,e),this.actions$=t,this.contractsService=n,this.store=c,this.queryContracts$=this.actions$.pipe(Object(ca.e)(Ea.u),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(){return r.store.pipe(Object(ta.r)(Hi.b)).pipe(Object(Fi.a)((function(e){return!!e})),Object(Li.a)((function(e){return r.auth=e})),Object(yi.a)((function(e){return r.contractsService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Fi.a)((function(e){return e.payload.doc.data().organization===r.auth.organization})),Object(Oi.a)((function(e){var t="[Invoicing] Contract "+e.type,n=Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id});return n.issuedAt=n.issuedAt.toDate(),n.startDate=n.startDate.toDate(),n.endDate=n.endDate.toDate(),{type:t,payload:Pi.mapToBDO(n)}})))}))),this.updateContract$=this.actions$.pipe(Object(ca.e)(Ea.A),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.contractsService.update(Pi.mapToDTO(e)).pipe(Object(Oi.a)((function(e){return new Ea.F(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ea.E(e))})))}))),this.updateContractSuccess$=this.actions$.pipe(Object(ca.e)(Ea.C),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.contractsService.getMessage("contract-update-success",[e.id])}),new qi.c({path:["/invoicing/contracts"]})]}))),this.updateContractFail$=this.actions$.pipe(Object(ca.e)(Ea.B),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.contractsService.getMessage("contract-update-fail",[e.message])})]}))),this.createContract$=this.actions$.pipe(Object(ca.e)(Ea.d),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.contractsService.create(Pi.mapToDTO(e)).pipe(Object(Oi.a)((function(e){return new Ea.k(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ea.j(e))})))}))),this.createContractSuccess$=this.actions$.pipe(Object(ca.e)(Ea.f),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.c({path:["/invoicing/contracts",e.id]})]}))),this.createContractFail$=this.actions$.pipe(Object(ca.e)(Ea.e),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.contractsService.getMessage("contract-create-fail",[e.message])})]}))),this.deleteContract$=this.actions$.pipe(Object(ca.e)(Ea.l),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.contractsService.delete(Pi.mapToDTO(e)).pipe(Object(Oi.a)((function(){return new Ea.q(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ea.p(e))})))}))),this.deleteContractSuccess$=this.actions$.pipe(Object(ca.e)(Ea.n),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.contractsService.getMessage("contract-delete-success",[e.id])}),new qi.c({path:["/invoicing/contracts"]})]}))),this.deleteContractFail$=this.actions$.pipe(Object(ca.e)(Ea.m),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.contractsService.getMessage("contract-delete-fail",[e.message])})]}))),this.copyContractSuccess$=this.actions$.pipe(Object(ca.e)(Ea.c),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/contracts","copy"]})}))),this.newContractSuccess$=this.actions$.pipe(Object(ca.e)(Ea.s),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/contracts","new"]})})))},Sa.\u0275fac=function(e){return new(e||Sa)(la.Zb(ca.a),la.Zb(Pi),la.Zb(ta.h))},Sa.\u0275prov=la.Jb({token:Sa,factory:Sa.\u0275fac}),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"queryContracts$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"updateContract$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"updateContractSuccess$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"updateContractFail$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"createContract$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"createContractSuccess$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"createContractFail$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"deleteContract$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"deleteContractSuccess$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"deleteContractFail$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"copyContractSuccess$",void 0),Gi([Object(ca.b)(),Yi("design:type",Object)],Sa.prototype,"newContractSuccess$",void 0),Sa),(ja=function e(t,n,c){var r=this;na(this,e),this.actions$=t,this.invoicesService=n,this.store=c,this.queryInvoices$=this.actions$.pipe(Object(ca.e)(Ha.C),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(){return r.store.pipe(Object(ta.r)(Hi.b)).pipe(Object(Fi.a)((function(e){return!!e})),Object(Li.a)((function(e){return r.auth=e})),Object(yi.a)((function(e){return r.invoicesService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Fi.a)((function(e){return e.payload.doc.data().organization===r.auth.organization})),Object(Oi.a)((function(e){var t="[Invoicing] Invoice "+e.type,n=Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id});return n.issuedAt=n.issuedAt.toDate(),{type:t,payload:n}})))}))),this.updateInvoice$=this.actions$.pipe(Object(ca.e)(Ha.N),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.invoicesService.update(e).pipe(Object(Oi.a)((function(e){return new Ha.S(e)})),Object(Xi.a)((function(e){return console.error(e),Object(ji.of)(new Ha.R(e))})))}))),this.updateInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.P),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-update-success",[e.id])}),new qi.c({path:["/invoicing/invoices"]})]}))),this.updateInvoiceFail$=this.actions$.pipe(Object(ca.e)(Ha.O),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-update-fail",[e.message])})]}))),this.createInvoice$=this.actions$.pipe(Object(ca.e)(Ha.d),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.invoicesService.create(e).pipe(Object(Oi.a)((function(e){return new Ha.q(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ha.m(e))})))}))),this.createInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.i),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.c({path:["/invoicing/invoices",e.id]})]}))),this.createInvoiceFail$=this.actions$.pipe(Object(ca.e)(Ha.e),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-create-fail",[e.message])})]}))),this.deleteInvoice$=this.actions$.pipe(Object(ca.e)(Ha.r),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.invoicesService.delete(e).pipe(Object(Oi.a)((function(e){return new Ha.w(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ha.v(e))})))}))),this.deleteInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.t),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-delete-success",[e.id])}),new qi.c({path:["/invoicing/invoices"]})]}))),this.deleteInvoiceFail$=this.actions$.pipe(Object(ca.e)(Ha.s),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-delete-fail",[e.message])})]}))),this.copyInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.c),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/invoices","copy"]})}))),this.newInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.y),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/invoices","new"]})}))),this.newQuickInvoiceSuccess$=this.actions$.pipe(Object(ca.e)(Ha.z),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/invoices","quick"]})}))),this.createInvoicePdf$=this.actions$.pipe(Object(ca.e)(Ha.f),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.invoicesService.createInvoicePDF(e).pipe(Object(Oi.a)((function(e){return new Ha.p(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ha.o(e))})))}))),this.createInvoicePdfFail$=this.actions$.pipe(Object(ca.e)(Ha.g),Object(Li.a)((function(e){return console.error(e)})),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-pdf-failed")})]}))),this.createInvoicePdfSuccess$=this.actions$.pipe(Object(ca.e)(Ha.h),Object(Li.a)((function(){return console.log("*** CreateInvoicePdfSuccess")})),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.invoicesService.getMessage("invoice-pdf-created")})]}))),this.sendInvoiceEmail$=this.actions$.pipe(Object(ca.e)(Ha.G),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.invoicesService.sendInvoiceEmail(e).pipe(Object(Li.a)((function(){return r.store.dispatch(new qi.h)})),Object(Oi.a)((function(e){return new Ha.M(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Ha.L(e))})))}))),this.sendInvoiceEmailFail$=this.actions$.pipe(Object(ca.e)(Ha.H),Object(Li.a)((function(e){return console.error(e)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return[new qi.e({message:r.invoicesService.getMessage("invoice-email-fail")})]}))),this.sendInvoiceEmailSuccess$=this.actions$.pipe(Object(ca.e)(Ha.I),Object(Li.a)((function(){return console.log("*** SendInvoiceEmailSuccess")})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return[new qi.e({message:r.invoicesService.getMessage("invoice-email-success")})]})))},ja.\u0275fac=function(e){return new(e||ja)(la.Zb(ca.a),la.Zb(xi),la.Zb(ta.h))},ja.\u0275prov=la.Jb({token:ja,factory:ja.\u0275fac}),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"queryInvoices$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"updateInvoice$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"updateInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"updateInvoiceFail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoice$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoiceFail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"deleteInvoice$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"deleteInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"deleteInvoiceFail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"copyInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"newInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"newQuickInvoiceSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoicePdf$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoicePdfFail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"createInvoicePdfSuccess$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"sendInvoiceEmail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"sendInvoiceEmailFail$",void 0),Zi([Object(ca.b)(),Qi("design:type",Object)],ja.prototype,"sendInvoiceEmailSuccess$",void 0),ja),(Oa=function e(t,n,c){var r=this;na(this,e),this.actions$=t,this.settingsService=n,this.store=c,this.querySettings$=this.actions$.pipe(Object(ca.e)(ni.p),Object(yi.a)((function(e){return r.settingsService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Oi.a)((function(e){var t="[Invoicing] Setting "+e.type,n=Object.assign({},e.payload.doc.data());return n.values.forEach((function(e){e.validFrom&&(e.validFrom=e.validFrom.toDate()),e.validTo&&(e.validTo=e.validTo.toDate())})),{type:t,payload:n}}))),this.updateSetting$=this.actions$.pipe(Object(ca.e)(ni.t),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.settingsService.update(e).pipe(Object(Oi.a)((function(e){return new ni.y(e)})),Object(Xi.a)((function(e){return console.error(e),Object(ji.of)(new ni.x(e))})))}))),this.updateSettingSuccess$=this.actions$.pipe(Object(ca.e)(ni.v),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.settingsService.getMessage("setting-update-success",[e.id])})]}))),this.updateSettingFail$=this.actions$.pipe(Object(ca.e)(ni.u),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.settingsService.getMessage("setting-update-fail",[e.message])})]}))),this.createSetting$=this.actions$.pipe(Object(ca.e)(ni.d),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.settingsService.create(e).pipe(Object(Oi.a)((function(e){return new ni.h(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new ni.g(e))})))}))),this.createSettingSuccess$=this.actions$.pipe(Object(ca.e)(ni.f),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.c({path:["/invoicing/settings",e.id]})]}))),this.createSettingFail$=this.actions$.pipe(Object(ca.e)(ni.e),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.settingsService.getMessage("setting-create-fail",[e.message])})]}))),this.deleteSetting$=this.actions$.pipe(Object(ca.e)(ni.i),Object(Li.a)((function(){return r.store.dispatch(new qi.g)})),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return r.settingsService.delete(e).pipe(Object(Oi.a)((function(){return new ni.m(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new ni.l(e))})))}))),this.deleteSettingSuccess$=this.actions$.pipe(Object(ca.e)(ni.k),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.settingsService.getMessage("setting-deleted",[e.id])})]}))),this.deleteSettingFail$=this.actions$.pipe(Object(ca.e)(ni.j),Object(Oi.a)((function(e){return e.payload})),Object(Ci.a)((function(e){return[new qi.h,new qi.e({message:r.settingsService.getMessage("setting-delete-fail",[e.message])})]}))),this.copySettingSuccess$=this.actions$.pipe(Object(ca.e)(ni.c),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/settings","copy"]})}))),this.newSettingSuccess$=this.actions$.pipe(Object(ca.e)(ni.o),Object(Oi.a)((function(e){return e.payload})),Object(Oi.a)((function(e){return new qi.c({path:["/invoicing/settings","new"]})})))},Oa.\u0275fac=function(e){return new(e||Oa)(la.Zb(ca.a),la.Zb(_i),la.Zb(ta.h))},Oa.\u0275prov=la.Jb({token:Oa,factory:Oa.\u0275fac}),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"querySettings$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"updateSetting$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"updateSettingSuccess$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"updateSettingFail$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"createSetting$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"createSettingSuccess$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"createSettingFail$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"deleteSetting$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"deleteSettingSuccess$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"deleteSettingFail$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"copySettingSuccess$",void 0),Ji([Object(ca.b)(),Ki("design:type",Object)],Oa.prototype,"newSettingSuccess$",void 0),Oa),(Ca=function e(t,n){var c=this;na(this,e),this.actions$=t,this.documentLinksService=n,this.queryDocumentLinks$=this.actions$.pipe(Object(ca.e)(Qa.m),Object(yi.a)((function(e){return c.documentLinksService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Oi.a)((function(e){return{type:"[Invoicing] Document Link "+e.type,payload:Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id})}}))),this.queryDocumentLinksForObject$=this.actions$.pipe(Object(ca.e)(Qa.n),Object(Oi.a)((function(e){return e})),Object(yi.a)((function(e){return c.documentLinksService.queryForObject(e.payload)})),Object(Ci.a)((function(e){return e})),Object(Oi.a)((function(e){return{type:"[Invoicing] Document Link "+e.type,payload:Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id})}}))),this.updateDocumentLink$=this.actions$.pipe(Object(ca.e)(Qa.r),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return c.documentLinksService.update(e).pipe(Object(Oi.a)((function(e){return new Qa.u(e)})),Object(Xi.a)((function(e){return console.error(e),Object(ji.of)(new Qa.t(e))})))}))),this.createDocumentLink$=this.actions$.pipe(Object(ca.e)(Qa.b),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return c.documentLinksService.create(e).pipe(Object(Oi.a)((function(e){return new Qa.f(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Qa.e(e))})))}))),this.deleteDocumentLink$=this.actions$.pipe(Object(ca.e)(Qa.g),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(e){return c.documentLinksService.delete(e).pipe(Object(Oi.a)((function(){return new Qa.j(e)})),Object(Xi.a)((function(e){return Object(ji.of)(new Qa.i(e))})))})))},Ca.\u0275fac=function(e){return new(e||Ca)(la.Zb(ca.a),la.Zb(zi))},Ca.\u0275prov=la.Jb({token:Ca,factory:Ca.\u0275fac}),Wi([Object(ca.b)(),eo("design:type",Object)],Ca.prototype,"queryDocumentLinks$",void 0),Wi([Object(ca.b)(),eo("design:type",Object)],Ca.prototype,"queryDocumentLinksForObject$",void 0),Wi([Object(ca.b)(),eo("design:type",Object)],Ca.prototype,"updateDocumentLink$",void 0),Wi([Object(ca.b)(),eo("design:type",Object)],Ca.prototype,"createDocumentLink$",void 0),Wi([Object(ca.b)(),eo("design:type",Object)],Ca.prototype,"deleteDocumentLink$",void 0),Ca),(ya=function e(t,n,c){var r=this;na(this,e),this.actions$=t,this.revenuesService=n,this.store=c,this.queryRevenues$=this.actions$.pipe(Object(ca.e)(ui.c),Object(Oi.a)((function(e){return e.payload})),Object(yi.a)((function(){return r.store.pipe(Object(ta.r)(Hi.b)).pipe(Object(Fi.a)((function(e){return!!e})),Object(Li.a)((function(e){return r.auth=e})),Object(yi.a)((function(e){return r.revenuesService.queryAll()})),Object(Ci.a)((function(e){return e})),Object(Fi.a)((function(e){return e.payload.doc.data().organization===r.auth.organization})),Object(Oi.a)((function(e){return{type:"[Invoicing] Revenue "+e.type,payload:Object.assign(Object.assign({},e.payload.doc.data()),{id:e.payload.doc.id.substring(0,4)})}})))})))},ya.\u0275fac=function(e){return new(e||ya)(la.Zb(ca.a),la.Zb(Ai),la.Zb(ta.h))},ya.\u0275prov=la.Jb({token:ya,factory:ya.\u0275fac}),function(e,t,n,c){var r,a=arguments.length,i=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,c);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);a>3&&i&&Object.defineProperty(t,n,i)}([Object(ca.b)(),to("design:type",Object)],ya.prototype,"queryRevenues$",void 0),ya)],co=Object(ta.p)(pi,(function(e){return e.numberRanges})),ro=Object(ta.p)(co,$a),ao=Object(ta.p)(co,(function(e){return e.loaded})),io=Object(ta.p)(pi,(function(e){return e.receivers})),oo=Object(ta.p)(io,Aa),uo=Object(ta.p)(io,Ba),lo=Object(ta.p)(io,Ra),so=(Object(ta.p)(lo,(function(e){return Ti.ReceiverFactory.fromDataArray(e)})),Object(ta.p)(io,(function(e){return e.loaded}))),bo=Object(ta.p)(io,(function(e){return e.current.receiver})),fo=Object(ta.p)(bo,(function(e){return e&&Ti.ReceiverFactory.fromData(e)})),mo=(Object(ta.p)(uo,qi.i,(function(e,t){return t.state&&e[t.state.params.id]})),Object(ta.p)(uo,oo,(function(e,t){return t.map((function(t){return e[t]}))}))),ho=Object(ta.p)(mo,(function(e){return Ti.ReceiverFactory.fromDataArray(e)})),go=Object(ta.p)(ho,(function(e){return e.filter((function(e){return e.isActive()}))})),po=Object(ta.p)(pi,(function(e){return e.contracts})),vo=Object(ta.p)(po,Xa),yo=Object(ta.p)(po,qa),Co=Object(ta.p)(yo,(function(e){return Ti.ContractFactory.fromDataArray(e)})),Oo=Object(ta.p)(po,(function(e){return e.loaded})),jo=Object(ta.p)(po,(function(e){return e.current.contract})),So=Object(ta.p)(jo,(function(e){return e&&Ti.ContractFactory.fromData(e)})),To=(Object(ta.p)(vo,qi.i,(function(e,t){return t.state&&e[t.state.params.id]})),Object(ta.p)(Co,(function(e){return e.filter((function(e){return e.term.isActive||e.term.isFuture})).map((function(e){return e.data}))}))),wo=Object(ta.p)(Co,(function(e){return e.filter((function(e){return e.term.isInvoiceable})).map((function(e){return e.data}))})),ko=(Object(ta.p)(Co,(function(e){return e.filter((function(e){return!e.term.isActive&&!e.term.isFuture})).map((function(e){return e.data}))})),Object(ta.p)(pi,(function(e){return e.invoices}))),Do=Object(ta.p)(ko,Ya),Io=Object(ta.p)(ko,Za),Po=Object(ta.p)(Io,(function(e){return Ti.InvoiceFactory.fromDataArray(e)})),$o=Object(ta.p)(ko,(function(e){return e.loaded})),xo=Object(ta.p)(ko,(function(e){return e.current.invoice})),_o=Object(ta.p)(xo,(function(e){return e&&Ti.InvoiceFactory.fromData(e)})),Mo=Object(ta.p)(Do,qi.i,(function(e,t){return t.state&&e[t.state.params.id]})),zo=Object(ta.p)(Po,(function(e){return e.filter((function(e){return e.isOpen()})).map((function(e){return e.data}))})),Ao=Object(ta.p)(zo,(function(e){return e.map((function(e){return Ti.InvoiceFactory.fromData(e)}))})),Bo=(Object(ta.p)(Ao,(function(e){return e.filter((function(e){return e.isBilled()})).map((function(e){return e.data}))})),Object(ta.p)(Ao,(function(e){return e.filter((function(e){return e.isDue()})).map((function(e){return e.data}))})),Object(ta.p)(Po,(function(e){return e.filter((function(e){return e.isPaid()})).map((function(e){return e.data}))})),Object(ta.p)(Mo,(function(e){return e&&e.status!==Ti.InvoiceStatus.paid}))),Ro=Object(ta.p)(pi,(function(e){return e.documentLinks})),Eo=(Object(ta.p)(Ro,ei),Object(ta.p)(Ro,ti)),No=Object(ta.p)(Ro,(function(e){return e.loaded})),Fo=Object(ta.p)(pi,(function(e){return e.settings})),Lo=Object(ta.p)(Fo,ii),Xo=Object(ta.p)(Fo,oi),qo=Object(ta.p)(Fo,(function(e){return e.loaded})),Ho=Object(ta.p)(Lo,(function(e){return e.countries})),Uo=Object(ta.p)(Lo,(function(e){return e.vat})),Vo=Object(ta.p)(Po,uo,(function(e,t){return e.filter((function(e){return e.isOpen()})).map((function(e){return Ti.OpenInvoiceFactory.fromInvoice(e,t[e.header.receiverId].name).data})).sort((function(e,t){return e.dueDate.getTime()-t.dueDate.getTime()}))})),Go=Object(ta.p)(bo,yo,(function(e,t){return e&&t&&t.filter((function(t){return t.customerId===e.id}))})),Yo=Object(ta.p)(Go,(function(e){return e&&e.sort((function(e,t){return t.id.localeCompare(e.id)})).slice(0,5)})),Zo=Object(ta.p)(Yo,(function(e){return e&&Ti.ContractFactory.fromDataArray(e)})),Qo=Object(ta.p)(bo,To,(function(e,t){return e&&t&&t.filter((function(t){return t.customerId===e.id}))})),Jo=Object(ta.p)(Qo,(function(e){return e&&Ti.ContractFactory.fromDataArray(e)})),Ko=Object(ta.p)(bo,wo,(function(e,t){return e&&t&&t.filter((function(t){return t.customerId===e.id}))})),Wo=Object(ta.p)(Ko,(function(e){return e&&Ti.ContractFactory.fromDataArray(e)})),eu=Object(ta.p)(bo,Io,(function(e,t){return e&&t&&t.filter((function(t){return t.receiverId===e.id}))})),tu=Object(ta.p)(eu,(function(e){return e&&Ti.InvoiceFactory.fromDataArray(e)})),nu=Object(ta.p)(tu,(function(e){return e&&e.filter((function(e){return e.isOpen()})).map((function(e){return e.data}))})),cu=Object(ta.p)(nu,(function(e){return e&&Ti.InvoiceFactory.fromDataArray(e)})),ru=Object(ta.p)(eu,(function(e){return e&&e.length>0&&[e.reduce((function(e,t){return e&&e.id>=t.id?e:e=t}))]})),au=Object(ta.p)(ru,(function(e){return e&&e.map((function(e){return Ti.InvoiceFactory.fromData(e)}))})),iu=Object(ta.p)(jo,uo,(function(e,t){return e&&t[e.customerId]})),ou=Object(ta.p)(iu,(function(e){return e&&Ti.ReceiverFactory.fromData(e)})),uu=Object(ta.p)(jo,Io,(function(e,t){return e&&t&&t.filter((function(t){return t.contractId===e.id}))})),lu=Object(ta.p)(uu,(function(e){return e&&Ti.InvoiceFactory.fromDataArray(e)})),su=Object(ta.p)(uu,(function(e){return e&&e.length})),bu=Object(ta.p)(uu,(function(e){return e&&e.filter((function(e){return e.status!==Ti.InvoiceStatus.paid}))})),du=Object(ta.p)(bu,(function(e){return e&&Ti.InvoiceFactory.fromDataArray(e)})),fu=Object(ta.p)(su,(function(e){return 0===e})),mu=Object(ta.p)(xo,uo,(function(e,t){return e&&t[e.receiverId]})),hu=Object(ta.p)(mu,(function(e){return e&&Ti.ReceiverFactory.fromData(e)})),gu=Object(ta.p)(xo,vo,(function(e,t){return e&&t[e.contractId]})),pu=Object(ta.p)(gu,(function(e){return e&&Ti.ContractFactory.fromData(e)})),vu=Object(ta.p)(gu,wo,(function(e,t){return console.log("selectSelectableContractsForInvoice: ",e,t),!e||t.findIndex((function(t){return t.id===e.id}))>=0?t:[e].concat(Yr(t))})),yu=Object(ta.p)(vu,(function(e){return Ti.ContractFactory.fromDataArray(e)})),Cu=Object(ta.p)(eu,(function(e){return e?e.length:0})),Ou=Object(ta.p)(Go,(function(e){return e?e.length:0})),ju=Object(ta.p)(Ou,Cu,(function(e,t){return e+t===0})),Su=Object(ta.p)(Ko,(function(e){var t=Ti.ContractFactory.fromDataArray(e).filter((function(e){return e.term.isInvoiceable}));return!(!t||1!==t.length)})),Tu=Object(ta.p)(vo,uo,Do,(function(e,t,n){return Ti.ContractSummariesFactory.fromEntities(t,e,n)})),wu=Object(ta.p)(Tu,(function(e){return Object.keys(e).map((function(t){return e[+t]}))})),ku=Object(ta.p)(wu,(function(e){return e.sort((function(e,t){return t.object.header.issuedAt.getTime()-e.object.header.issuedAt.getTime()||t.object.header.id.localeCompare(e.object.header.id)}))})),Du=Object(ta.p)(Do,uo,(function(e,t){return Ti.InvoiceSummariesFactory.fromEntities(t,e)})),Iu=Object(ta.p)(Du,(function(e){return Object.keys(e).map((function(t){return e[t]}))})),Pu=Object(ta.p)(Iu,(function(e){return e.sort((function(e,t){return t.object.header.issuedAt.getTime()-e.object.header.issuedAt.getTime()||t.object.header.id.localeCompare(e.object.header.id)}))})),$u=Object(ta.p)(uo,vo,Do,(function(e,t,n){return Ti.ReceiverSummariesFactory.fromEntities(e,t,n)})),xu=Object(ta.p)($u,oo,(function(e,t){return t.map((function(t){return e[t]}))})),_u=Object(ta.p)(xo,Eo,(function(e,t){return t.filter((function(t){return t.owner==="invoices/"+e.id}))})),Mu=Object(ta.p)(jo,Eo,(function(e,t){return t.filter((function(t){return t.owner==="contracts/"+e.id}))})),zu=Object(ta.p)(bo,Eo,(function(e,t){return t.filter((function(t){return t.owner==="receivers/"+e.id}))})),Au=Object(ta.p)(xo,_u,(function(e,t){if(e.status!==Ti.InvoiceStatus.created)return!1;var n=t.filter((function(e){return e.attachToEmail&&e.type===Ti.DocumentLinkType.Invoice}));return!(!n||0===n.length)})),Bu=Object(ta.p)(pi,(function(e){return e.revenues})),Ru=(Object(ta.p)(Bu,di),Object(ta.p)(Bu,fi),Object(ta.p)(Bu,mi)),Eu=Object(ta.p)(Ru,(function(e){return Ti.RevenueFactory.fromDataArray(e)})),Nu=Object(ta.p)(Eu,(function(e){return e.filter((function(e){return+e.year>(new Date).getFullYear()-3}))})),Fu=(Object(ta.p)(Bu,hi),Object(ta.p)(Bu,(function(e){return e.loading})),Object(ta.p)(Bu,(function(e){return e.loaded})));Object(ta.p)(Bu,(function(e){return e.error}));var Lu,Xu,qu,Hu,Uu,Vu,Gu,Yu,Zu,Qu,Ju,Ku,Wu=Kr("AytR"),el=((Lu=function(){function e(t,n){na(this,e),this.store=t,this.language=n.substr(0,2)}return ra(e,[{key:"getSettings",value:function(){return this.store.pipe(Object(ta.r)(Xo))}},{key:"getSupportedLanguages",value:function(){return Wu.a.supportedLanguages}},{key:"getCountrySettings",value:function(){return this.store.pipe(Object(ta.r)(Ho))}},{key:"getCountries",value:function(){var e=this;return this.store.pipe(Object(ta.r)(Ho),Object(Oi.a)((function(t){return e.mapCountriesToArray(t)})))}},{key:"getVatSettings",value:function(){return this.store.pipe(Object(ta.r)(Uo))}},{key:"throwError",value:function(e){this.store.dispatch(new vi.N(e))}},{key:"update",value:function(e){this.store.dispatch(new vi.M(e))}},{key:"mapCountriesToArray",value:function(e){var t=this,n=[];return e.values.forEach((function(e){n.push({isoCode:e.isoCode,name:e.names[t.language]})})),n}}]),e}()).\u0275fac=function(e){return new(e||Lu)(la.Zb(ta.h),la.Zb(la.w))},Lu.\u0275prov=la.Jb({token:Lu,factory:Lu.\u0275fac}),Lu),tl=[el],nl=Kr("IzEk"),cl=Kr("MtjB"),rl=Kr("bOdf"),al=Kr("BFxc"),il=Kr("v8Ou"),ol=function(){function e(t){na(this,e),this.store=t,this.setLoggedInUserFromAuth()}return ra(e,[{key:"change",value:function(e){this.store.dispatch(this.buildChangeSuccessEvent(e))}},{key:"create",value:function(e){this.store.dispatch(this.buildCreateCommand(e))}},{key:"delete",value:function(e){this.store.dispatch(this.buildDeleteCommand(e))}},{key:"isUserAllowedToEdit",value:function(){return this.auth&&this.auth.roles&&this.auth.roles.indexOf("sales-user")>=0}},{key:"new",value:function(e){var t=Object.assign({},this.getTemplate());this.store.dispatch(this.buildNewEvent(t))}},{key:"update",value:function(e){this.store.dispatch(this.buildUpdateCommand(e))}},{key:"setLoggedInUserFromAuth",value:function(){var e=this;this.store.pipe(Object(ta.r)(Hi.b)).subscribe((function(t){return e.auth=t}))}}]),e}(),ul=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"change",value:function(e){this.store.dispatch(this.buildChangeSuccessEvent(e.data))}},{key:"copy",value:function(e){var t=Object.assign({},e.data,Object.assign({},this.getDefaultValues()),{organization:this.auth.organization});this.store.dispatch(this.buildCopySuccessEvent(t))}},{key:"create",value:function(e){e.header.id=this.getNextId(e),e.header.organization=this.auth.organization,e.header.isDeletable=!0,this.store.dispatch(this.buildCreateCommand(e.data))}},{key:"delete",value:function(e){this.store.dispatch(new il.d({do:this.buildDeleteCommand(e.data),title:this.getConfirmationQuestion(e.header.id)}))}},{key:"getCurrent",value:function(){return this.store.pipe(Object(ta.r)(this.getCurrentSelector()))}},{key:"getSummary",value:function(){return this.store.pipe(Object(ta.r)(this.getSummarySelector()))}},{key:"isChangeable",value:function(){return this.store.pipe(Object(ta.r)(this.getIsChangeableSelector()))}},{key:"isDeletable",value:function(){return this.store.pipe(Object(ta.r)(this.getIsDeletableSelector()))}},{key:"new",value:function(e){var t=Object.assign({},this.getTemplate());this.store.dispatch(this.buildNewEvent(t))}},{key:"update",value:function(e){this.store.dispatch(this.buildUpdateCommand(e.data))}}]),n}(ol),ll=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"addItem",value:function(e){console.log("process add item"),e.items.push(this.newItem(e)),this.change(e)}},{key:"newItem",value:function(e){var t=Object.assign({},{id:e.getNextItemId()},Object.assign({},this.getItemTemplate()));return this.buildItem(t)}},{key:"removeItem",value:function(e,t){e.items=e.items.filter((function(e){return e.data.id!==t})),this.change(e)}}]),n}(ul),sl=((Vu=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c.currentData=Ti.Invoice.defaultValues(),c.setNextIdsFromNumberRanges(),c}return ra(n,[{key:"change",value:function(e){var t=this;this.processChanges(e).subscribe((function(e){console.log("changed: ",e),t.currentData=e.data,t.store.dispatch(t.buildChangeSuccessEvent(e.data))}))}},{key:"createPdf",value:function(e){this.store.dispatch(new vi.l(e.data))}},{key:"getContract",value:function(){return this.store.pipe(Object(ta.r)(pu))}},{key:"getContracts",value:function(){return this.store.pipe(Object(ta.r)(yu))}},{key:"getCurrent",value:function(){return this.store.pipe(Object(ta.r)(this.getCurrentSelector()))}},{key:"getReceiver",value:function(){return this.store.pipe(Object(ta.r)(hu))}},{key:"getReceivers",value:function(){return this.store.pipe(Object(ta.r)(go))}},{key:"isSendable",value:function(){return this.store.pipe(Object(ta.r)(Au))}},{key:"newInvoiceFromContract",value:function(e){var t=this,n=Ti.InvoiceFactory.fromContract(e);this.getVatPercentage(n).pipe(Object(nl.a)(1),Object(Li.a)((function(e){n.vatPercentage=e,n.items.forEach((function(t){return t.vatPercentage=e}))})),Object(Li.a)((function(){return t.store.dispatch(new vi.u(n.data))}))).subscribe()}},{key:"sendEmail",value:function(e){this.store.dispatch(new vi.H(e.data))}},{key:"buildChangeSuccessEvent",value:function(e){return new vi.c(e)}},{key:"buildCopySuccessEvent",value:function(e){return new vi.g(e)}},{key:"buildCreateCommand",value:function(e){return new vi.k(e)}},{key:"buildDeleteCommand",value:function(e){return new vi.p(e)}},{key:"buildItem",value:function(e){return Ti.InvoiceItemFactory.fromData(e)}},{key:"buildNewEvent",value:function(e){return new vi.t(e)}},{key:"buildUpdateCommand",value:function(e){return new vi.K(e)}},{key:"getConfirmationQuestion",value:function(e){return"Soll die Rechnung ".concat(e," wirklich gel\xf6scht werden?")}},{key:"getCurrentSelector",value:function(){return _o}},{key:"getDefaultValues",value:function(){return Ti.Invoice.defaultValues()}},{key:"getIsChangeableSelector",value:function(){return Bo}},{key:"getIsDeletableSelector",value:function(){return Bo}},{key:"getItemTemplate",value:function(){return Ti.InvoiceItem.defaultValues()}},{key:"getNextId",value:function(e){return this.nextIds[e.header.billingMethod]}},{key:"getSummarySelector",value:function(){return Pu}},{key:"getTemplate",value:function(){return Ti.Invoice.defaultValues()}},{key:"addContractItemRelatedData",value:function(e,t){console.log("*** addContractItemRelatedData ***");var n=e.getItem(t);return n.contractItemId||(n.contractItemId=t),this.changeContractItemRelatedData(e,t).pipe(Object(cl.a)((function(e){if(n.contractItemId>1)return n.contractItemId--,Object(ji.of)(!0);Object(ji.throwError)("contract_item_not_found")})))}},{key:"changeContractItemRelatedData",value:function(e,t){console.log("*** changeContractItemRelatedData ***");var n=e.getItem(t);return n.contractItemId?this.getContracts().pipe(Object(Oi.a)((function(t){return t.find((function(t){return t.header.id===e.header.contractId}))})),Object(Oi.a)((function(e){return e.getItem(+n.contractItemId)})),Object(Oi.a)((function(t){return n.setItemDataFromContractItem(t),e})),Object(nl.a)(1),Object(Xi.a)((function(){return Object(ji.throwError)("contract_not_found")}))):Object(ji.of)(e)}},{key:"changeContractRelatedData",value:function(e){return console.log("*** changeContractRelatedData *** "),this.getContracts().pipe(Object(Oi.a)((function(t){return t.find((function(t){return t.header.id===e.header.contractId}))})),Object(Oi.a)((function(t){return e.setHeaderDataFromContract(t)})),Object(nl.a)(1),Object(Xi.a)((function(){return Object(ji.throwError)("contract_not_found")})))}},{key:"changeReceiverRelatedData",value:function(e){return console.log("*** changeReceiverRelatedData ***: "),this.getVatPercentage(e).pipe(Object(Oi.a)((function(t){return e.setVatPercentage(t)})),Object(nl.a)(1),Object(Xi.a)((function(){return Object(ji.throwError)("vat_not_found")})))}},{key:"getVatPercentage",value:function(e){var t=this.store.pipe(Object(ta.r)(uo)),n=this.store.pipe(Object(ta.r)(Uo));return t.pipe(Object(Oi.a)((function(t){return t[e.header.receiverId].address.country+"_full"})),Object(yi.a)((function(t){return n.pipe(Object(Oi.a)((function(n){return Ti.Vat.findVatPercentage(n,t,e.header.issuedAt)})))})),Object(nl.a)(1))}},{key:"processChangeAction",value:function(e,t){switch(console.log("process change action: ",e.type),e.type){case Ti.INVOICE_HEADER_RECEIVER_ID_CHANGED:return this.changeReceiverRelatedData(e.payload);case Ti.INVOICE_HEADER_CONTRACT_ID_CHANGED:return this.changeContractRelatedData(e.payload);case Ti.INVOICE_ITEM_CONTRACT_ITEM_ID_CHANGED:return this.changeContractItemRelatedData(e.payload,+e.change.id);case Ti.INVOICE_ITEM_ID_ADDED:return this.addContractItemRelatedData(e.payload,+e.change.id);default:return Object(ji.of)(t)}}},{key:"processChanges",value:function(e){var t=this;return Object(ji.of)(this.currentData).pipe(Object(Oi.a)((function(t){var n=new Ti.InvoiceChangeActionFactory(t,e).getChangeActions();return console.log("change actions: ",n),n})),Object(rl.a)((function(n){return n.map((function(n){return t.processChangeAction(n,e)}))})),Object(Fi.a)((function(e){return!!e})),Object(Ci.a)((function(e){return console.log("mergeMap results: ",e),e})),Object(al.a)(1))}},{key:"setNextIdsFromNumberRanges",value:function(){var e=this;this.store.pipe(Object(ta.r)(ro),Object(Fi.a)((function(e){return!!e.invoices&&!!e["credit-requests"]})),Object(Oi.a)((function(t){return e.nextIds=[],e.nextIds.push(Ti.NumberRangeFactory.fromData(t.invoices).nextId),e.nextIds.push(Ti.NumberRangeFactory.fromData(t["credit-requests"]).nextId),e.nextIds}))).subscribe()}}]),n}(ll)).\u0275fac=function(e){return new(e||Vu)(la.Zb(ta.h))},Vu.\u0275prov=la.Jb({token:Vu,factory:Vu.\u0275fac}),Vu),bl=((Uu=function(e){Jr(n,e);var t=Wr(n);function n(e,c,r){var a;return na(this,n),(a=t.call(this,r)).settings=e,a.invoicesBusinessService=c,a.store=r,a.setNextIdFromNumberRange(),a}return ra(n,[{key:"createQuickInvoice",value:function(e){var t=this;this.store.pipe(Object(ta.r)(Wo),Object(Oi.a)((function(e){return e.filter((function(e){return e.term.isInvoiceable}))})),Object(Fi.a)((function(e){return 1===e.length})),Object(Oi.a)((function(e){return t.invoicesBusinessService.newInvoiceFromContract(e[0])})),Object(nl.a)(1)).subscribe()}},{key:"getActiveContracts",value:function(){return this.store.pipe(Object(ta.r)(Jo))}},{key:"getCountries",value:function(){return this.settings.getCountries()}},{key:"getLastInvoices",value:function(){return this.store.pipe(Object(ta.r)(au))}},{key:"getOpenInvoices",value:function(){return this.store.pipe(Object(ta.r)(cu))}},{key:"getRecentContracts",value:function(){return this.store.pipe(Object(ta.r)(Zo))}},{key:"isQualifiedForQuickInvoice",value:function(){return this.store.pipe(Object(ta.r)(Su))}},{key:"buildChangeSuccessEvent",value:function(e){return new vi.d(e)}},{key:"buildCopySuccessEvent",value:function(e){return new vi.h(e)}},{key:"buildCreateCommand",value:function(e){return new vi.m(e)}},{key:"buildDeleteCommand",value:function(e){return new vi.q(e)}},{key:"buildNewEvent",value:function(e){return new vi.v(e)}},{key:"buildUpdateCommand",value:function(e){return new vi.L(e)}},{key:"getConfirmationQuestion",value:function(e){return"Soll der Rechnungsempf\xe4nger ".concat(e," wirklich gel\xf6scht werden?")}},{key:"getCurrentSelector",value:function(){return fo}},{key:"getDefaultValues",value:function(){return Ti.Receiver.defaultValues()}},{key:"getIsChangeableSelector",value:function(){return ju}},{key:"getIsDeletableSelector",value:function(){return ju}},{key:"getNextId",value:function(e){return this.nextId}},{key:"getSummarySelector",value:function(){return xu}},{key:"getTemplate",value:function(){return Ti.Receiver.defaultValues()}},{key:"setNextIdFromNumberRange",value:function(){var e=this;this.store.pipe(Object(ta.r)(ro),Object(Fi.a)((function(e){return!!e.receivers})),Object(Oi.a)((function(e){return Ti.NumberRangeFactory.fromData(e.receivers).nextId}))).subscribe((function(t){return e.nextId=t}))}}]),n}(ul)).\u0275fac=function(e){return new(e||Uu)(la.Zb(el),la.Zb(sl),la.Zb(ta.h))},Uu.\u0275prov=la.Jb({token:Uu,factory:Uu.\u0275fac}),Uu),dl=((Hu=function(e){Jr(n,e);var t=Wr(n);function n(e,c){var r;return na(this,n),(r=t.call(this,e)).store=e,r.invoicesBusinessService=c,r.setNextIdFromNumberRange(),r}return ra(n,[{key:"createQuickInvoice",value:function(e){return this.invoicesBusinessService.newInvoiceFromContract(e)}},{key:"getInvoices",value:function(){return this.store.pipe(Object(ta.r)(lu))}},{key:"getOpenInvoices",value:function(){return this.store.pipe(Object(ta.r)(du))}},{key:"getPartner",value:function(){return this.store.pipe(Object(ta.r)(ou))}},{key:"getReceivers",value:function(){return this.store.pipe(Object(ta.r)(go))}},{key:"buildChangeSuccessEvent",value:function(e){return new vi.a(e)}},{key:"buildCopySuccessEvent",value:function(e){return new vi.f(e)}},{key:"buildCreateCommand",value:function(e){return new vi.i(e)}},{key:"buildDeleteCommand",value:function(e){return new vi.n(e)}},{key:"buildItem",value:function(e){return Ti.ContractItemFactory.fromData(e)}},{key:"buildNewEvent",value:function(e){return new vi.r(e)}},{key:"buildUpdateCommand",value:function(e){return new vi.I(e)}},{key:"getConfirmationQuestion",value:function(e){return"Soll der Vertrag ".concat(e," wirklich gel\xf6scht werden?")}},{key:"getCurrentSelector",value:function(){return So}},{key:"getDefaultValues",value:function(){return Ti.Contract.defaultValues()}},{key:"getIsChangeableSelector",value:function(){return fu}},{key:"getIsDeletableSelector",value:function(){return fu}},{key:"getItemTemplate",value:function(){return Ti.ContractItem.defaultValues()}},{key:"getNextId",value:function(e){return this.nextId}},{key:"getSummarySelector",value:function(){return ku}},{key:"getTemplate",value:function(){return Ti.Contract.defaultValues()}},{key:"setNextIdFromNumberRange",value:function(){var e=this;this.store.pipe(Object(ta.r)(ro),Object(Fi.a)((function(e){return!!e.contracts})),Object(Oi.a)((function(e){return Ti.NumberRangeFactory.fromData(e.contracts).nextId}))).subscribe((function(t){return e.nextId=t}))}}]),n}(ll)).\u0275fac=function(e){return new(e||Hu)(la.Zb(ta.h),la.Zb(sl))},Hu.\u0275prov=la.Jb({token:Hu,factory:Hu.\u0275fac}),Hu),fl=((qu=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getDocumentLinks",value:function(e){var t=e;if(!t)return Object(ji.of)([]);switch(t){case"contracts":return this.getDocumentLinksForContract();case"invoices":return this.getDocumentLinksForInvoice();case"receivers":return this.getDocumentLinksForReceiver();default:return Object(ji.throwError)(new Error("Unknown owner"))}}},{key:"getDocumentLinksForContract",value:function(){return this.store.pipe(Object(ta.r)(Mu))}},{key:"getDocumentLinksForInvoice",value:function(){return this.store.pipe(Object(ta.r)(_u))}},{key:"getDocumentLinksForReceiver",value:function(){return this.store.pipe(Object(ta.r)(zu))}},{key:"buildChangeSuccessEvent",value:function(e){return new vi.b(e)}},{key:"buildCreateCommand",value:function(e){return new vi.j(e)}},{key:"buildDeleteCommand",value:function(e){return new vi.o(e)}},{key:"buildNewEvent",value:function(e){return new vi.s(e)}},{key:"buildUpdateCommand",value:function(e){return new vi.J(e)}},{key:"getTemplate",value:function(){return Ti.DocumentLink.defaultValues()}}]),n}(ol)).\u0275fac=function(e){return new(e||qu)(la.Zb(ta.h))},qu.\u0275prov=la.Jb({token:qu,factory:qu.\u0275fac}),qu),ml=((Xu=function(){function e(t){na(this,e),this.store=t}return ra(e,[{key:"calculateTotalRevenues",value:function(){return this.store.pipe(Object(ta.r)(Nu),Object(Oi.a)((function(e){return Ti.Revenue.calculateTotalRevenuesPerYear(e)})))}},{key:"selectOpenInvoices",value:function(){return this.store.pipe(Object(ta.r)(Vo))}}]),e}()).\u0275fac=function(e){return new(e||Xu)(la.Zb(ta.h))},Xu.\u0275prov=la.Jb({token:Xu,factory:Xu.\u0275fac}),Xu),hl=[bl,dl,sl,fl,ml],gl=((Gu=function(){function e(t){na(this,e),this.service=t}return ra(e,[{key:"ngOnInit",value:function(){this.summaries$=this.service.getSummary()}},{key:"onCopy",value:function(e){this.service.copy(e)}},{key:"onDelete",value:function(e){this.service.delete(e)}},{key:"onNew",value:function(e){this.service.new(),e&&e.stopPropagation()}}]),e}()).\u0275fac=function(e){return new(e||Gu)(la.Nb(ul))},Gu.\u0275cmp=la.Hb({type:Gu,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Gu),pl=Kr("I7u4"),vl=Kr("ofXK"),yl=Kr("bTqV"),Cl=((Yu=function(){function e(){na(this,e),this.copy=new la.o,this.delete=new la.o}return ra(e,[{key:"ngOnChanges",value:function(e){}},{key:"onCopy",value:function(){this.copy.emit(this.summary.object)}},{key:"onDelete",value:function(){this.delete.emit(this.summary.object)}}]),e}()).\u0275fac=function(e){return new(e||Yu)},Yu.\u0275cmp=la.Hb({type:Yu,selectors:[["ng-component"]],inputs:{summary:"summary"},outputs:{copy:"copy",delete:"delete"},features:[la.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Yu),Ol=Kr("Wp6s"),jl=function(){function e(){na(this,e)}return ra(e,null,[{key:"getObjectUrl",value:function(e){return"/invoicing/"+e.header.objectType}}]),e}(),Sl=Kr("znSr"),Tl=function(e,t){return[e,t]},wl=((Zu=function(){function e(){na(this,e)}return ra(e,[{key:"getAvatarClasses",value:function(){switch(this.object.header.objectType){case"contracts":return{"jo-id-avatar--active":this.object.term.isActive,"jo-id-avatar--expired":!this.object.term.isActive,"jo-id-avatar--future":this.object.term.isFuture};case"invoices":return{"jo-id-avatar--ok":this.object.isPaid(),"jo-id-avatar--inprocess":this.object.isBilled()&&!this.object.isDue()||this.object.isOpen()&&!this.object.isDue(),"jo-id-avatar--alert":this.object.isDue()};case"receivers":return{"jo-id-avatar--ok":0===this.object.header.status,"jo-id-avatar--alert":1===this.object.header.status}}}},{key:"getObjectUrl",value:function(){return jl.getObjectUrl(this.object)}}]),e}()).\u0275fac=function(e){return new(e||Zu)},Zu.\u0275cmp=la.Hb({type:Zu,selectors:[["jo-card-avatar"]],inputs:{object:"object"},decls:2,vars:6,consts:[["mat-card-avatar","",1,"jo-id-avatar",3,"routerLink","ngClass"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Cc(1),la.Sb()),2&e&&(la.nc("routerLink",la.qc(3,Tl,t.getObjectUrl(),t.object.header.id))("ngClass",t.getAvatarClasses()),la.Cb(1),la.Ec(" ",null==t.object?null:t.object.header.id,"\n"))},directives:[Ol.c,ua.h,vl.k,Sl.a],styles:[".jo-id-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;background-color:#ccc;border-radius:100%;display:flex;justify-content:center;align-items:center;font-weight:700;font-size:1.4rem;cursor:pointer;outline:none}.jo-id-avatar--active[_ngcontent-%COMP%]{background-color:#2e7d32}.jo-id-avatar--expired[_ngcontent-%COMP%]{background-color:#303030}.jo-id-avatar--future[_ngcontent-%COMP%]{background-color:#ff8f00}.jo-id-avatar--alert[_ngcontent-%COMP%]{background-color:#c62828}.jo-id-avatar--ok[_ngcontent-%COMP%]{background-color:#2e7d32}.jo-id-avatar--inprocess[_ngcontent-%COMP%]{background-color:#ff8f00}"],changeDetection:0}),Zu);function kl(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",4),la.dc("click",(function(e){return la.tc(n),la.hc(2).onDelete(e)})),la.Tb(1,"span"),la.Xb(2,Ku),la.Sb(),la.Sb()}}function Dl(e,t){if(1&e){var n=la.Ub();la.Rb(0),la.Tb(1,"button",2),la.dc("click",(function(e){return la.tc(n),la.hc().onCopy(e)})),la.Tb(2,"span"),la.Xb(3,Ju),la.Sb(),la.Sb(),la.Bc(4,kl,3,0,"button",3),la.Qb()}if(2&e){var c=la.hc();la.Cb(4),la.nc("ngIf",c.isDeletable)}}Qu=$localize(Gr()),Ju=$localize(Vr()),Ku=$localize(Ur());var Il,Pl,$l,xl,_l,Ml,zl,Al=function(e,t){return[e,t]},Bl=function(){return["sales-user"]},Rl=((Il=function(){function e(){na(this,e),this.copy=new la.o,this.delete=new la.o}return ra(e,[{key:"getObjectUrl",value:function(){return jl.getObjectUrl(this.object)}},{key:"onCopy",value:function(e){this.copy.emit(),e&&e.stopPropagation()}},{key:"onDelete",value:function(e){this.delete.emit(),e&&e.stopPropagation()}}]),e}()).\u0275fac=function(e){return new(e||Il)},Il.\u0275cmp=la.Hb({type:Il,selectors:[["jo-card-buttons"]],inputs:{object:"object",isDeletable:"isDeletable"},outputs:{copy:"copy",delete:"delete"},decls:4,vars:6,consts:[["id","btn_details","mat-button","",3,"routerLink"],[4,"joIfAuthorizedAs"],["id","btn_copy","mat-button","",3,"click"],["id","btn_delete","mat-button","",3,"click",4,"ngIf"],["id","btn_delete","mat-button","",3,"click"]],template:function(e,t){1&e&&(la.Tb(0,"a",0),la.Tb(1,"span"),la.Xb(2,Qu),la.Sb(),la.Sb(),la.Bc(3,Dl,5,1,"ng-container",1)),2&e&&(la.nc("routerLink",la.qc(2,Al,t.getObjectUrl(),t.object.header.id)),la.Cb(3),la.nc("joIfAuthorizedAs",la.oc(5,Bl)))},directives:[yl.a,ua.j,pl.a,yl.b,vl.m],styles:[""],changeDetection:0}),Il);Pl=$localize(Hr()),$l=$localize(qr()),xl=$localize(Xr()),_l=$localize(Lr()),Ml=$localize(Fr()),zl=$localize(Nr());var El=function(e){return["/invoicing/invoices",e]};function Nl(e,t){if(1&e&&(la.Tb(0,"div"),la.Tb(1,"a",14),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("routerLink",la.pc(2,El,null==n.summary?null:n.summary.lastInvoiceId)),la.Cb(1),la.Ec(" ",null==n.summary?null:n.summary.lastInvoiceId," ")}}var Fl,Ll,Xl=function(e){return["/invoicing/receivers",e]},ql=((Fl=function(e){Jr(n,e);var t=Wr(n);function n(){return na(this,n),t.call(this)}return n}(Cl)).\u0275fac=function(e){return new(e||Fl)},Fl.\u0275cmp=la.Hb({type:Fl,selectors:[["jo-contract-card"]],features:[la.zb],decls:47,vars:24,consts:[[1,"jo-card"],[1,"jo-card-header"],[3,"object"],[1,"u-mt-md"],[1,"jo-card-columns"],[1,"jo-card-info"],[1,"jo-card-label"],["id","lnk_customerid",3,"routerLink"],["id","div_contractstart"],["id","div_contractend"],["id","div_budget",1,"align-right"],["id","div_revenue",1,"align-right"],[4,"ngIf"],[3,"object","isDeletable","copy","delete"],["id","lnk_lastinvoice",3,"routerLink"]],template:function(e,t){1&e&&(la.Tb(0,"mat-card",0),la.Tb(1,"mat-card-header",1),la.Ob(2,"jo-card-avatar",2),la.Tb(3,"mat-card-title"),la.Cc(4),la.Sb(),la.Tb(5,"mat-card-subtitle"),la.Cc(6),la.Sb(),la.Sb(),la.Tb(7,"mat-card-content",3),la.Tb(8,"div",4),la.Tb(9,"div",5),la.Tb(10,"div",6),la.Tb(11,"span"),la.Xb(12,Pl),la.Sb(),la.Sb(),la.Tb(13,"div"),la.Tb(14,"a",7),la.Cc(15),la.Sb(),la.Sb(),la.Tb(16,"div",6),la.Tb(17,"span"),la.Xb(18,$l),la.Sb(),la.Sb(),la.Tb(19,"div",8),la.Cc(20),la.ic(21,"date"),la.Sb(),la.Tb(22,"div",6),la.Tb(23,"span"),la.Xb(24,xl),la.Sb(),la.Sb(),la.Tb(25,"div",9),la.Cc(26),la.ic(27,"date"),la.Sb(),la.Sb(),la.Tb(28,"div",5),la.Tb(29,"div",6),la.Tb(30,"span"),la.Xb(31,_l),la.Sb(),la.Sb(),la.Tb(32,"div",10),la.Cc(33),la.ic(34,"number"),la.Sb(),la.Tb(35,"div",6),la.Tb(36,"span"),la.Xb(37,Ml),la.Sb(),la.Sb(),la.Tb(38,"div",11),la.Cc(39),la.ic(40,"number"),la.Sb(),la.Tb(41,"div",6),la.Tb(42,"span"),la.Xb(43,zl),la.Sb(),la.Sb(),la.Bc(44,Nl,3,4,"div",12),la.Sb(),la.Sb(),la.Sb(),la.Tb(45,"mat-card-actions"),la.Tb(46,"jo-card-buttons",13),la.dc("copy",(function(){return t.onCopy()}))("delete",(function(){return t.onDelete()})),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("object",null==t.summary?null:t.summary.object),la.Cb(2),la.Dc(null==t.summary||null==t.summary.object?null:t.summary.object.header.description),la.Cb(2),la.Dc(null==t.summary?null:t.summary.receiverName),la.Cb(8),la.nc("routerLink",la.pc(22,Xl,null==t.summary||null==t.summary.object?null:t.summary.object.header.customerId)),la.Cb(1),la.Ec(" ",null==t.summary||null==t.summary.object?null:t.summary.object.header.customerId," "),la.Cb(5),la.Dc(la.jc(21,12,null==t.summary||null==t.summary.object?null:t.summary.object.term.startDate)),la.Cb(6),la.Dc(la.jc(27,14,null==t.summary||null==t.summary.object?null:t.summary.object.term.endDate)),la.Cb(7),la.Dc(la.kc(34,16,null==t.summary||null==t.summary.object?null:t.summary.object.header.budget,"1.0-0")),la.Cb(6),la.Dc(la.kc(40,19,null==t.summary?null:t.summary.revenue,"1.0-0")),la.Cb(5),la.nc("ngIf",null==t.summary?null:t.summary.lastInvoiceId),la.Cb(2),la.nc("object",t.summary.object)("isDeletable",t.summary.changeable))},directives:[Ol.a,Ol.e,wl,Ol.h,Ol.g,Ol.d,ua.j,vl.m,Ol.b,Rl],pipes:[vl.e,vl.f],styles:[".jo-card[_ngcontent-%COMP%]{margin:1.5rem 3rem 1.5rem 0;width:50rem;padding:2rem 4rem;box-shadow:0 .5rem 1rem rgba(0,0,0,.2);transition:all .25s}@media only screen and (max-width:1279px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:1rem 2rem;margin:.75rem 1.5rem .75rem 0}}@media only screen and (max-width:959px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:.5rem 1rem;margin:.75rem}.jo-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2rem}.jo-card[_ngcontent-%COMP%]   .u-mt-md[_ngcontent-%COMP%]{margin-top:1.5rem}.jo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], .jo-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}.jo-card[_ngcontent-%COMP%]   .jo-card-label[_ngcontent-%COMP%]{font-size:1.3rem}}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]{width:100%;flex:0 0 100%;padding:1rem 2rem;margin:.75rem}}.jo-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.jo-card-columns[_ngcontent-%COMP%]{margin:2rem 0;display:grid;grid-template-columns:repeat(2,-webkit-max-content);grid-template-columns:repeat(2,max-content);justify-content:space-between}.jo-card-info[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(3,minmax(2.5rem,-webkit-min-content));grid-template-rows:repeat(3,minmax(2.5rem,min-content));grid-template-columns:repeat(2,minmax(2rem,-webkit-max-content));grid-template-columns:repeat(2,minmax(2rem,max-content));grid-column-gap:1rem}.jo-card-info[_ngcontent-%COMP%]:not(:last-of-type){padding-right:2rem;margin-right:1rem;border-right:1px solid hsla(0,0%,100%,.7)}.jo-card-info[_ngcontent-%COMP%] > .align-right[_ngcontent-%COMP%]{justify-self:end}.jo-card-label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:lighter;opacity:.7}a[_ngcontent-%COMP%]{color:currentColor}.mat-card-title[_ngcontent-%COMP%]{font-size:1.4rem}"],changeDetection:0}),Fl);function Hl(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",4),la.dc("click",(function(e){return la.tc(n),la.hc().onNew(e)})),la.Tb(1,"span"),la.Xb(2,Ll),la.Sb(),la.Sb()}}function Ul(e,t){if(1&e){var n=la.Ub();la.Tb(0,"jo-contract-card",5),la.dc("copy",(function(e){return la.tc(n),la.hc().onCopy(e)}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)})),la.Sb()}2&e&&la.nc("summary",t.$implicit)}Ll=$localize(Er());var Vl,Gl,Yl,Zl,Ql,Jl,Kl,Wl,es=function(){return["sales-user"]},ts=((Vl=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).service=e,c}return n}(gl)).\u0275fac=function(e){return new(e||Vl)(la.Nb(dl))},Vl.\u0275cmp=la.Hb({type:Vl,selectors:[["jo-contracts"]],features:[la.zb],decls:6,vars:5,consts:[[1,"window"],["mat-raised-button","","color","primary",3,"click",4,"joIfAuthorizedAs"],[1,"jo-cards"],["class","jo-card",3,"summary","copy","delete",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"jo-card",3,"summary","copy","delete"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"div"),la.Bc(2,Hl,3,0,"button",1),la.Sb(),la.Tb(3,"div",2),la.Bc(4,Ul,1,1,"jo-contract-card",3),la.ic(5,"async"),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("joIfAuthorizedAs",la.oc(4,es)),la.Cb(2),la.nc("ngForOf",la.jc(5,2,t.summaries$)))},directives:[pl.a,vl.l,yl.b,ql],pipes:[vl.b],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}.jo-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;margin-top:5rem}@media only screen and (max-width:959px){.jo-cards[_ngcontent-%COMP%]{align-items:center;margin:1rem auto 0}}.jo-card[_ngcontent-%COMP%]{transition:all .25s}.jo-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05)}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]:hover{transform:none}}"],changeDetection:0}),Vl);function ns(e,t){if(1&e&&(la.Rb(0),la.Tb(1,"div",4),la.Tb(2,"span"),la.Xb(3,Wl),la.Sb(),la.Sb(),la.Tb(4,"div",15),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Qb()),2&e){var n=la.hc();la.Cb(5),la.Dc(la.jc(6,1,null==n.summary||null==n.summary.object?null:n.summary.object.cashDiscountDate))}}Gl=$localize(Rr()),Yl=$localize(Br()),Zl=$localize(Ar()),Ql=$localize(zr()),Jl=$localize(Mr()),Kl=$localize(_r()),Wl=$localize(xr());var cs,rs,as=function(e){return["/invoicing/contracts",e]},is=((cs=function(e){Jr(n,e);var t=Wr(n);function n(){return na(this,n),t.call(this)}return n}(Cl)).\u0275fac=function(e){return new(e||cs)},cs.\u0275cmp=la.Hb({type:cs,selectors:[["jo-invoice-card"]],features:[la.zb],decls:50,vars:31,consts:[[1,"jo-card"],[1,"jo-card-header"],[3,"object"],[1,"u-mt-md"],[1,"jo-card-label"],["id","lnk_contractId",3,"routerLink"],[1,"jo-card-columns"],[1,"jo-card-info"],["id","div_netValue",1,"align-right"],["id","div_vatAmount",1,"align-right"],["id","div_grossValue",1,"align-right"],["id","div_paymentAmount",1,"align-right"],[4,"ngIf"],["id","div_dueDate"],[3,"object","isDeletable","copy","delete"],["id","div_cashDiscountDate"]],template:function(e,t){1&e&&(la.Tb(0,"mat-card",0),la.Tb(1,"mat-card-header",1),la.Ob(2,"jo-card-avatar",2),la.Tb(3,"mat-card-title"),la.Cc(4),la.Sb(),la.Tb(5,"mat-card-subtitle"),la.Cc(6),la.ic(7,"date"),la.Sb(),la.Sb(),la.Tb(8,"mat-card-content",3),la.Tb(9,"div"),la.Tb(10,"span",4),la.Xb(11,Gl),la.Sb(),la.Tb(12,"a",5),la.Cc(13),la.Sb(),la.Sb(),la.Tb(14,"div",6),la.Tb(15,"div",7),la.Tb(16,"div",4),la.Tb(17,"span"),la.Xb(18,Yl),la.Sb(),la.Sb(),la.Tb(19,"div",8),la.Cc(20),la.ic(21,"number"),la.Sb(),la.Tb(22,"div",4),la.Tb(23,"span"),la.Xb(24,Zl),la.Sb(),la.Sb(),la.Tb(25,"div",9),la.Cc(26),la.ic(27,"number"),la.Sb(),la.Tb(28,"div",4),la.Tb(29,"span"),la.Xb(30,Ql),la.Sb(),la.Sb(),la.Tb(31,"div",10),la.Cc(32),la.ic(33,"number"),la.Sb(),la.Sb(),la.Tb(34,"div",7),la.Tb(35,"div",4),la.Tb(36,"span"),la.Xb(37,Jl),la.Sb(),la.Sb(),la.Tb(38,"div",11),la.Cc(39),la.ic(40,"number"),la.Sb(),la.Bc(41,ns,7,3,"ng-container",12),la.Tb(42,"div",4),la.Tb(43,"span"),la.Xb(44,Kl),la.Sb(),la.Sb(),la.Tb(45,"div",13),la.Cc(46),la.ic(47,"date"),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Tb(48,"mat-card-actions"),la.Tb(49,"jo-card-buttons",14),la.dc("copy",(function(){return t.onCopy()}))("delete",(function(){return t.onDelete()})),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("object",null==t.summary?null:t.summary.object),la.Cb(2),la.Dc(null==t.summary?null:t.summary.receiverName),la.Cb(2),la.Dc(la.jc(7,13,null==t.summary||null==t.summary.object?null:t.summary.object.header.issuedAt)),la.Cb(6),la.nc("routerLink",la.pc(29,as,null==t.summary||null==t.summary.object?null:t.summary.object.header.contractId)),la.Cb(1),la.Ec(" ",null==t.summary||null==t.summary.object?null:t.summary.object.header.contractId," "),la.Cb(7),la.Dc(la.kc(21,15,null==t.summary||null==t.summary.object?null:t.summary.object.netValue,"1.2-2")),la.Cb(6),la.Dc(la.kc(27,18,null==t.summary||null==t.summary.object?null:t.summary.object.vatAmount,"1.2-2")),la.Cb(6),la.Dc(la.kc(33,21,null==t.summary||null==t.summary.object?null:t.summary.object.grossValue,"1.2-2")),la.Cb(7),la.Dc(la.kc(40,24,null==t.summary||null==t.summary.object?null:t.summary.object.paymentAmount,"1.2-2")),la.Cb(2),la.nc("ngIf",t.summary.object.header.cashDiscountPercentage>0),la.Cb(5),la.Dc(la.jc(47,27,null==t.summary||null==t.summary.object?null:t.summary.object.dueDate)),la.Cb(3),la.nc("object",t.summary.object)("isDeletable",t.summary.changeable))},directives:[Ol.a,Ol.e,wl,Ol.h,Ol.g,Ol.d,ua.j,vl.m,Ol.b,Rl],pipes:[vl.e,vl.f],styles:[".jo-card[_ngcontent-%COMP%]{margin:1.5rem 3rem 1.5rem 0;width:50rem;padding:2rem 4rem;box-shadow:0 .5rem 1rem rgba(0,0,0,.2);transition:all .25s}@media only screen and (max-width:1279px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:1rem 2rem;margin:.75rem 1.5rem 1.5rem 0}}@media only screen and (max-width:959px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:.5rem 1rem;margin:.75rem}.jo-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2rem}.jo-card[_ngcontent-%COMP%]   .u-mt-md[_ngcontent-%COMP%]{margin-top:1.5rem}.jo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], .jo-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}.jo-card[_ngcontent-%COMP%]   .jo-card-label[_ngcontent-%COMP%]{font-size:1.3rem}}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]{width:100%;flex:0 0 100%;padding:1rem 2rem;margin:.75rem}}.jo-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.jo-card-columns[_ngcontent-%COMP%]{margin:2rem 0;justify-content:space-between}.jo-card-columns[_ngcontent-%COMP%], .jo-card-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,-webkit-max-content);grid-template-columns:repeat(2,max-content)}.jo-card-info[_ngcontent-%COMP%]{grid-template-rows:repeat(3,minmax(2.5rem,-webkit-min-content));grid-template-rows:repeat(3,minmax(2.5rem,min-content));grid-column-gap:1rem}.jo-card-info[_ngcontent-%COMP%]:not(:last-of-type){padding-right:2rem;margin-right:1rem;border-right:1px solid hsla(0,0%,100%,.7)}.jo-card-info[_ngcontent-%COMP%] > .align-right[_ngcontent-%COMP%]{justify-self:end}.jo-card-label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:lighter;opacity:.7}a[_ngcontent-%COMP%]{color:currentColor}#lnk_contractId[_ngcontent-%COMP%]{margin-left:1rem}"],changeDetection:0}),cs);function os(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",4),la.dc("click",(function(e){return la.tc(n),la.hc().onNew(e)})),la.Tb(1,"span"),la.Xb(2,rs),la.Sb(),la.Sb()}}function us(e,t){if(1&e){var n=la.Ub();la.Tb(0,"jo-invoice-card",5),la.dc("copy",(function(e){return la.tc(n),la.hc().onCopy(e)}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)})),la.Sb()}2&e&&la.nc("summary",t.$implicit)}rs=$localize($r());var ls,ss,bs,ds,fs,ms,hs,gs,ps,vs,ys=function(){return["sales-user"]},Cs=((ss=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).service=e,c}return n}(gl)).\u0275fac=function(e){return new(e||ss)(la.Nb(sl))},ss.\u0275cmp=la.Hb({type:ss,selectors:[["jo-invoices"]],features:[la.zb],decls:6,vars:5,consts:[[1,"window"],["mat-raised-button","","color","primary",3,"click",4,"joIfAuthorizedAs"],[1,"jo-cards"],["class","jo-card",3,"summary","copy","delete",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"jo-card",3,"summary","copy","delete"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"div"),la.Bc(2,os,3,0,"button",1),la.Sb(),la.Tb(3,"div",2),la.Bc(4,us,1,1,"jo-invoice-card",3),la.ic(5,"async"),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("joIfAuthorizedAs",la.oc(4,ys)),la.Cb(2),la.nc("ngForOf",la.jc(5,2,t.summaries$)))},directives:[pl.a,vl.l,yl.b,is],pipes:[vl.b],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}.jo-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;margin-top:5rem}@media only screen and (max-width:959px){.jo-cards[_ngcontent-%COMP%]{align-items:center;margin:1rem auto 0}}.jo-card[_ngcontent-%COMP%]{transition:all .25s}.jo-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05)}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]:hover{transform:none}}"],changeDetection:0}),ss),Os=((ls=function e(t){na(this,e),this.store=t}).\u0275fac=function(e){return new(e||ls)(la.Nb(ta.h))},ls.\u0275cmp=la.Hb({type:ls,selectors:[["jo-invoicing"]],decls:1,vars:0,template:function(e,t){1&e&&la.Ob(0,"router-outlet")},directives:[ua.l],styles:[".jo-invoicing[_ngcontent-%COMP%]{height:100%}"],changeDetection:0}),ls);function js(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,ps),la.Sb())}function Ss(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,vs),la.Sb())}function Ts(e,t){if(1&e&&(la.Tb(0,"div",14),la.Bc(1,js,2,0,"span",10),la.Bc(2,Ss,2,0,"span",10),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",0===n.summary.object.header.status),la.Cb(1),la.nc("ngIf",0!==n.summary.object.header.status)}}bs=$localize(Pr()),ds=$localize(Ir()),fs=$localize(Dr()),ms=$localize(kr()),hs=$localize(wr()),gs=$localize(Tr()),ps=$localize(Sr()),vs=$localize(jr());var ws=function(e){return["/invoicing/contracts",e]};function ks(e,t){if(1&e&&(la.Tb(0,"div"),la.Tb(1,"a",15),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("routerLink",la.pc(2,ws,null==n.summary?null:n.summary.lastContractId)),la.Cb(1),la.Dc(null==n.summary?null:n.summary.lastContractId)}}var Ds=function(e){return["/invoicing/invoices",e]};function Is(e,t){if(1&e&&(la.Tb(0,"div"),la.Tb(1,"a",16),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("routerLink",la.pc(2,Ds,null==n.summary?null:n.summary.lastInvoiceId)),la.Cb(1),la.Ec(" ",null==n.summary?null:n.summary.lastInvoiceId," ")}}var Ps,$s,xs=((Ps=function(e){Jr(n,e);var t=Wr(n);function n(){return na(this,n),t.call(this)}return n}(Cl)).\u0275fac=function(e){return new(e||Ps)},Ps.\u0275cmp=la.Hb({type:Ps,selectors:[["jo-receiver-card"]],features:[la.zb],decls:40,vars:11,consts:[[1,"jo-card"],[1,"jo-card-header"],[3,"object"],[1,"u-mt-md"],["id","div_status",4,"ngIf"],[1,"jo-card-columns"],[1,"jo-card-info"],[1,"jo-card-label"],["id","div_activeContracts"],["id","div_expiredContracts"],[4,"ngIf"],["id","div_dueInvoices",1,"align-right"],["id","div_openInvoices",1,"align-right"],[3,"object","isDeletable","copy","delete"],["id","div_status"],["id","lnk_lastContract",3,"routerLink"],["id","lnk_lastInvoice",3,"routerLink"]],template:function(e,t){1&e&&(la.Tb(0,"mat-card",0),la.Tb(1,"mat-card-header",1),la.Ob(2,"jo-card-avatar",2),la.Tb(3,"mat-card-title"),la.Cc(4),la.Sb(),la.Sb(),la.Tb(5,"mat-card-content",3),la.Bc(6,Ts,3,2,"div",4),la.Tb(7,"div",5),la.Tb(8,"div",6),la.Tb(9,"div",7),la.Tb(10,"span"),la.Xb(11,bs),la.Sb(),la.Sb(),la.Tb(12,"div",8),la.Cc(13),la.Sb(),la.Tb(14,"div",7),la.Tb(15,"span"),la.Xb(16,ds),la.Sb(),la.Sb(),la.Tb(17,"div",9),la.Cc(18),la.Sb(),la.Tb(19,"div",7),la.Tb(20,"span"),la.Xb(21,fs),la.Sb(),la.Sb(),la.Bc(22,ks,3,4,"div",10),la.Sb(),la.Tb(23,"div",6),la.Tb(24,"div",7),la.Tb(25,"span"),la.Xb(26,ms),la.Sb(),la.Sb(),la.Tb(27,"div",11),la.Cc(28),la.Sb(),la.Tb(29,"div",7),la.Tb(30,"span"),la.Xb(31,hs),la.Sb(),la.Sb(),la.Tb(32,"div",12),la.Cc(33),la.Sb(),la.Tb(34,"div",7),la.Tb(35,"span"),la.Xb(36,gs),la.Sb(),la.Sb(),la.Bc(37,Is,3,4,"div",10),la.Sb(),la.Sb(),la.Sb(),la.Tb(38,"mat-card-actions"),la.Tb(39,"jo-card-buttons",13),la.dc("copy",(function(){return t.onCopy()}))("delete",(function(){return t.onDelete()})),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("object",null==t.summary?null:t.summary.object),la.Cb(2),la.Dc(null==t.summary||null==t.summary.object?null:t.summary.object.header.name),la.Cb(2),la.nc("ngIf",t.summary&&t.summary.object),la.Cb(7),la.Dc(null==t.summary?null:t.summary.activeContractsCount),la.Cb(5),la.Dc(null==t.summary?null:t.summary.expiredContractsCount),la.Cb(4),la.nc("ngIf",null==t.summary?null:t.summary.lastContractId),la.Cb(6),la.Dc(null==t.summary?null:t.summary.dueInvoicesCount),la.Cb(5),la.Dc(null==t.summary?null:t.summary.openInvoicesCount),la.Cb(4),la.nc("ngIf",null==t.summary?null:t.summary.lastInvoiceId),la.Cb(2),la.nc("object",t.summary.object)("isDeletable",t.summary.deletable))},directives:[Ol.a,Ol.e,wl,Ol.h,Ol.d,vl.m,Ol.b,Rl,ua.j],styles:[".jo-card[_ngcontent-%COMP%]{margin:1.5rem 3rem 1.5rem 0;width:50rem;padding:2rem 4rem;box-shadow:0 .5rem 1rem rgba(0,0,0,.2);transition:all .25s}@media only screen and (max-width:1279px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:1rem 2rem;margin:.75rem 1.5rem .75rem 0}}@media only screen and (max-width:959px){.jo-card[_ngcontent-%COMP%]{width:42rem;padding:.5rem 1rem;margin:.75rem}.jo-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.jo-card[_ngcontent-%COMP%]   .u-mt-md[_ngcontent-%COMP%]{margin-top:1.5rem}.jo-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], .jo-card[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}.jo-card[_ngcontent-%COMP%]   .jo-card-label[_ngcontent-%COMP%]{font-size:1.3rem}}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]{width:100%;flex:0 0 100%;padding:1rem 2rem;margin:.75rem}}.jo-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.jo-card-columns[_ngcontent-%COMP%]{margin:2rem 0;display:grid;grid-template-columns:repeat(2,-webkit-max-content);grid-template-columns:repeat(2,max-content);justify-content:space-between}.jo-card-info[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(3,minmax(2.5rem,-webkit-min-content));grid-template-rows:repeat(3,minmax(2.5rem,min-content));grid-template-columns:repeat(2,minmax(2rem,-webkit-max-content));grid-template-columns:repeat(2,minmax(2rem,max-content));grid-column-gap:1rem}.jo-card-info[_ngcontent-%COMP%]:not(:last-of-type){padding-right:2rem;margin-right:1rem;border-right:1px solid hsla(0,0%,100%,.7)}.jo-card-info[_ngcontent-%COMP%] > .align-right[_ngcontent-%COMP%]{justify-self:end}.jo-card-label[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:lighter;opacity:.7}a[_ngcontent-%COMP%]{color:currentColor}"],changeDetection:0}),Ps);function _s(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",4),la.dc("click",(function(e){return la.tc(n),la.hc().onNew(e)})),la.Tb(1,"span"),la.Xb(2,$s),la.Sb(),la.Sb()}}function Ms(e,t){if(1&e){var n=la.Ub();la.Tb(0,"jo-receiver-card",5),la.dc("copy",(function(e){return la.tc(n),la.hc().onCopy(e)}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)})),la.Sb()}2&e&&la.nc("summary",t.$implicit)}$s=$localize(Or());var zs,As,Bs,Rs,Es,Ns,Fs=function(){return["sales-user"]},Ls=((zs=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).service=e,c}return n}(gl)).\u0275fac=function(e){return new(e||zs)(la.Nb(bl))},zs.\u0275cmp=la.Hb({type:zs,selectors:[["jo-receivers"]],features:[la.zb],decls:6,vars:5,consts:[[1,"window"],["mat-raised-button","","color","primary",3,"click",4,"joIfAuthorizedAs"],[1,"jo-cards"],["class","jo-card",3,"summary","copy","delete",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"jo-card",3,"summary","copy","delete"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"div"),la.Bc(2,_s,3,0,"button",1),la.Sb(),la.Tb(3,"div",2),la.Bc(4,Ms,1,1,"jo-receiver-card",3),la.ic(5,"async"),la.Sb(),la.Sb()),2&e&&(la.Cb(2),la.nc("joIfAuthorizedAs",la.oc(4,Fs)),la.Cb(2),la.nc("ngForOf",la.jc(5,2,t.summaries$)))},directives:[pl.a,vl.l,yl.b,xs],pipes:[vl.b],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}.jo-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;margin-top:5rem}@media only screen and (max-width:959px){.jo-cards[_ngcontent-%COMP%]{align-items:center;margin:1rem auto 0}}.jo-card[_ngcontent-%COMP%]{transition:all .25s}.jo-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05)}@media only screen and (max-width:599px){.jo-card[_ngcontent-%COMP%]:hover{transform:none}}"],changeDetection:0}),zs),Xs=["detailsForm"],qs=((As=function(){function e(t,n){var c=this;na(this,e),this.service=t,this.route=n,this.task$=new ji.BehaviorSubject("edit"),this.route.paramMap.subscribe((function(e){c.initializeWithData(e.get("id"))}))}return ra(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.service.isUserAllowedToEdit()||this.formComponent.form.disable()}},{key:"onChanged",value:function(e){this.service.change(e)}},{key:"onCreate",value:function(e){this.service.create(e)}},{key:"onCopy",value:function(e){this.service.copy(e)}},{key:"onDelete",value:function(e){this.service.delete(e)}},{key:"onNew",value:function(e){this.service.new()}},{key:"onUpdate",value:function(e){this.service.update(e)}}]),e}()).\u0275fac=function(e){return new(e||As)(la.Nb(ul),la.Nb(ua.a))},As.\u0275cmp=la.Hb({type:As,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&la.Gc(Xs,!0),2&e&&la.rc(n=la.ec())&&(t.formComponent=n.first)},decls:0,vars:0,template:function(e,t){},encapsulation:2}),As),Hs=Kr("3Pt+"),Us=Kr("MqGq"),Vs=Kr("wd/R"),Gs=((Bs=function(){function e(t,n){na(this,e),this.locale=t,this.decimalPipe=n,this.formattingInfo=this.getFormattingInfo(),this.decimalSeparatorEscaped=this.escapeForRegex(this.formattingInfo.decimalSeparator),this.thousandSeparatorEscaped=this.escapeForRegex(this.formattingInfo.thousandSeparator)}return ra(e,[{key:"fromLocalAmount",value:function(e){if(!e)return 0;if("string"!=typeof e)return e;var t=e.replace(new RegExp(this.thousandSeparatorEscaped,"g"),"").replace(new RegExp(this.decimalSeparatorEscaped,"g"),".");return parseFloat(t)}},{key:"toLocalAmount",value:function(e){return isNaN(e)?null:this.decimalPipe.transform(e,"1.2-2")}},{key:"fromLocalPercent",value:function(e){return this.fromLocalAmount(e)}},{key:"toLocalPercent",value:function(e){return e||0===e?this.decimalPipe.transform(e,"1.1-3"):null}},{key:"toLocalISOString",value:function(e){if(!e)return null;var t=function(e){return e<10?"0"+e:e},n=e.getTimezoneOffset(),c=(n>0?"-":"+")+t(Math.abs(n/60));return n%60!=0&&(c+=t(Math.abs(n%60))),0===n&&(c="Z"),e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+c}},{key:"toLocalDateISOString",value:function(e){return this.toLocalISOString(e).substr(0,10)}},{key:"generateAbbrevMonthNames",value:function(){var e=[],t=Vs("2017-12-01");t.locale(this.locale);for(var n=0;n<12;n++)t.add(1,"month"),e.push(t.format("MMM"));return e}},{key:"escapeForRegex",value:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getFormattingInfo",value:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandSeparator:this.getThousandSeparator(),numberOfDecimals:this.getNumberOfDecimals()}}},{key:"getDecimalSeparator",value:function(){return 12345.6789.toLocaleString().match(/345(.*)67/)[1]}},{key:"getThousandSeparator",value:function(){return 12345.6789.toLocaleString().match(/12(.*)345/)[1]}},{key:"getNumberOfDecimals",value:function(){return 12345.6789.toLocaleString().match(/345(\D*)(\d+)$/)[2].length}}]),e}()).\u0275fac=function(e){return new(e||Bs)(la.Zb(la.w),la.Zb(vl.f))},Bs.\u0275prov=la.Jb({token:Bs,factory:Bs.\u0275fac,providedIn:ia.a}),Bs),Ys=Kr("Kj3r"),Zs=Kr("/uUt"),Qs=Kr("ExVU"),Js=((Rs=function(){function e(t,n,c,r){var a=this;na(this,e),this.fb=t,this.store=n,this.router=c,this.utility=r,this.copy=new la.o,this.changed=new la.o,this.new=new la.o,this.create=new la.o,this.update=new la.o,this.delete=new la.o,this.changedDocumentLinks=[],this.tabIndex=0,this.subscriptions={},this.onSimpleHeaderAmountChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=a.utility.fromLocalAmount(e)},this.onSimpleHeaderDateChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=Qs.DateTime.fromMillis(e.valueOf()).toJSDate(),console.log(a.object.header[t])},this.onSimpleHeaderStartDateChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=Ti.DateUtility.getStartDateFromMoment(e),console.log(a.object.header[t])},this.onSimpleHeaderEndDateChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=Ti.DateUtility.getEndDateFromMoment(e),console.log(a.object.header[t])},this.onSimpleHeaderTextChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=e},this.onSimpleHeaderNumberChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=+e},this.onSimpleHeaderPercentageChanged=function(e,t){console.log("".concat(t," changed on form: ").concat(e)),a.object.header[t]=a.utility.fromLocalPercent(e)}}return ra(e,[{key:"ngOnInit",value:function(){this.changedDocumentLinks=[]}},{key:"ngOnChanges",value:function(e){this.form?this.patchForm():(this.form=this.buildForm(),this.patchForm(),this.form.disabled||this.listenToChanges())}},{key:"ngOnDestroy",value:function(){Object.values(this.subscriptions).forEach((function(e){return e.unsubscribe}))}},{key:"onCancel",value:function(e){this.store.dispatch(new qi.a),e&&e.stopPropagation()}},{key:"onCopy",value:function(e){this.copy.emit(this.object),this.form.reset(),e&&e.stopPropagation()}},{key:"onDelete",value:function(e){this.delete.emit(this.object),e&&e.stopPropagation()}},{key:"onNew",value:function(e){this.new.emit(),this.form.reset(),e&&e.stopPropagation()}},{key:"onSave",value:function(e){var t=this.changeObject(e.value);this.existsObject(t)?this.update.emit(t):this.create.emit(t),this.form.markAsPristine()}},{key:"onTabChange",value:function(e){this.tabIndex=e.index}},{key:"hasError",value:function(e){var t=this;return e.map((function(e){return t.form.get(e).invalid})).some((function(e){return!0===e}))}},{key:"isChangeValid",value:function(e){return e.updateValueAndValidity(),e.valid}},{key:"listenToFieldChanges",value:function(e,t){if(!this.subscriptions[e]){var n=this.form.get(e);if(!n)return;this.subscriptions[e]=this.listenToValueChanges(n,e,t)}}},{key:"existsObject",value:function(e){return!!e.header.id}},{key:"listenToValueChanges",value:function(e,t,n){var c=this;return e.valueChanges.pipe(Object(Ys.a)(500),Object(Zs.a)()).subscribe((function(r){c.isChangeValid(e)&&n(r,t)}))}}]),e}()).\u0275fac=function(e){return new(e||Rs)(la.Nb(Hs.f),la.Nb(ta.h),la.Nb(ua.g),la.Nb(Gs))},Rs.\u0275cmp=la.Hb({type:Rs,selectors:[["ng-component"]],inputs:{object:"object"},outputs:{copy:"copy",changed:"changed",new:"new",create:"create",update:"update",delete:"delete"},features:[la.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Rs),Ks=Kr("wZkO"),Ws=Kr("QibW"),eb=Kr("kmnG"),tb=Kr("qFsG"),nb=Kr("7EHt"),cb=Kr("d3UM"),rb=Kr("NFeN"),ab=Kr("FKr1"),ib=Kr("dau4"),ob=Kr("0IaG"),ub=Kr("XiUz"),lb=Kr("bSwM");Es=$localize(Cr()),Ns=$localize(yr());var sb,bb,db,fb,mb,hb,gb,pb,vb,yb,Cb=["placeholder",$localize(vr())];sb=$localize(pr()),bb=$localize(gr()),db=$localize(hr()),fb=$localize(mr()),mb=$localize(fr()),hb=$localize(dr()),gb=$localize(br()),pb=$localize(sr()),vb=$localize(lr()),yb=$localize(ur());var Ob,jb,Sb,Tb,wb,kb,Db,Ib,Pb,$b,xb,_b,Mb,zb,Ab,Bb=((Ob=function(){function e(t,n){na(this,e),this.data=t,this.dialogRef=n}return ra(e,[{key:"onFileSelected",value:function(e){this.file=e.target.files[0],this.data.documentLink.name=this.file.name}},{key:"onUpload",value:function(){this.dialogRef.close(this.file)}}]),e}()).\u0275fac=function(e){return new(e||Ob)(la.Nb(ob.a),la.Nb(ob.g))},Ob.\u0275cmp=la.Hb({type:Ob,selectors:[["jo-file-upload-dialog"]],decls:40,vars:11,consts:[["form","ngForm"],["mat-dialog-title",""],["fxLayout","column"],["mat-raised-button","","color","primary",3,"click"],["hidden","","type","file",3,"change"],["fileInput",""],["matInput","","name","name","required","",3,"ngModel","ngModelChange",6,"placeholder"],["name","type","required","",3,"ngModel","ngModelChange"],[3,"value"],[1,""],["name","attachToEmail","color","primary",3,"ngModel","ngModelChange"],["id","btn_upload","mat-button","",3,"disabled","click"],["id","btn_cancel","mat-button","","mat-dialog-close",""]],template:function(e,t){if(1&e){var n=la.Ub();la.Tb(0,"form",null,0),la.Tb(2,"h1",1),la.Xb(3,Es),la.Sb(),la.Tb(4,"mat-dialog-content",2),la.Tb(5,"button",3),la.dc("click",(function(){return la.tc(n),la.sc(9).click()})),la.Tb(6,"span"),la.Xb(7,Ns),la.Sb(),la.Sb(),la.Tb(8,"input",4,5),la.dc("change",(function(e){return t.onFileSelected(e)})),la.Sb(),la.Tb(10,"mat-form-field"),la.Tb(11,"input",6),la.Yb(12,Cb),la.dc("ngModelChange",(function(e){return t.data.documentLink.name=e})),la.Sb(),la.Sb(),la.Tb(13,"mat-form-field"),la.Tb(14,"mat-select",7),la.dc("ngModelChange",(function(e){return t.data.documentLink.type=e})),la.Tb(15,"mat-option",8),la.Xb(16,sb),la.Sb(),la.Tb(17,"mat-option",8),la.Xb(18,bb),la.Sb(),la.Tb(19,"mat-option",8),la.Xb(20,db),la.Sb(),la.Tb(21,"mat-option",8),la.Xb(22,fb),la.Sb(),la.Tb(23,"mat-option",8),la.Xb(24,mb),la.Sb(),la.Tb(25,"mat-option",8),la.Xb(26,hb),la.Sb(),la.Tb(27,"mat-option",8),la.Xb(28,gb),la.Sb(),la.Sb(),la.Sb(),la.Tb(29,"div",9),la.Tb(30,"mat-checkbox",10),la.dc("ngModelChange",(function(e){return t.data.documentLink.attachToEmail=e})),la.Tb(31,"span"),la.Xb(32,pb),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Tb(33,"mat-dialog-actions"),la.Tb(34,"button",11),la.dc("click",(function(){return t.onUpload()})),la.Tb(35,"span"),la.Xb(36,vb),la.Sb(),la.Sb(),la.Tb(37,"button",12),la.Tb(38,"span"),la.Xb(39,yb),la.Sb(),la.Sb(),la.Sb(),la.Sb()}if(2&e){var c=la.sc(1);la.Cb(11),la.nc("ngModel",t.data.documentLink.name),la.Cb(3),la.nc("ngModel",t.data.documentLink.type),la.Cb(1),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("value",2),la.Cb(2),la.nc("value",3),la.Cb(2),la.nc("value",4),la.Cb(2),la.nc("value",5),la.Cb(2),la.nc("value",6),la.Cb(3),la.nc("ngModel",t.data.documentLink.attachToEmail),la.Cb(4),la.nc("disabled",!c.valid)}},directives:[Hs.x,Hs.q,Hs.r,ob.h,ob.e,ub.c,yl.b,eb.c,tb.b,Hs.c,Hs.v,Hs.p,Hs.s,cb.a,ab.l,lb.a,ob.c,ob.d],styles:["form[_ngcontent-%COMP%]{min-height:36rem;min-width:30rem;font-size:1.6rem}mat-dialog-content[_ngcontent-%COMP%]{height:60%;overflow:hidden}h1[_ngcontent-%COMP%]{font-size:1.8rem}"],changeDetection:0}),Ob),Rb=Kr("f0Cb");function Eb(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div"),la.Tb(1,"button",10),la.dc("click",(function(e){return la.tc(n),la.hc().onUpload(e)})),la.Tb(2,"mat-icon"),la.Cc(3,"file_upload"),la.Sb(),la.Cc(4," \xa0"),la.Tb(5,"span"),la.Xb(6,kb),la.Sb(),la.Sb(),la.Sb()}}function Nb(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",13),la.dc("click",(function(e){return la.tc(n),la.hc(2).onDeleteSelected(e)})),la.Tb(1,"mat-icon"),la.Cc(2,"delete_forever"),la.Sb(),la.Cc(3," \xa0"),la.Tb(4,"span"),la.Xb(5,Ib),la.Sb(),la.Sb()}}function Fb(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div"),la.Tb(1,"button",11),la.dc("click",(function(e){return la.tc(n),la.hc().onDownloadSelected(e)})),la.Tb(2,"mat-icon"),la.Cc(3,"file_download"),la.Sb(),la.Cc(4," \xa0"),la.Tb(5,"span"),la.Xb(6,Db),la.Sb(),la.Sb(),la.Bc(7,Nb,6,0,"button",12),la.Sb()}if(2&e){var c=la.hc();la.Cb(7),la.nc("ngIf",c.isUserAllowedToEdit())}}function Lb(e,t){if(1&e){var n=la.Ub();la.Tb(0,"form"),la.Ob(1,"mat-divider"),la.Tb(2,"div",14),la.Tb(3,"div",3),la.Tb(4,"mat-checkbox",4),la.dc("change",(function(){la.tc(n);var e=t.$implicit;return la.hc().onToggleSelect(e)})),la.Sb(),la.Sb(),la.Tb(5,"div",15),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onToggleSelect(e)})),la.Cc(6),la.Sb(),la.Tb(7,"mat-form-field",16),la.Tb(8,"mat-select",17),la.dc("selectionChange",(function(e){la.tc(n);var c=t.$implicit;return la.hc().onTypeChanged(e,c)})),la.Tb(9,"mat-option",18),la.Xb(10,Pb),la.Sb(),la.Tb(11,"mat-option",18),la.Xb(12,$b),la.Sb(),la.Tb(13,"mat-option",18),la.Xb(14,xb),la.Sb(),la.Tb(15,"mat-option",18),la.Xb(16,_b),la.Sb(),la.Tb(17,"mat-option",18),la.Xb(18,Mb),la.Sb(),la.Tb(19,"mat-option",18),la.Xb(20,zb),la.Sb(),la.Tb(21,"mat-option",18),la.Xb(22,Ab),la.Sb(),la.Sb(),la.Sb(),la.Tb(23,"div",8),la.Tb(24,"mat-checkbox",19),la.dc("change",(function(){la.tc(n);var e=t.$implicit;return la.hc().onAttachToEmailChanged(e)})),la.Sb(),la.Sb(),la.Sb(),la.Sb()}if(2&e){var c=t.$implicit,r=la.hc();la.Cb(4),la.nc("checked",r.isSelected(c)),la.Cb(2),la.Ec(" ",c.name," "),la.Cb(2),la.nc("value",c.type)("disabled",!r.isUserAllowedToEdit()),la.Cb(1),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("value",2),la.Cb(2),la.nc("value",3),la.Cb(2),la.nc("value",4),la.Cb(2),la.nc("value",5),la.Cb(2),la.nc("value",6),la.Cb(3),la.nc("checked",c.attachToEmail)("disabled",!r.isUserAllowedToEdit())}}jb=$localize(or()),Sb=$localize(ir()),Tb=$localize(ar()),wb=$localize(rr()),kb=$localize(cr()),Db=$localize(nr()),Ib=$localize(tr()),Pb=$localize(er()),$b=$localize(Wc()),xb=$localize(Kc()),_b=$localize(Jc()),Mb=$localize(Qc()),zb=$localize(Zc()),Ab=$localize(Yc());var Xb,qb,Hb,Ub=((Xb=function(){function e(t,n,c){na(this,e),this.store=t,this.dialog=n,this.service=c,this.selectionList=[],this.selectAll=!1}return ra(e,[{key:"ngOnChanges",value:function(e){this.documentLinks$=this.service.getDocumentLinks(this.object.header.objectType)}},{key:"getFilePath",value:function(){return"/docs/"+this.object.ownerKey}},{key:"isAnythingSelected",value:function(){return this.selectionList.length>0}},{key:"isSelected",value:function(e){return this.selectionList.findIndex((function(t){return t.path===e.path}))>=0}},{key:"isUserAllowedToEdit",value:function(){return this.service.isUserAllowedToEdit()}},{key:"onAttachToEmailChanged",value:function(e){this.service.update(Object.assign(Object.assign({},e),{attachToEmail:!e.attachToEmail}))}},{key:"onDeleteSelected",value:function(e){var t=this;this.selectionList.forEach((function(e){t.store.dispatch(new vi.o(e)),t.store.dispatch(new ib.a(e.path))})),this.selectionList=[],this.selectAll=!1,e&&e.stopPropagation()}},{key:"onDownloadSelected",value:function(e){var t=this;this.selectionList.forEach((function(e){return t.store.dispatch(new ib.b(e.path))})),this.selectionList=[],this.selectAll=!1,e&&e.stopPropagation()}},{key:"onToggleSelect",value:function(e){this.selectionList.findIndex((function(t){return t.path===e.path}))>=0?(this.selectAll=!1,this.selectionList=this.selectionList.filter((function(t){return t.path!==e.path}))):this.selectionList.push(e)}},{key:"onToggleSelectAll",value:function(e){var t=this;this.selectAll=e.checked,this.selectAll?(this.selectionList=[],this.documentLinks$.pipe(Object(nl.a)(1)).subscribe((function(e){return e.forEach((function(e){return t.selectionList.push(e)}))}))):this.selectionList=[]}},{key:"onTypeChanged",value:function(e,t){this.service.update(Object.assign(Object.assign({},t),{type:+e.value}))}},{key:"onUpload",value:function(e){var t=this,n={name:void 0,type:6,path:this.getFilePath(),attachToEmail:!1,owner:this.object.ownerKey};this.openFileUploadDialog(n).afterClosed().pipe(Object(nl.a)(1),Object(Li.a)((function(){return e.stopPropagation()}))).subscribe((function(e){if(e){var c={file:e,path:"".concat(t.getFilePath(),"/").concat(e.name),metadata:{name:n.name,type:n.type,attachToEmail:n.attachToEmail,owner:t.object.ownerKey}};t.store.dispatch(new ib.c(c)),n.path=c.path,t.store.dispatch(new vi.j(n))}}))}},{key:"openFileUploadDialog",value:function(e){return this.fileUploadDialogRef=this.dialog.open(Bb,{data:{documentLink:e}}),this.fileUploadDialogRef}}]),e}()).\u0275fac=function(e){return new(e||Xb)(la.Nb(ta.h),la.Nb(ob.b),la.Nb(fl))},Xb.\u0275cmp=la.Hb({type:Xb,selectors:[["jo-document-link-list"]],inputs:{object:"object"},features:[la.Ab],decls:16,vars:6,consts:[[1,"mat-elevation-z0"],[4,"ngIf"],[1,"table-header"],[1,"document-link-select","width--sm"],[3,"checked","change"],[1,"document-link-name","width--lg"],["fxHide.lt-md","",1,"document-link-type","width--lg"],["fxHide.gt-sm","",1,"document-link-type","width--lg"],[1,"document-link-attachToEmail","width--sm"],[4,"ngFor","ngForOf"],["id","btn_upload","mat-raised-button","","color","primary",3,"click"],["id","btn_download","mat-raised-button","","color","primary",3,"click"],["id","btn_delete","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","btn_delete","mat-raised-button","","color","warn",3,"click"],[1,"doclink-table-row"],[1,"document-link-name","width--lg",3,"click"],[1,"document-link-type","width--lg"],[3,"value","disabled","selectionChange"],[3,"value"],["color","primary",3,"checked","disabled","change"]],template:function(e,t){1&e&&(la.Tb(0,"form",0),la.Bc(1,Eb,7,0,"div",1),la.Bc(2,Fb,8,1,"div",1),la.Tb(3,"div",2),la.Tb(4,"div",3),la.Tb(5,"mat-checkbox",4),la.dc("change",(function(e){return t.onToggleSelectAll(e)})),la.Sb(),la.Sb(),la.Tb(6,"label",5),la.Xb(7,jb),la.Sb(),la.Tb(8,"label",6),la.Xb(9,Sb),la.Sb(),la.Tb(10,"label",7),la.Xb(11,Tb),la.Sb(),la.Tb(12,"label",8),la.Xb(13,wb),la.Sb(),la.Sb(),la.Sb(),la.Bc(14,Lb,25,13,"form",9),la.ic(15,"async")),2&e&&(la.Cb(1),la.nc("ngIf",!t.isAnythingSelected()&&t.isUserAllowedToEdit()),la.Cb(1),la.nc("ngIf",t.isAnythingSelected()),la.Cb(3),la.nc("checked",t.selectAll),la.Cb(9),la.nc("ngForOf",la.jc(15,4,t.documentLinks$)))},directives:[Hs.x,Hs.q,Hs.r,vl.m,lb.a,Sl.b,vl.l,yl.b,rb.a,Rb.a,eb.c,cb.a,ab.l],pipes:[vl.b],styles:[".table-header[_ngcontent-%COMP%]{margin-top:3.6rem;display:flex}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-right:0;padding:.8rem 1.2rem}@media only screen and (max-width:959px){.table-header[_ngcontent-%COMP%]{font-size:1.6rem}.table-header[_ngcontent-%COMP%]   .width--lg[_ngcontent-%COMP%]{width:10rem}.table-header[_ngcontent-%COMP%]   label.document-link-type.width--lg[_ngcontent-%COMP%]{width:12rem}}.doclink-table-row[_ngcontent-%COMP%]{display:flex}.doclink-table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .doclink-table-row[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{padding:.8rem 1.2rem}@media only screen and (max-width:959px){.doclink-table-row[_ngcontent-%COMP%]{font-size:1.6rem}}.width--xs[_ngcontent-%COMP%]{width:4rem}.width--sm[_ngcontent-%COMP%]{width:8rem}@media only screen and (max-width:959px){.width--sm[_ngcontent-%COMP%]{width:4rem}}.width--md[_ngcontent-%COMP%]{width:12rem}.width--lg[_ngcontent-%COMP%]{width:28rem}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{width:16rem}}.width--xl[_ngcontent-%COMP%]{width:36rem}div.document-link-select[_ngcontent-%COMP%]{padding-left:1.5rem;align-self:center;justify-self:center}div.document-link-name[_ngcontent-%COMP%], div.document-link-type[_ngcontent-%COMP%]{align-self:center;overflow:hidden}div.document-link-attachToEmail[_ngcontent-%COMP%]{align-self:center;justify-self:center}"]}),Xb),Vb=Kr("+0xr"),Gb=((qb=function(){function e(){na(this,e),this.dataSource=new Vb.k}return ra(e,[{key:"ngOnChanges",value:function(){this.dataSource.data=this.objects}}]),e}()).\u0275fac=function(e){return new(e||qb)},qb.\u0275cmp=la.Hb({type:qb,selectors:[["ng-component"]],inputs:{objects:"objects"},features:[la.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),qb);function Yb(e,t){1&e&&(la.Tb(0,"mat-header-cell",18),la.Xb(1,Hb),la.Sb())}Hb=$localize(Gc());var Zb,Qb,Jb,Kb,Wb,ed=function(e){return["/invoicing/contracts",e]};function td(e,t){if(1&e&&(la.Tb(0,"mat-cell",18),la.Tb(1,"a",19),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.nc("routerLink",la.pc(2,ed,n.header.id)),la.Cb(1),la.Dc(n.header.id)}}function nd(e,t){1&e&&(la.Tb(0,"mat-header-cell",20),la.Xb(1,Zb),la.Sb())}function cd(e,t){if(1&e&&(la.Tb(0,"mat-cell",20),la.Cc(1),la.ic(2,"date"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.jc(2,1,n.header.issuedAt)," ")}}function rd(e,t){1&e&&(la.Tb(0,"mat-header-cell",21),la.Xb(1,Qb),la.Sb())}function ad(e,t){if(1&e&&(la.Tb(0,"mat-cell",21),la.Tb(1,"span",22),la.Cc(2),la.Sb(),la.Tb(3,"span",23),la.Cc(4),la.Sb(),la.Sb()),2&e){var n=t.$implicit,c=la.hc();la.Cb(2),la.Dc(n.header.description),la.Cb(2),la.Dc(c.getShortenedDescription(n.header.description))}}function id(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Xb(1,Jb),la.Sb())}function od(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Tb(1,"span",22),la.Cc(2),la.ic(3,"date"),la.Sb(),la.Tb(4,"span",23),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(2),la.Dc(la.jc(3,2,n.header.startDate)),la.Cb(3),la.Dc(la.kc(6,4,n.header.startDate,"dd.MM.yy"))}}function ud(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Xb(1,Kb),la.Sb())}function ld(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Tb(1,"span",22),la.Cc(2),la.ic(3,"date"),la.Sb(),la.Tb(4,"span",23),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(2),la.Dc(la.jc(3,2,n.header.endDate)),la.Cb(3),la.Dc(la.kc(6,4,n.header.endDate,"dd.MM.yy"))}}function sd(e,t){1&e&&(la.Tb(0,"mat-header-cell",20),la.Xb(1,Wb),la.Sb())}function bd(e,t){if(1&e&&(la.Tb(0,"mat-cell",20),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.header.budget,"1.2-2")," ")}}function dd(e,t){1&e&&la.Ob(0,"mat-header-row")}function fd(e,t){1&e&&la.Ob(0,"mat-row")}Zb=$localize(Vc()),Qb=$localize(Uc()),Jb=$localize(Hc()),Kb=$localize(qc()),Wb=$localize(Xc());var md,hd,gd=((md=function(e){Jr(n,e);var t=Wr(n);function n(){var e;return na(this,n),(e=t.apply(this,arguments)).displayedColumns=["id","issuedAt","description","startDate","endDate","budget"],e}return ra(n,[{key:"getShortenedDescription",value:function(e){return e.length>20?e.substring(0,20)+"...":e}}]),n}(Gb)).\u0275fac=function(e){return pd(e||md)},md.\u0275cmp=la.Hb({type:md,selectors:[["jo-contract-list"]],features:[la.zb],decls:22,vars:3,consts:[[1,"mat-elevation-z4"],[3,"dataSource"],["matColumnDef","id"],["class","width--sm",4,"matHeaderCellDef"],["class","width--sm",4,"matCellDef"],["matColumnDef","issuedAt"],["fxHide.lt-md","","style","display: flex !important;",4,"matHeaderCellDef"],["fxHide.lt-md","","style","display: flex !important;",4,"matCellDef"],["matColumnDef","description"],["class","width--lg",4,"matHeaderCellDef"],["class","width--lg",4,"matCellDef"],["matColumnDef","startDate"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","endDate"],["matColumnDef","budget"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"width--sm"],["mat-button","",3,"routerLink"],["fxHide.lt-md","",2,"display","flex !important"],[1,"width--lg"],["fxHide.lt-md",""],["fxHide.gt-sm",""]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"mat-table",1),la.Rb(2,2),la.Bc(3,Yb,2,0,"mat-header-cell",3),la.Bc(4,td,3,4,"mat-cell",4),la.Qb(),la.Rb(5,5),la.Bc(6,nd,2,0,"mat-header-cell",6),la.Bc(7,cd,3,3,"mat-cell",7),la.Qb(),la.Rb(8,8),la.Bc(9,rd,2,0,"mat-header-cell",9),la.Bc(10,ad,5,2,"mat-cell",10),la.Qb(),la.Rb(11,11),la.Bc(12,id,2,0,"mat-header-cell",12),la.Bc(13,od,7,7,"mat-cell",13),la.Qb(),la.Rb(14,14),la.Bc(15,ud,2,0,"mat-header-cell",12),la.Bc(16,ld,7,7,"mat-cell",13),la.Qb(),la.Rb(17,15),la.Bc(18,sd,2,0,"mat-header-cell",6),la.Bc(19,bd,3,4,"mat-cell",7),la.Qb(),la.Bc(20,dd,1,0,"mat-header-row",16),la.Bc(21,fd,1,0,"mat-row",17),la.Sb(),la.Sb()),2&e&&(la.Cb(1),la.nc("dataSource",t.dataSource),la.Cb(19),la.nc("matHeaderRowDef",t.displayedColumns),la.Cb(1),la.nc("matRowDefColumns",t.displayedColumns))},directives:[Vb.j,Vb.c,Vb.e,Vb.b,Vb.g,Vb.i,Vb.d,Vb.a,yl.a,ua.j,Sl.b,Vb.f,Vb.h],pipes:[vl.e,vl.f],styles:["mat-cell[_ngcontent-%COMP%] > a.mat-button[_ngcontent-%COMP%]{min-width:4rem;padding:0 .5rem}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]{font-size:1.6rem}}@media only screen and (max-width:959px){mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}}.width--sm[_ngcontent-%COMP%]{flex:1}.width--lg[_ngcontent-%COMP%]{flex:2}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{padding-left:.5rem}}"],changeDetection:0}),md),pd=la.Vb(gd);function vd(e,t){1&e&&(la.Tb(0,"mat-header-cell",19),la.Xb(1,hd),la.Sb())}hd=$localize(Lc());var yd,Cd,Od,jd,Sd,Td,wd,kd=function(e){return["/invoicing/invoices",e]};function Dd(e,t){if(1&e&&(la.Tb(0,"mat-cell",19),la.Tb(1,"a",20),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.nc("routerLink",la.pc(2,kd,n.header.id)),la.Cb(1),la.Dc(n.header.id)}}function Id(e,t){1&e&&(la.Tb(0,"mat-header-cell",21),la.Xb(1,yd),la.Sb())}function Pd(e,t){if(1&e&&(la.Tb(0,"mat-cell",21),la.Cc(1),la.ic(2,"date"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.jc(2,1,n.header.issuedAt)," ")}}function $d(e,t){1&e&&(la.Tb(0,"mat-header-cell",22),la.Tb(1,"span",23),la.Xb(2,Cd),la.Sb(),la.Tb(3,"span",24),la.Xb(4,Od),la.Sb(),la.Sb())}function xd(e,t){if(1&e&&(la.Tb(0,"mat-cell",22),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",n.header.billingPeriod," ")}}function _d(e,t){1&e&&(la.Tb(0,"mat-header-cell",21),la.Xb(1,jd),la.Sb())}function Md(e,t){if(1&e&&(la.Tb(0,"mat-cell",21),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.netValue,"1.2-2")," ")}}function zd(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Tb(1,"span",23),la.Xb(2,Sd),la.Sb(),la.Tb(3,"span",24),la.Xb(4,Td),la.Sb(),la.Sb())}function Ad(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.paymentAmount,"1.2-2")," ")}}function Bd(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Xb(1,wd),la.Sb())}yd=$localize(Fc()),Cd=$localize(Nc()),Od=$localize(Ec()),jd=$localize(Rc()),Sd=$localize(Bc()),Td=$localize(Ac()),wd=$localize(zc());var Rd=function(e){return{"past-due":e}};function Ed(e,t){if(1&e&&(la.Tb(0,"mat-cell",25),la.Tb(1,"span",23),la.Cc(2),la.ic(3,"date"),la.Sb(),la.Tb(4,"span",24),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Sb()),2&e){var n=t.$implicit,c=la.hc();la.nc("ngClass",la.pc(8,Rd,c.isPastDue(n))),la.Cb(2),la.Dc(la.jc(3,3,n.dueDate)),la.Cb(3),la.Dc(la.kc(6,5,n.dueDate,"dd.MM.yy"))}}function Nd(e,t){1&e&&la.Ob(0,"mat-header-row")}function Fd(e,t){1&e&&la.Ob(0,"mat-row")}var Ld,Xd,qd,Hd=((Ld=function(e){Jr(n,e);var t=Wr(n);function n(){var e;return na(this,n),(e=t.apply(this,arguments)).displayedColumns=["id","issuedAt","billingPeriod","netValue","paymentAmount","dueDate"],e}return ra(n,[{key:"ngOnChanges",value:function(){this.dataSource.data=this.objects}},{key:"isPastDue",value:function(e){return!e.isPaid()&&e.dueDate<new Date}}]),n}(Gb)).\u0275fac=function(e){return Ud(e||Ld)},Ld.\u0275cmp=la.Hb({type:Ld,selectors:[["jo-invoice-list"]],features:[la.zb,la.Ab],decls:22,vars:3,consts:[[1,"mat-elevation-z4"],[3,"dataSource"],["matColumnDef","id"],["class","width--sm",4,"matHeaderCellDef"],["class","width--sm",4,"matCellDef"],["matColumnDef","issuedAt"],["fxHide.lt-md","","style","display: flex !important;",4,"matHeaderCellDef"],["fxHide.lt-md","","style","display: flex !important;",4,"matCellDef"],["matColumnDef","billingPeriod"],["class","width--lg",4,"matHeaderCellDef"],["class","width--lg",4,"matCellDef"],["matColumnDef","netValue"],["matColumnDef","paymentAmount"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","dueDate"],[3,"ngClass",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"width--sm"],["mat-button","",3,"routerLink"],["fxHide.lt-md","",2,"display","flex !important"],[1,"width--lg"],["fxHide.lt-md",""],["fxHide.gt-sm",""],[3,"ngClass"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"mat-table",1),la.Rb(2,2),la.Bc(3,vd,2,0,"mat-header-cell",3),la.Bc(4,Dd,3,4,"mat-cell",4),la.Qb(),la.Rb(5,5),la.Bc(6,Id,2,0,"mat-header-cell",6),la.Bc(7,Pd,3,3,"mat-cell",7),la.Qb(),la.Rb(8,8),la.Bc(9,$d,5,0,"mat-header-cell",9),la.Bc(10,xd,2,1,"mat-cell",10),la.Qb(),la.Rb(11,11),la.Bc(12,_d,2,0,"mat-header-cell",6),la.Bc(13,Md,3,4,"mat-cell",7),la.Qb(),la.Rb(14,12),la.Bc(15,zd,5,0,"mat-header-cell",13),la.Bc(16,Ad,3,4,"mat-cell",14),la.Qb(),la.Rb(17,15),la.Bc(18,Bd,2,0,"mat-header-cell",13),la.Bc(19,Ed,7,10,"mat-cell",16),la.Qb(),la.Bc(20,Nd,1,0,"mat-header-row",17),la.Bc(21,Fd,1,0,"mat-row",18),la.Sb(),la.Sb()),2&e&&(la.Cb(1),la.nc("dataSource",t.dataSource),la.Cb(19),la.nc("matHeaderRowDef",t.displayedColumns),la.Cb(1),la.nc("matRowDefColumns",t.displayedColumns))},directives:[Vb.j,Vb.c,Vb.e,Vb.b,Vb.g,Vb.i,Vb.d,Vb.a,yl.a,ua.j,Sl.b,vl.k,Sl.a,Vb.f,Vb.h],pipes:[vl.e,vl.f],styles:["mat-cell[_ngcontent-%COMP%] > a.mat-button[_ngcontent-%COMP%]{min-width:5rem;padding:0 .5rem}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%] > a.mat-button[_ngcontent-%COMP%]{padding-left:.5rem}}@media only screen and (min-width:1279px){mat-cell[fxhide\\.lt-md][_ngcontent-%COMP%]{display:flex!important}}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]{font-size:1.6rem}}@media only screen and (min-width:1279px){mat-header-cell[fxhide\\.lt-md][_ngcontent-%COMP%]{display:flex!important}}@media only screen and (max-width:959px){mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}}.width--sm[_ngcontent-%COMP%]{flex:1}.width--lg[_ngcontent-%COMP%]{flex:3}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{padding-left:.5rem}}.past-due[_ngcontent-%COMP%]{color:#c62828}"],changeDetection:0}),Ld),Ud=la.Vb(Hd),Vd=["label",$localize(Mc())];Xd=$localize(_c()),qd=$localize(xc());var Gd,Yd=["placeholder",$localize($c())],Zd=["placeholder",$localize(Pc())];Gd=$localize(Ic());var Qd,Jd,Kd,Wd,ef=["placeholder",$localize(Dc())],tf=["placeholder",$localize(kc())],nf=["placeholder",$localize(wc())],cf=["placeholder",$localize(Tc())],rf=["placeholder",$localize(Sc())],af=["placeholder",$localize(jc())],of=["placeholder",$localize(Oc())],uf=["placeholder",$localize(Cc())],lf=["placeholder",$localize(yc())];function sf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Qd),la.Sb())}function bf(e,t){1&e&&(la.Tb(0,"mat-icon",30),la.Cc(1,"error_outline"),la.Sb())}function df(e,t){if(1&e&&(la.Tb(0,"mat-option",31),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.nc("value",n.isoCode),la.Cb(1),la.Dc(n.name)}}function ff(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Jd),la.Sb())}function mf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Kd),la.Sb())}function hf(e,t){1&e&&(la.Tb(0,"mat-icon",30),la.Cc(1," error_outline "),la.Sb())}Qd=$localize(vc()),Jd=$localize(pc()),Kd=$localize(gc()),Wd=$localize(hc());var gf,pf,vf,yf,Cf,Of=function(){return["email","phone","fax","webSite","logoUrl"]};function jf(e,t){if(1&e&&(la.Bc(0,hf,2,0,"mat-icon",12),la.Tb(1,"span"),la.Xb(2,Wd),la.Sb()),2&e){var n=la.hc();la.nc("ngIf",n.hasError(la.oc(1,Of)))}}function Sf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,gf),la.Sb())}function Tf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,pf),la.Sb())}function wf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,vf),la.Sb())}function kf(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,yf),la.Sb())}function Df(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Cf),la.Sb())}gf=$localize(mc()),pf=$localize(fc()),vf=$localize(dc()),yf=$localize(bc()),Cf=$localize(sc());var If=["label",$localize(lc())];function Pf(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,If),la.Tb(2,"section",32),la.Tb(3,"div"),la.Ob(4,"jo-document-link-list",33),la.Sb(),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(4),la.nc("object",n.object)}}var $f=["label",$localize(uc())];function xf(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,$f),la.Ob(2,"jo-contract-list",34),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.activeContracts)}}var _f=["label",$localize(oc())];function Mf(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,_f),la.Ob(2,"jo-contract-list",34),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.lastContracts)}}var zf=["label",$localize(ic())];function Af(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,zf),la.Ob(2,"jo-invoice-list",34),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.openInvoices)}}var Bf,Rf,Ef,Nf,Ff,Lf,Xf,qf=["label",$localize(ac())];function Hf(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,qf),la.Ob(2,"jo-invoice-list",34),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.lastInvoices)}}function Uf(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,Bf),la.Sb())}function Vf(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,Rf),la.Sb())}function Gf(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",43),la.dc("click",(function(e){return la.tc(n),la.hc(3).onDelete(e)})),la.Tb(1,"span"),la.Xb(2,Lf),la.Sb(),la.Sb()}}function Yf(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",44),la.dc("click",(function(){la.tc(n);var e=la.hc(3);return e.onQuickInvoice(e.object)})),la.Tb(1,"span"),la.Xb(2,Xf),la.Sb(),la.Sb()}}function Zf(e,t){if(1&e){var n=la.Ub();la.Rb(0),la.Bc(1,Gf,3,0,"button",38),la.Tb(2,"button",39),la.dc("click",(function(e){return la.tc(n),la.hc(2).onNew(e)})),la.Tb(3,"span"),la.Xb(4,Ef),la.Sb(),la.Sb(),la.Tb(5,"button",40),la.dc("click",(function(e){return la.tc(n),la.hc(2).onCopy(e)})),la.Tb(6,"span"),la.Xb(7,Nf),la.Sb(),la.Sb(),la.Tb(8,"button",41),la.dc("click",(function(){la.tc(n);var e=la.hc(2);return e.onSave(e.form)})),la.Tb(9,"span"),la.Xb(10,Ff),la.Sb(),la.Sb(),la.Bc(11,Yf,3,0,"button",42),la.Qb()}if(2&e){var c=la.hc(2);la.Cb(1),la.nc("ngIf",c.isDeletable||!c.form.controls.id.value),la.Cb(1),la.nc("disabled",!c.form.valid||c.form.dirty),la.Cb(3),la.nc("disabled",!c.form.valid||c.form.dirty||!c.object.header.id),la.Cb(3),la.nc("disabled",!c.form.valid||!c.form.dirty),la.Cb(3),la.nc("ngIf",c.isQualForQuickInvoice&&c.form.valid&&!c.form.dirty)}}Bf=$localize(rc()),Rf=$localize(cc()),Ef=$localize(nc()),Nf=$localize(tc()),Ff=$localize(ec()),Lf=$localize(Wn()),Xf=$localize(Kn());var Qf=function(){return["sales-user"]};function Jf(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",35),la.Tb(1,"button",36),la.dc("click",(function(e){return la.tc(n),la.hc().onCancel(e)})),la.Bc(2,Uf,2,0,"span",9),la.Bc(3,Vf,2,0,"span",9),la.Sb(),la.Bc(4,Zf,12,5,"ng-container",37),la.Sb()}if(2&e){var c=la.hc();la.Cb(2),la.nc("ngIf",c.form.dirty),la.Cb(1),la.nc("ngIf",!c.form.dirty),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(3,Qf))}}var Kf,Wf,em=function(){return["postalCode","city"]},tm=((Kf=function(e){Jr(n,e);var t=Wr(n);function n(e,c,r){var a;return na(this,n),(a=t.call(this,e,c,r)).fb=e,a.store=c,a.router=r,a.quickInvoice=new la.o,a}return ra(n,[{key:"getFormTitle",value:function(){return this.object.header.id?"".concat(this.object.header.id," - ").concat(this.object.header.name):"[neu]"}},{key:"onQuickInvoice",value:function(e){this.quickInvoice.emit(e)}},{key:"buildForm",value:function(){return this.fb.group({id:[{value:"",disabled:!0}],status:[""],name:["",[Hs.w.required]],nameAdd:[""],country:[""],postalCode:["",[Hs.w.required]],city:["",[Hs.w.required]],street:[""],email:["",[Hs.w.pattern(Us.c)]],phone:["",[Hs.w.pattern(Us.d)]],fax:["",[Hs.w.pattern(Us.d)]],webSite:["",[Hs.w.pattern(Us.e)]],logoUrl:["",[Hs.w.pattern(Us.e)]]})}},{key:"changeObject",value:function(e){var t=Object.assign({},this.object.data,{status:+e.status,name:e.name,nameAdd:e.nameAdd,logoUrl:e.logoUrl,address:{country:e.country,postalCode:e.postalCode,city:e.city,street:e.street,email:e.email,phone:e.phone,fax:e.fax,webSite:e.webSite}});console.log("changed receiver: ",t);var n=Ti.ReceiverFactory.fromData(t);return console.log("changed receiver object: ",n),this.changed.emit(n),n}},{key:"listenToChanges",value:function(){}},{key:"patchForm",value:function(){var e={status:this.object.header.status.toString()},t=Object.assign({},Object.assign(Object.assign({},this.object.header),this.object.address),e);this.form.patchValue(t)}}]),n}(Js)).\u0275fac=function(e){return new(e||Kf)(la.Nb(Hs.f),la.Nb(ta.h),la.Nb(ua.g))},Kf.\u0275cmp=la.Hb({type:Kf,selectors:[["jo-receiver-form"]],inputs:{isDeletable:"isDeletable",isQualForQuickInvoice:"isQualForQuickInvoice",activeContracts:"activeContracts",lastContracts:"lastContracts",openInvoices:"openInvoices",lastInvoices:"lastInvoices",task:"task",countries:"countries"},outputs:{quickInvoice:"quickInvoice"},features:[la.zb],decls:70,vars:18,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","receiver-form",3,"formGroup"],[3,"selectedTabChange"],[6,"label"],["id","status-group","formControlName","status","aria-label","Kunde aktiv"],["color","primary","value","0"],["color","accent","value","1"],["id","name-group"],[1,"width--lg"],["matInput","","id","name","formControlName","name",6,"placeholder"],[4,"ngIf"],["matInput","","id","nameAdd","formControlName","nameAdd",6,"placeholder"],["expanded","true"],["color","warn",4,"ngIf"],["id","address-group"],["id","country","formControlName","country",6,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"width--sm"],["matInput","","id","postalCode","formControlName","postalCode",6,"placeholder"],["matInput","","id","city","formControlName","city",6,"placeholder"],["matInput","","id","street","formControlName","street",6,"placeholder"],["mat-tab-label",""],["id","comm-group"],["matInput","","type","email","id","email","formControlName","email",6,"placeholder"],["matInput","","id","phone","formControlName","phone",6,"placeholder"],["matInput","","id","fax","formControlName","fax",6,"placeholder"],["id","url-group"],["matInput","","type","url","id","webSite","formControlName","webSite",6,"placeholder"],["matInput","","type","url","id","logoUrl","formControlName","logoUrl",6,"placeholder"],[4,"ngIf",6,"label"],["class","jo-btn-row",4,"ngIf"],["color","warn"],[3,"value"],[1,"tables","u-mt-lg"],[3,"object"],[3,"objects"],[1,"jo-btn-row"],["id","btn_cancel","type","button","mat-raised-button","",3,"click"],[4,"joIfAuthorizedAs"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","btn_new","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_copy","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click"],["id","btn_quickInvoice","type","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click"],["id","btn_quickInvoice","type","button","mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(la.Tb(0,"form",0),la.Tb(1,"mat-tab-group",1),la.dc("selectedTabChange",(function(e){return t.onTabChange(e)})),la.Cc(2,"> "),la.Tb(3,"mat-tab",2),la.Yb(4,Vd),la.Tb(5,"mat-radio-group",3),la.Tb(6,"mat-radio-button",4),la.Xb(7,Xd),la.Sb(),la.Tb(8,"mat-radio-button",5),la.Xb(9,qd),la.Sb(),la.Sb(),la.Tb(10,"div",6),la.Tb(11,"mat-form-field",7),la.Tb(12,"input",8),la.Yb(13,Yd),la.Sb(),la.Bc(14,sf,2,0,"mat-error",9),la.Sb(),la.Tb(15,"mat-form-field",7),la.Tb(16,"input",10),la.Yb(17,Zd),la.Sb(),la.Sb(),la.Sb(),la.Tb(18,"mat-expansion-panel",11),la.Tb(19,"mat-expansion-panel-header"),la.Tb(20,"mat-panel-title"),la.Xb(21,Gd),la.Sb(),la.Tb(22,"mat-panel-description"),la.Bc(23,bf,2,0,"mat-icon",12),la.Sb(),la.Sb(),la.Tb(24,"div",13),la.Tb(25,"mat-form-field"),la.Tb(26,"mat-select",14),la.Yb(27,ef),la.Bc(28,df,2,2,"mat-option",15),la.Sb(),la.Sb(),la.Tb(29,"mat-form-field",16),la.Tb(30,"input",17),la.Yb(31,tf),la.Sb(),la.Bc(32,ff,2,0,"mat-error",9),la.Sb(),la.Tb(33,"mat-form-field"),la.Tb(34,"input",18),la.Yb(35,nf),la.Sb(),la.Bc(36,mf,2,0,"mat-error",9),la.Sb(),la.Tb(37,"mat-form-field"),la.Tb(38,"input",19),la.Yb(39,cf),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Tb(40,"mat-tab"),la.Bc(41,jf,3,2,"ng-template",20),la.Tb(42,"div",21),la.Tb(43,"mat-form-field",7),la.Tb(44,"input",22),la.Yb(45,rf),la.Sb(),la.Bc(46,Sf,2,0,"mat-error",9),la.Sb(),la.Tb(47,"mat-form-field",7),la.Tb(48,"input",23),la.Yb(49,af),la.Sb(),la.Bc(50,Tf,2,0,"mat-error",9),la.Sb(),la.Tb(51,"mat-form-field",7),la.Tb(52,"input",24),la.Yb(53,of),la.Sb(),la.Bc(54,wf,2,0,"mat-error",9),la.Sb(),la.Sb(),la.Tb(55,"div",25),la.Tb(56,"mat-form-field",7),la.Tb(57,"input",26),la.Yb(58,uf),la.Sb(),la.Bc(59,kf,2,0,"mat-error",9),la.Sb(),la.Tb(60,"mat-form-field",7),la.Tb(61,"input",27),la.Yb(62,lf),la.Sb(),la.Bc(63,Df,2,0,"mat-error",9),la.Sb(),la.Sb(),la.Sb(),la.Bc(64,Pf,5,1,"mat-tab",28),la.Bc(65,xf,3,1,"mat-tab",28),la.Bc(66,Mf,3,1,"mat-tab",28),la.Bc(67,Af,3,1,"mat-tab",28),la.Bc(68,Hf,3,1,"mat-tab",28),la.Sb(),la.Bc(69,Jf,5,4,"div",29),la.Sb()),2&e&&(la.nc("formGroup",t.form),la.Cb(14),la.nc("ngIf",t.form.get("name").hasError("required")),la.Cb(9),la.nc("ngIf",t.hasError(la.oc(17,em))),la.Cb(5),la.nc("ngForOf",t.countries),la.Cb(4),la.nc("ngIf",t.form.get("postalCode").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("city").hasError("required")),la.Cb(10),la.nc("ngIf",t.form.get("email").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("phone").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("fax").hasError("pattern")),la.Cb(5),la.nc("ngIf",t.form.get("webSite").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("logoUrl").hasError("pattern")),la.Cb(1),la.nc("ngIf",t.object.header.id),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.activeContracts?null:t.activeContracts.length)>0),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.lastContracts?null:t.lastContracts.length)>0&&0===(null==t.activeContracts?null:t.activeContracts.length)),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.openInvoices?null:t.openInvoices.length)>0),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.lastInvoices?null:t.lastInvoices.length)>0&&0===(null==t.openInvoices?null:t.openInvoices.length)),la.Cb(1),la.nc("ngIf",t.tabIndex<2))},directives:[Hs.x,Hs.q,Hs.j,Ks.b,Ks.a,Ws.b,Hs.p,Hs.h,Ws.a,eb.c,tb.b,Hs.c,vl.m,nb.b,nb.d,nb.e,nb.c,cb.a,vl.l,Ks.c,eb.b,rb.a,ab.l,Ub,gd,Hd,yl.b,pl.a],styles:["#receiver-form[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:959px){#receiver-form[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]{height:4.8rem;font-size:1.4rem}#receiver-form[_ngcontent-%COMP%]   .mat-radio-label-content[_ngcontent-%COMP%], #receiver-form[_ngcontent-%COMP%]   .mat-tab-label-content[_ngcontent-%COMP%]{font-size:1.4rem}#receiver-form[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], #receiver-form[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}#receiver-form[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:6.4rem!important}}#address-group[_ngcontent-%COMP%], #name-group[_ngcontent-%COMP%]{margin-bottom:2.4rem;display:flex;flex-wrap:wrap}#address-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #name-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){margin-right:2.4rem}@media only screen and (max-width:959px){#address-group[_ngcontent-%COMP%], #name-group[_ngcontent-%COMP%]{flex-direction:column;font-size:1.6rem}}#name-group[_ngcontent-%COMP%], #status-group[_ngcontent-%COMP%]{padding:0 2.4rem}#status-group[_ngcontent-%COMP%]{margin-top:2.4rem;margin-bottom:2.4rem;display:flex;flex-wrap:wrap}#status-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:0 1.6rem}@media only screen and (max-width:959px){#status-group[_ngcontent-%COMP%]{font-size:1.6rem}}#comm-group[_ngcontent-%COMP%], #url-group[_ngcontent-%COMP%]{margin-top:3.6rem;display:flex;flex-direction:column}#comm-group[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]:not(:last-child), #url-group[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.4rem}@media only screen and (max-width:959px){#comm-group[_ngcontent-%COMP%], #url-group[_ngcontent-%COMP%]{font-size:1.6rem}}.jo-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}"],changeDetection:0}),Kf);function nm(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-card",1),la.Tb(1,"mat-card-header"),la.Tb(2,"mat-card-title"),la.Tb(3,"span",2),la.Xb(4,Wf),la.Sb(),la.Tb(5,"span"),la.Cc(6),la.Sb(),la.Sb(),la.Sb(),la.Tb(7,"mat-card-content"),la.Tb(8,"section"),la.Tb(9,"jo-receiver-form",3,4),la.dc("copy",(function(e){return la.tc(n),la.hc().onCopy(e)}))("new",(function(){return la.tc(n),la.hc().onNew()}))("changed",(function(e){return la.tc(n),la.hc().onChanged(e)}))("create",(function(e){return la.tc(n),la.hc().onCreate(e)}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)}))("update",(function(e){return la.tc(n),la.hc().onUpdate(e)}))("quickInvoice",(function(e){return la.tc(n),la.hc().onQuickInvoice(e)})),la.ic(11,"async"),la.ic(12,"async"),la.ic(13,"async"),la.ic(14,"async"),la.ic(15,"async"),la.ic(16,"async"),la.ic(17,"async"),la.ic(18,"async"),la.Sb(),la.Sb(),la.Sb(),la.Sb()}if(2&e){var c=t.ngIf,r=la.hc();la.Cb(6),la.Dc(r.getTitle(c)),la.Cb(3),la.nc("object",c)("isDeletable",la.jc(11,10,r.isDeletable$))("isQualForQuickInvoice",la.jc(12,12,r.isQualifiedForQuickInvoice$))("activeContracts",la.jc(13,14,r.activeContractsForReceiver$))("lastContracts",la.jc(14,16,r.lastContractsForReceiver$))("openInvoices",la.jc(15,18,r.openInvoicesForReceiver$))("lastInvoices",la.jc(16,20,r.lastInvoicesForReceiver$))("task",la.jc(17,22,r.task$))("countries",la.jc(18,24,r.countries$))}}Wf=$localize(Jn());var cm,rm,am,im,om,um,lm,sm,bm,dm,fm,mm=((cm=function(e){Jr(n,e);var t=Wr(n);function n(e,c){var r;return na(this,n),(r=t.call(this,e,c)).service=e,r.route=c,r}return ra(n,[{key:"onQuickInvoice",value:function(e){this.service.createQuickInvoice(e)}},{key:"getTitle",value:function(e){return e.header.id?"".concat(e.header.id," - ").concat(e.header.name):"[neu]"}},{key:"initializeWithData",value:function(e){this.countries$=this.service.getCountries(),"copy"===e||"new"===e?(this.task$.next(e),this.receiver$=this.service.getCurrent()):(this.task$.next("edit"),this.receiver$=this.service.getCurrent(),this.activeContractsForReceiver$=this.service.getActiveContracts(),this.lastContractsForReceiver$=this.service.getRecentContracts(),this.openInvoicesForReceiver$=this.service.getOpenInvoices(),this.lastInvoicesForReceiver$=this.service.getLastInvoices(),this.isDeletable$=this.service.isDeletable(),this.isQualifiedForQuickInvoice$=this.service.isQualifiedForQuickInvoice())}}]),n}(qs)).\u0275fac=function(e){return new(e||cm)(la.Nb(bl),la.Nb(ua.a))},cm.\u0275cmp=la.Hb({type:cm,selectors:[["jo-receiver-details"]],features:[la.zb],decls:2,vars:3,consts:[["class","jo-details mat-elevation-z0",4,"ngIf"],[1,"jo-details","mat-elevation-z0"],["fxHide.lt-md",""],[3,"object","isDeletable","isQualForQuickInvoice","activeContracts","lastContracts","openInvoices","lastInvoices","task","countries","copy","new","changed","create","delete","update","quickInvoice"],["detailsForm",""]],template:function(e,t){1&e&&(la.Bc(0,nm,19,26,"mat-card",0),la.ic(1,"async")),2&e&&la.nc("ngIf",la.jc(1,1,t.receiver$))},directives:[vl.m,Ol.a,Ol.e,Ol.h,Sl.b,Ol.d,tm],pipes:[vl.b],styles:[".jo-details-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;text-transform:uppercase}@media only screen and (max-width:959px){.jo-details[_ngcontent-%COMP%]{padding:1rem 2rem;margin:.75rem}.jo-details[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}}"],changeDetection:0}),cm),hm=function(e){var t=e.get("startDate").value,n=e.get("endDate").value,c=Vs(t),r=Vs(n);return!t||!n||r>=c?null:(e.get("endDate").setErrors({dateSequence:!0}),{dateSequence:!0})},gm=function(e){return e.value.length>0?null:{minItems:!0}},pm=Kr("iadO"),vm=((am=function(){function e(t){na(this,e),this.service=t}return ra(e,[{key:"ngOnChanges",value:function(e){this.buildItems(this.object.items)}},{key:"onAdd",value:function(e){console.log("Add item requested."),this.service.addItem(this.object),e&&e.stopPropagation()}},{key:"onChanged",value:function(){this.service.change(this.object)}},{key:"onDelete",value:function(e){this.service.removeItem(this.object,e),this.itemsFormArray.markAsDirty()}},{key:"buildItems",value:function(e){for(var t=this;this.itemsFormArray.length>0;)this.itemsFormArray.removeAt(0);e.forEach((function(e){return t.itemsFormArray.push(new Hs.i({}))}))}}]),e}()).\u0275fac=function(e){return new(e||am)(la.Nb(ll))},am.\u0275cmp=la.Hb({type:am,selectors:[["ng-component"]],inputs:{itemsFormArray:"itemsFormArray",object:"object",isChangeable:"isChangeable"},features:[la.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),am),ym=((rm=function(){function e(t){na(this,e),this.utility=t,this.changed=new la.o,this.delete=new la.o,this.isItemGroupBuilt=!1}return ra(e,[{key:"ngOnChanges",value:function(e){this.isItemGroupBuilt?this.patchItem():(this.buildItem(),this.patchItem(),this.itemChanges=this.listenToValueChanges())}},{key:"ngOnDestroy",value:function(){this.itemChanges&&this.itemChanges.unsubscribe()}},{key:"onDelete",value:function(e){this.delete.emit(e)}},{key:"processFieldChanges",value:function(e){var t=this,n=!1,c=!1;Object.keys(e).forEach((function(r){var a=t.getChangedValue(e,r);a!==t.item[r]&&(t.itemGroup.get(r).updateValueAndValidity(),t.itemGroup.get(r).valid&&(t.item[r]=a,n=!0,c=t.isImmediateChangeNeeded(r)))})),n&&c&&this.changed.emit()}},{key:"getChangedValue",value:function(e,t){return"number"==typeof this.item[t]&&"string"==typeof e[t]?this.utility.fromLocalAmount(e[t]):e[t]}},{key:"listenToValueChanges",value:function(){var e=this;return this.itemGroup.valueChanges.pipe(Object(Ys.a)(500),Object(Zs.a)()).subscribe((function(t){e.processFieldChanges(t)}))}}]),e}()).\u0275fac=function(e){return new(e||rm)(la.Nb(Gs))},rm.\u0275cmp=la.Hb({type:rm,selectors:[["ng-component"]],inputs:{itemGroup:"itemGroup",item:"item",isChangeable:"isChangeable"},outputs:{changed:"changed",delete:"delete"},features:[la.Ab],decls:0,vars:0,template:function(e,t){},encapsulation:2}),rm);function Cm(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",16),la.Tb(1,"button",17),la.dc("click",(function(){la.tc(n);var e=la.hc(2);return e.onDelete(e.itemGroup.get("id").value)})),la.Tb(2,"mat-icon",18),la.Cc(3,"remove"),la.Sb(),la.Sb(),la.Sb()}}function Om(e,t){if(1&e&&(la.Rb(0),la.Bc(1,Cm,4,0,"div",15),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}function jm(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,sm),la.Sb())}function Sm(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,bm),la.Sb())}function Tm(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,dm),la.Sb())}function wm(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,fm),la.Sb())}function km(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",20),la.Tb(1,"button",17),la.dc("click",(function(){la.tc(n);var e=la.hc(2);return e.onDelete(e.itemGroup.get("id").value)})),la.Tb(2,"mat-icon",18),la.Cc(3,"remove"),la.Sb(),la.Sb(),la.Sb()}}function Dm(e,t){if(1&e&&(la.Rb(0),la.Bc(1,km,4,0,"div",19),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}im=$localize(Qn()),om=$localize(Zn()),um=$localize(Yn()),lm=$localize(Gn()),sm=$localize(Vn()),bm=$localize(Un()),dm=$localize(Hn()),fm=$localize(qn());var Im,Pm,$m,xm,_m,Mm,zm=function(){return["sales-user"]},Am=((Im=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).utility=e,c}return ra(n,[{key:"buildItem",value:function(){this.itemGroup.addControl("id",new Hs.g("")),this.itemGroup.addControl("description",new Hs.g("",Hs.w.required)),this.itemGroup.addControl("pricePerUnit",new Hs.g("",[Hs.w.required,Hs.w.pattern(Us.a)])),this.itemGroup.addControl("priceUnit",new Hs.g("",Hs.w.required)),this.itemGroup.addControl("cashDiscountAllowed",new Hs.g("")),this.isItemGroupBuilt=!0}},{key:"isImmediateChangeNeeded",value:function(e){return!1}},{key:"patchItem",value:function(){var e={pricePerUnit:this.utility.toLocalAmount(this.item.data.pricePerUnit)},t=Object.assign({},Object.assign({},this.item.data),e);this.itemGroup.patchValue(t)}}]),n}(ym)).\u0275fac=function(e){return new(e||Im)(la.Nb(Gs))},Im.\u0275cmp=la.Hb({type:Im,selectors:[["jo-contract-item-form"]],features:[la.zb],decls:31,vars:12,consts:[[3,"formGroup"],["fxHide","","fxShow.lt-md",""],["fxHide","","fxShow.lt-md","",1,"jo-btn-row-sm"],[1,"contract-item-id","width--xs"],[4,"joIfAuthorizedAs"],["fxShow","","fxHide.lt-md","",1,"contract-item-id","width--xs"],[1,"width--xl"],["matInput","","formControlName","description"],[4,"ngIf"],[1,"width--sm"],["matInput","","formControlName","pricePerUnit"],[1,"width--md"],["matInput","","formControlName","priceUnit"],[1,"contract-item-cashDiscountAllowed","width--xs"],["color","primary","formControlName","cashDiscountAllowed",3,"value"],["class","contract-item-action",4,"ngIf"],[1,"contract-item-action"],["mat-mini-fab","","color","warn",3,"click"],["aria-label","Position l\xf6schen"],["fxShow","","fxHide.lt-md","","class","contract-item-action",4,"ngIf"],["fxShow","","fxHide.lt-md","",1,"contract-item-action"]],template:function(e,t){1&e&&(la.Rb(0,0),la.Ob(1,"mat-divider",1),la.Tb(2,"div",2),la.Tb(3,"div",3),la.Tb(4,"div"),la.Cc(5),la.Sb(),la.Sb(),la.Bc(6,Om,2,1,"ng-container",4),la.Sb(),la.Tb(7,"div",5),la.Tb(8,"div"),la.Cc(9),la.Sb(),la.Sb(),la.Tb(10,"mat-form-field",6),la.Tb(11,"mat-label",1),la.Xb(12,im),la.Sb(),la.Ob(13,"input",7),la.Bc(14,jm,2,0,"mat-error",8),la.Sb(),la.Tb(15,"mat-form-field",9),la.Tb(16,"mat-label",1),la.Xb(17,om),la.Sb(),la.Ob(18,"input",10),la.Bc(19,Sm,2,0,"mat-error",8),la.Bc(20,Tm,2,0,"mat-error",8),la.Sb(),la.Tb(21,"mat-form-field",11),la.Tb(22,"mat-label",1),la.Xb(23,um),la.Sb(),la.Ob(24,"input",12),la.Bc(25,wm,2,0,"mat-error",8),la.Sb(),la.Tb(26,"div",13),la.Tb(27,"mat-checkbox",14),la.Tb(28,"span",1),la.Xb(29,lm),la.Sb(),la.Sb(),la.Sb(),la.Bc(30,Dm,2,1,"ng-container",4),la.Qb()),2&e&&(la.nc("formGroup",t.itemGroup),la.Cb(5),la.Dc(t.itemGroup.get("id").value),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(10,zm)),la.Cb(3),la.Dc(t.itemGroup.get("id").value),la.Cb(5),la.nc("ngIf",t.itemGroup.get("description").hasError("required")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("pricePerUnit").hasError("required")),la.Cb(1),la.nc("ngIf",t.itemGroup.get("pricePerUnit").hasError("pattern")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("priceUnit").hasError("required")),la.Cb(2),la.nc("value",t.item.cashDiscountAllowed),la.Cb(3),la.nc("joIfAuthorizedAs",la.oc(11,zm)))},directives:[Hs.q,Hs.j,Rb.a,Sl.b,pl.a,eb.c,eb.g,tb.b,Hs.c,Hs.p,Hs.h,vl.m,lb.a,yl.b,rb.a,eb.b],styles:["@media only screen and (max-width:959px){[_nghost-%COMP%]{font-size:1.6rem}}div.width--xs[_ngcontent-%COMP%]{width:4rem}div.width--sm[_ngcontent-%COMP%]{width:8rem}div.width--md[_ngcontent-%COMP%]{width:12rem}div.width--lg[_ngcontent-%COMP%]{width:28rem}div.width--xl[_ngcontent-%COMP%]{width:36rem}div.contract-item-id[_ngcontent-%COMP%]{align-self:flex-start}div.contract-item-id[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-weight:600;height:4rem;width:4rem;border-radius:100%;background-color:#777}@media only screen and (max-width:600px){div.contract-item-id[_ngcontent-%COMP%]{align-self:flex-start}}@media only screen and (max-width:960px){div.contract-item-id[_ngcontent-%COMP%]{align-self:flex-start}}div.contract-item-description[_ngcontent-%COMP%]{align-self:center;overflow:hidden}div.contract-item-pricePerUnit[_ngcontent-%COMP%], div.contract-item-priceUnit[_ngcontent-%COMP%]{align-self:center}div.contract-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:center;justify-self:center}@media only screen and (max-width:599px){div.contract-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:flex-start}}@media only screen and (max-width:959px){div.contract-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:flex-start}}div.contract-item-action[_ngcontent-%COMP%]{align-self:center}.jo-btn-row-sm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin:2rem 0 1rem}"],changeDetection:0}),Im);function Bm(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",11),la.dc("click",(function(e){return la.tc(n),la.hc(2).onAdd(e)})),la.Tb(1,"mat-icon",12),la.Cc(2,"add"),la.Sb(),la.Sb()}}function Rm(e,t){if(1&e&&(la.Rb(0),la.Bc(1,Bm,3,0,"button",10),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}function Em(e,t){if(1&e){var n=la.Ub();la.Tb(0,"jo-contract-item-form",13),la.dc("changed",(function(){return la.tc(n),la.hc().onChanged()}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)})),la.Sb()}if(2&e){var c=t.$implicit,r=t.index,a=la.hc();la.nc("itemGroup",c)("item",a.object.items[r])("isChangeable",a.isChangeable)}}function Nm(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",16),la.dc("click",(function(e){return la.tc(n),la.hc(2).onAdd(e)})),la.Tb(1,"span"),la.Xb(2,Mm),la.Sb(),la.Sb()}}function Fm(e,t){if(1&e&&(la.Tb(0,"div",14),la.Bc(1,Nm,3,0,"button",15),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}Pm=$localize(Xn()),$m=$localize(Ln()),xm=$localize(Fn()),_m=$localize(Nn()),Mm=$localize(En());var Lm,Xm,qm,Hm=function(){return["sales-user"]},Um=((Lm=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).service=e,c}return n}(vm)).\u0275fac=function(e){return new(e||Lm)(la.Nb(dl))},Lm.\u0275cmp=la.Hb({type:Lm,selectors:[["jo-contract-items-form"]],features:[la.zb],decls:16,vars:5,consts:[["fxShow","","fxHide.lt-md","",1,"table-header"],[1,"table-btn"],[4,"joIfAuthorizedAs"],[1,"contract-item-description"],[1,"contract-item-pricePerUnit"],[1,"contract-item-priceUnit"],[1,"contract-item-cashDiscountAllowed"],[1,"contract-item-action"],["class","table-row table-row--editable",3,"itemGroup","item","isChangeable","changed","delete",4,"ngFor","ngForOf"],["class","u-mt-md","fxHide","","fxShow.lt-md","",4,"joIfAuthorizedAs"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"click"],["aria-label","Position hinzuf\xfcgen"],[1,"table-row","table-row--editable",3,"itemGroup","item","isChangeable","changed","delete"],["fxHide","","fxShow.lt-md","",1,"u-mt-md"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(la.Tb(0,"div"),la.Tb(1,"div",0),la.Tb(2,"div",1),la.Bc(3,Rm,2,1,"ng-container",2),la.Sb(),la.Tb(4,"label",3),la.Xb(5,Pm),la.Sb(),la.Tb(6,"label",4),la.Xb(7,$m),la.Sb(),la.Tb(8,"label",5),la.Xb(9,xm),la.Sb(),la.Tb(10,"label",6),la.Xb(11,_m),la.Sb(),la.Ob(12,"label",7),la.Sb(),la.Tb(13,"div"),la.Bc(14,Em,1,3,"jo-contract-item-form",8),la.Sb(),la.Bc(15,Fm,2,1,"div",9),la.Sb()),2&e&&(la.Cb(3),la.nc("joIfAuthorizedAs",la.oc(3,Hm)),la.Cb(11),la.nc("ngForOf",t.itemsFormArray.controls),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(4,Hm)))},directives:[Sl.b,pl.a,vl.l,vl.m,yl.b,rb.a,Am],styles:[".table-btn[_ngcontent-%COMP%]{width:4rem;display:flex;justify-content:center;align-items:center;padding:1rem 0}.table-header[_ngcontent-%COMP%] > .table-btn[_ngcontent-%COMP%]{margin-right:1.2rem}label[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.8}.contract-item-id[_ngcontent-%COMP%]{width:3.2rem}.contract-item-description[_ngcontent-%COMP%]{width:36rem}.contract-item-priceUnit[_ngcontent-%COMP%]{width:12rem}.contract-item-pricePerUnit[_ngcontent-%COMP%]{width:8rem}.contract-item-action[_ngcontent-%COMP%], .contract-item-cashDiscountAllowed[_ngcontent-%COMP%]{width:4rem}"],changeDetection:0}),Lm),Vm=["placeholder",$localize(Rn())],Gm=["placeholder",$localize(Bn())],Ym=((Xm=function e(){na(this,e)}).\u0275fac=function(e){return new(e||Xm)},Xm.\u0275cmp=la.Hb({type:Xm,selectors:[["jo-texts-form-component"]],inputs:{textsFormGroup:"textsFormGroup",object:"object",isChangeable:"isChangeable"},decls:9,vars:1,consts:[["id","text-group",3,"formGroup"],[1,"width--full"],["matInput","","id","invoiceText","formControlName","invoiceText","matTextareaAutosize","","matAutosizeMinRows","1","matAutosizeMaxRows","5",6,"placeholder"],["matInput","","id","internalText","formControlName","internalText","matTextareaAutosize","","matAutosizeMinRows","1","matAutosizeMaxRows","5",6,"placeholder"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"mat-form-field",1),la.Tb(2,"textarea",2),la.Yb(3,Vm),la.Cc(4,"        "),la.Sb(),la.Sb(),la.Tb(5,"mat-form-field",1),la.Tb(6,"textarea",3),la.Yb(7,Gm),la.Cc(8,"        "),la.Sb(),la.Sb(),la.Sb()),2&e&&la.nc("formGroup",t.textsFormGroup)},directives:[Hs.q,Hs.j,eb.c,tb.b,Hs.c,tb.d,Hs.p,Hs.h],styles:["#text-group[_ngcontent-%COMP%]{margin-top:3.6rem;display:flex;flex-direction:column}#text-group[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.4rem}@media only screen and (max-width:959px){#text-group[_ngcontent-%COMP%]{font-size:1.6rem}}textarea.mat-input-element[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0}),Xm),Zm=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(c=Object.getOwnPropertySymbols(e);r<c.length;r++)t.indexOf(c[r])<0&&Object.prototype.propertyIsEnumerable.call(e,c[r])&&(n[c[r]]=e[c[r]])}return n},Qm=["label",$localize(An())],Jm=["placeholder",$localize(zn())],Km=["placeholder",$localize(Mn())],Wm=["placeholder",$localize(_n())],eh=["placeholder",$localize(xn())],th=["placeholder",$localize($n())],nh=["placeholder",$localize(Pn())],ch=["placeholder",$localize(In())];qm=$localize(Dn());var rh,ah,ih=["placeholder",$localize(kn())];rh=$localize(wn()),ah=$localize(Tn());var oh,uh,lh=["placeholder",$localize(Sn())];oh=$localize(jn()),uh=$localize(On());var sh,bh=["placeholder",$localize(Cn())],dh=["placeholder",$localize(yn())],fh=["placeholder",$localize(vn())],mh=["placeholder",$localize(pn())];sh=$localize(gn());var hh,gh,ph,vh,yh,Ch,Oh,jh,Sh,Th,wh,kh,Dh,Ih,Ph,$h,xh=["label",$localize(hn())];function _h(e,t){if(1&e&&(la.Tb(0,"mat-option",25),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.nc("value",n.header.id),la.Cb(1),la.Ec("",n.header.name," ")}}function Mh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,hh),la.Sb())}function zh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,gh),la.Sb())}function Ah(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,ph),la.Sb())}function Bh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,vh),la.Sb())}function Rh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,yh),la.Sb())}function Eh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Ch),la.Sb())}function Nh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Oh),la.Sb())}function Fh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,jh),la.Sb())}function Lh(e,t){1&e&&(la.Tb(0,"mat-icon",38),la.Cc(1," error_outline "),la.Sb())}function Xh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Sh),la.Sb())}function qh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Th),la.Sb())}function Hh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,wh),la.Sb())}function Uh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,kh),la.Sb())}function Vh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Dh),la.Sb())}function Gh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Ih),la.Sb())}function Yh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Ph),la.Sb())}function Zh(e,t){1&e&&(la.Tb(0,"mat-icon",38),la.Cc(1,"error_outline"),la.Sb())}function Qh(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,$h),la.Sb())}hh=$localize(mn()),gh=$localize(fn()),ph=$localize(dn()),vh=$localize(bn()),yh=$localize(sn()),Ch=$localize(ln()),Oh=$localize(un()),jh=$localize(on()),Sh=$localize(an()),Th=$localize(rn()),wh=$localize(cn()),kh=$localize(nn()),Dh=$localize(tn()),Ih=$localize(en()),Ph=$localize(Wt()),$h=$localize(Kt());var Jh=["label",$localize(Jt())];function Kh(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,Jh),la.Tb(2,"section",39),la.Tb(3,"div"),la.Ob(4,"jo-document-link-list",40),la.Sb(),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(4),la.nc("object",n.object)}}var Wh=["label",$localize(Qt())];function eg(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,Wh),la.Ob(2,"jo-invoice-list",41),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.openInvoices)}}var tg,ng,cg,rg,ag,ig,og,ug=["label",$localize(Zt())];function lg(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,ug),la.Ob(2,"jo-invoice-list",41),la.Sb()),2&e){var n=la.hc();la.Cb(2),la.nc("objects",n.allInvoices)}}function sg(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,tg),la.Sb())}function bg(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,ng),la.Sb())}function dg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",50),la.dc("click",(function(e){return la.tc(n),la.hc(3).onDelete(e)})),la.Tb(1,"span"),la.Xb(2,ag),la.Sb(),la.Sb()}}function fg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",51),la.dc("click",(function(){la.tc(n);var e=la.hc(3);return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,ig),la.Sb(),la.Sb()}if(2&e){var c=la.hc(3);la.nc("disabled",!c.form.valid||!c.form.dirty)}}function mg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",52),la.dc("click",(function(){la.tc(n);var e=la.hc(3);return e.onQuickInvoice(e.object)})),la.Tb(1,"span"),la.Xb(2,og),la.Sb(),la.Sb()}}function hg(e,t){if(1&e){var n=la.Ub();la.Rb(0),la.Bc(1,dg,3,0,"button",45),la.Tb(2,"button",46),la.dc("click",(function(e){return la.tc(n),la.hc(2).onNew(e)})),la.Tb(3,"span"),la.Xb(4,cg),la.Sb(),la.Sb(),la.Tb(5,"button",47),la.dc("click",(function(e){return la.tc(n),la.hc(2).onCopy(e)})),la.Tb(6,"span"),la.Xb(7,rg),la.Sb(),la.Sb(),la.Bc(8,fg,3,1,"button",48),la.Bc(9,mg,3,0,"button",49),la.Qb()}if(2&e){var c=la.hc(2);la.Cb(1),la.nc("ngIf",c.isChangeable||!c.form.controls.id.value),la.Cb(1),la.nc("disabled",!c.form.valid||c.form.dirty),la.Cb(3),la.nc("disabled",!c.form.valid||c.form.dirty||!c.object.header.id),la.Cb(3),la.nc("ngIf",c.isChangeable),la.Cb(1),la.nc("ngIf",c.object.term.isInvoiceable&&c.form.valid&&!c.form.dirty)}}tg=$localize(Yt()),ng=$localize(Gt()),cg=$localize(Vt()),rg=$localize(Ut()),ag=$localize(Ht()),ig=$localize(qt()),og=$localize(Xt());var gg=function(){return["sales-user"]};function pg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",42),la.Tb(1,"button",43),la.dc("click",(function(e){return la.tc(n),la.hc().onCancel(e)})),la.Bc(2,sg,2,0,"span",7),la.Bc(3,bg,2,0,"span",7),la.Sb(),la.Bc(4,hg,10,5,"ng-container",44),la.Sb()}if(2&e){var c=la.hc();la.Cb(2),la.nc("ngIf",c.form.dirty),la.Cb(1),la.nc("ngIf",!c.form.dirty),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(3,gg))}}var vg,yg,Cg=function(){return["billingMethod","paymentMethod","paymentTerms","cashDiscountPercentage","cashDiscountDays","dueDays"]},Og=function(){return["items"]},jg=((vg=function(e){Jr(n,e);var t=Wr(n);function n(e,c,r,a){var i;return na(this,n),(i=t.call(this,e,c,r,a)).fb=e,i.store=c,i.router=r,i.utility=a,i.quickInvoice=new la.o,i}return ra(n,[{key:"getFormTitle",value:function(){return this.object.header.id?"".concat(this.object.header.id," - ").concat(this.object.header.description):"[neu]"}},{key:"onQuickInvoice",value:function(e){this.quickInvoice.emit(e)}},{key:"buildForm",value:function(){return this.fb.group({id:[{value:"",disabled:!0}],issuedAt:["",[Hs.w.required]],description:["",[Hs.w.required]],customerId:["",[Hs.w.required,Hs.w.pattern(Us.b)]],startDate:["",[Hs.w.required]],endDate:["",[Hs.w.required]],currency:["",[Hs.w.required]],budget:["",[Hs.w.pattern(Us.a)]],billingMethod:["",[Hs.w.required]],paymentTerms:["",[Hs.w.required]],paymentMethod:["",[Hs.w.required]],cashDiscountDays:["",[Hs.w.pattern(Us.b)]],cashDiscountPercentage:["",[Hs.w.pattern(Us.a)]],dueDays:["",[Hs.w.required,Hs.w.pattern(Us.b)]],documentUrl:["",[Hs.w.pattern(Us.e)]],texts:this.fb.group({invoiceText:[""],internalText:[""]}),items:new Hs.d([],[gm])},[{validator:hm}])}},{key:"changeObject",value:function(e){var t=this,n=e.items,c=Zm(e,["items","texts"]),r=n.map((function(e){return Object.assign({},e,{pricePerUnit:t.utility.fromLocalAmount(e.pricePerUnit)})})),a={issuedAt:Ti.DateUtility.getDateFromMoment(e.issuedAt),term:{startDate:Ti.DateUtility.getStartDateFromMoment(e.startDate),endDate:Ti.DateUtility.getEndDateFromMoment(e.endDate)},budget:this.utility.fromLocalAmount(e.budget),cashDiscountPercentage:this.utility.fromLocalPercent(e.cashDiscountPercentage),internalText:e.texts.internalText,invoiceText:e.texts.invoiceText},i=Object.assign({},Object.assign({},this.object.data),Object.assign({},c),Object.assign({},a),{items:r}),o=Ti.ContractFactory.fromData(i);return this.changed.emit(o),o}},{key:"listenToChanges",value:function(){this.listenToFieldChanges("customerId",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("description",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("issuedAt",this.onSimpleHeaderDateChanged),this.listenToFieldChanges("startDate",this.onSimpleHeaderDateChanged),this.listenToFieldChanges("endDate",this.onSimpleHeaderDateChanged),this.listenToFieldChanges("budget",this.onSimpleHeaderAmountChanged),this.listenToFieldChanges("currency",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("billingMethod",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("paymentMethod",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("paymentTerms",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("cashDiscountPercentage",this.onSimpleHeaderPercentageChanged),this.listenToFieldChanges("cashDiscountDays",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("dueDays",this.onSimpleHeaderNumberChanged)}},{key:"patchForm",value:function(){var e={issuedAt:this.object.header.issuedAt,startDate:this.object.term.startDate,endDate:this.object.term.endDate,cashDiscountPercentage:this.utility.toLocalPercent(this.object.header.cashDiscountPercentage),budget:this.utility.toLocalAmount(this.object.header.budget)},t=this.object.header,n=t.invoiceText,c=t.internalText,r=Zm(t,["invoiceText","internalText"]),a={invoiceText:n,internalText:c},i=Object.assign({},Object.assign({},r),e,{texts:a});this.form.patchValue(i)}}]),n}(Js)).\u0275fac=function(e){return new(e||vg)(la.Nb(Hs.f),la.Nb(ta.h),la.Nb(ua.g),la.Nb(Gs))},vg.\u0275cmp=la.Hb({type:vg,selectors:[["jo-contract-form"]],inputs:{contractPartner:"contractPartner",isChangeable:"isChangeable",receivers:"receivers",openInvoices:"openInvoices",allInvoices:"allInvoices",task:"task"},outputs:{quickInvoice:"quickInvoice"},features:[la.zb],decls:102,vars:42,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","contract-form",3,"formGroup"],[3,"selectedTabChange"],[6,"label"],["id","main-group"],[1,"width--lg"],["id","customerId","formControlName","customerId",6,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"width--md"],["matInput","","formControlName","issuedAt",3,"matDatepicker",6,"placeholder"],["matSuffix","",3,"for"],["issuedAtPicker",""],["matInput","","id","description","formControlName","description",6,"placeholder"],["id","validity-group"],["matInput","","id","startDate","formControlName","startDate",3,"matDatepicker",6,"placeholder"],["startDatePicker",""],["matInput","","id","endDate","formControlName","endDate",3,"matDatepicker",6,"placeholder"],["endDatePicker",""],["matInput","","type","text","id","budget","formControlName","budget",6,"placeholder"],[1,"width--sm"],["matInput","","id","currency","formControlName","currency",6,"placeholder"],["id","pnl_paymentTerms"],["color","warn",4,"ngIf"],["id","payment-group"],["id","billingMethod","formControlName","billingMethod",6,"placeholder"],[3,"value"],["id","paymentMethod","formControlName","paymentMethod",6,"placeholder"],["id","discount-group"],["matInput","","id","paymentTerms","formControlName","paymentTerms",6,"placeholder"],["matInput","","type","number","id","cashDiscountDays","formControlName","cashDiscountDays",6,"placeholder"],["matInput","","id","cashDiscountPercentage","formControlName","cashDiscountPercentage",6,"placeholder"],["matInput","","type","number","id","dueDays","formControlName","dueDays",6,"placeholder"],["expanded","true"],[1,""],["formArrayName","items",3,"itemsFormArray","object","isChangeable"],[3,"textsFormGroup","object","isChangeable"],[4,"ngIf",6,"label"],["class","jo-btn-row",4,"ngIf"],["color","warn"],[1,"tables","u-mt-lg"],[3,"object"],[3,"objects"],[1,"jo-btn-row"],["id","btn_cancel","type","button","mat-raised-button","",3,"click"],[4,"joIfAuthorizedAs"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","btn_new","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_copy","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["id","btn_newinvoice","type","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click"],["id","btn_newinvoice","type","button","mat-raised-button","","color","accent",3,"click"]],template:function(e,t){if(1&e&&(la.Tb(0,"form",0),la.Tb(1,"mat-tab-group",1),la.dc("selectedTabChange",(function(e){return t.onTabChange(e)})),la.Tb(2,"mat-tab",2),la.Yb(3,Qm),la.Tb(4,"div",3),la.Tb(5,"mat-form-field",4),la.Tb(6,"mat-select",5),la.Yb(7,Jm),la.Bc(8,_h,2,2,"mat-option",6),la.Sb(),la.Bc(9,Mh,2,0,"mat-error",7),la.Sb(),la.Tb(10,"mat-form-field",8),la.Tb(11,"input",9),la.Yb(12,Km),la.Sb(),la.Ob(13,"mat-datepicker-toggle",10),la.Ob(14,"mat-datepicker",null,11),la.Bc(16,zh,2,0,"mat-error",7),la.Sb(),la.Tb(17,"mat-form-field",4),la.Tb(18,"input",12),la.Yb(19,Wm),la.Sb(),la.Bc(20,Ah,2,0,"mat-error",7),la.Sb(),la.Sb(),la.Tb(21,"div",13),la.Tb(22,"mat-form-field",8),la.Tb(23,"input",14),la.Yb(24,eh),la.Sb(),la.Ob(25,"mat-datepicker-toggle",10),la.Ob(26,"mat-datepicker",null,15),la.Bc(28,Bh,2,0,"mat-error",7),la.Sb(),la.Tb(29,"mat-form-field",8),la.Tb(30,"input",16),la.Yb(31,th),la.Sb(),la.Ob(32,"mat-datepicker-toggle",10),la.Ob(33,"mat-datepicker",null,17),la.Bc(35,Rh,2,0,"mat-error",7),la.Bc(36,Eh,2,0,"mat-error",7),la.Sb(),la.Tb(37,"mat-form-field",8),la.Tb(38,"input",18),la.Yb(39,nh),la.Sb(),la.Bc(40,Nh,2,0,"mat-error",7),la.Sb(),la.Tb(41,"mat-form-field",19),la.Tb(42,"input",20),la.Yb(43,ch),la.Sb(),la.Bc(44,Fh,2,0,"mat-error",7),la.Sb(),la.Sb(),la.Tb(45,"mat-expansion-panel",21),la.Tb(46,"mat-expansion-panel-header"),la.Tb(47,"mat-panel-title"),la.Xb(48,qm),la.Sb(),la.Tb(49,"mat-panel-description"),la.Bc(50,Lh,2,0,"mat-icon",22),la.Sb(),la.Sb(),la.Tb(51,"div",23),la.Tb(52,"mat-form-field"),la.Tb(53,"mat-select",24),la.Yb(54,ih),la.Tb(55,"mat-option",25),la.Xb(56,rh),la.Sb(),la.Tb(57,"mat-option",25),la.Xb(58,ah),la.Sb(),la.Sb(),la.Bc(59,Xh,2,0,"mat-error",7),la.Sb(),la.Tb(60,"mat-form-field"),la.Tb(61,"mat-select",26),la.Yb(62,lh),la.Tb(63,"mat-option",25),la.Xb(64,oh),la.Sb(),la.Tb(65,"mat-option",25),la.Xb(66,uh),la.Sb(),la.Sb(),la.Bc(67,qh,2,0,"mat-error",7),la.Sb(),la.Sb(),la.Tb(68,"div",27),la.Tb(69,"mat-form-field",4),la.Tb(70,"input",28),la.Yb(71,bh),la.Sb(),la.Bc(72,Hh,2,0,"mat-error",7),la.Sb(),la.Tb(73,"mat-form-field",8),la.Tb(74,"input",29),la.Yb(75,dh),la.Sb(),la.Bc(76,Uh,2,0,"mat-error",7),la.Sb(),la.Tb(77,"mat-form-field",19),la.Tb(78,"input",30),la.Yb(79,fh),la.Sb(),la.Bc(80,Vh,2,0,"mat-error",7),la.Bc(81,Gh,2,0,"mat-error",7),la.Sb(),la.Tb(82,"mat-form-field",8),la.Tb(83,"input",31),la.Yb(84,mh),la.Sb(),la.Bc(85,Yh,2,0,"mat-error",7),la.Sb(),la.Sb(),la.Sb(),la.Tb(86,"mat-expansion-panel",32),la.Tb(87,"mat-expansion-panel-header"),la.Tb(88,"mat-panel-title"),la.Xb(89,sh),la.Sb(),la.Tb(90,"mat-panel-description"),la.Bc(91,Zh,2,0,"mat-icon",22),la.Sb(),la.Sb(),la.Tb(92,"div",33),la.Ob(93,"jo-contract-items-form",34),la.Bc(94,Qh,2,0,"mat-error",7),la.Sb(),la.Sb(),la.Sb(),la.Tb(95,"mat-tab",2),la.Yb(96,xh),la.Ob(97,"jo-texts-form-component",35),la.Sb(),la.Bc(98,Kh,5,1,"mat-tab",36),la.Bc(99,eg,3,1,"mat-tab",36),la.Bc(100,lg,3,1,"mat-tab",36),la.Sb(),la.Bc(101,pg,5,4,"div",37),la.Sb()),2&e){var n=la.sc(15),c=la.sc(27),r=la.sc(34);la.nc("formGroup",t.form),la.Cb(8),la.nc("ngForOf",t.receivers),la.Cb(1),la.nc("ngIf",t.form.get("customerId").hasError("required")),la.Cb(2),la.nc("matDatepicker",n),la.Cb(2),la.nc("for",n),la.Cb(3),la.nc("ngIf",t.form.get("issuedAt").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("description").hasError("required")),la.Cb(3),la.nc("matDatepicker",c),la.Cb(2),la.nc("for",c),la.Cb(3),la.nc("ngIf",t.form.get("startDate").hasError("required")),la.Cb(2),la.nc("matDatepicker",r),la.Cb(2),la.nc("for",r),la.Cb(3),la.nc("ngIf",t.form.get("endDate").hasError("required")),la.Cb(1),la.nc("ngIf",t.form.get("endDate").hasError("dateSequence")),la.Cb(4),la.nc("ngIf",t.form.get("budget").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("currency").hasError("required")),la.Cb(6),la.nc("ngIf",t.hasError(la.oc(40,Cg))),la.Cb(5),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("ngIf",t.form.get("billingMethod").hasError("required")),la.Cb(4),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("ngIf",t.form.get("paymentMethod").hasError("required")),la.Cb(5),la.nc("ngIf",t.form.get("paymentTerms").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("cashDiscountDays").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("cashDiscountPercentage").hasError("required")),la.Cb(1),la.nc("ngIf",t.form.get("cashDiscountPercentage").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("dueDays").hasError("required")),la.Cb(6),la.nc("ngIf",t.hasError(la.oc(41,Og))),la.Cb(2),la.nc("itemsFormArray",t.form.get("items"))("object",t.object)("isChangeable",t.isChangeable),la.Cb(1),la.nc("ngIf",t.form.get("items").hasError("minItems")),la.Cb(3),la.nc("textsFormGroup",t.form.get("texts"))("object",t.object)("isChangeable",t.isChangeable),la.Cb(1),la.nc("ngIf",t.object.header.id),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.openInvoices?null:t.openInvoices.length)>0),la.Cb(1),la.nc("ngIf","edit"===t.task&&(null==t.allInvoices?null:t.allInvoices.length)>0),la.Cb(1),la.nc("ngIf",t.tabIndex<2)}},directives:[Hs.x,Hs.q,Hs.j,Ks.b,Ks.a,eb.c,cb.a,Hs.p,Hs.h,vl.l,vl.m,tb.b,Hs.c,pm.b,pm.d,eb.h,pm.a,nb.b,nb.d,nb.e,nb.c,ab.l,Hs.t,Um,Hs.e,Ym,eb.b,rb.a,Ub,Hd,yl.b,pl.a],styles:["#contract-form[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:959px){#contract-form[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]{height:4.8rem;font-size:1.4rem}#contract-form[_ngcontent-%COMP%]   .mat-radio-label-content[_ngcontent-%COMP%], #contract-form[_ngcontent-%COMP%]   .mat-tab-label-content[_ngcontent-%COMP%]{font-size:1.4rem}#contract-form[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], #contract-form[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}#contract-form[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:6.4rem!important}}#discount-group[_ngcontent-%COMP%], #main-group[_ngcontent-%COMP%], #payment-group[_ngcontent-%COMP%], #validity-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}#discount-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #main-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #payment-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #validity-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){margin-right:2.4rem}@media only screen and (max-width:959px){#discount-group[_ngcontent-%COMP%], #main-group[_ngcontent-%COMP%], #payment-group[_ngcontent-%COMP%], #validity-group[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:1.2rem;font-size:1.6rem}}#main-group[_ngcontent-%COMP%]{margin-top:2.4rem}#main-group[_ngcontent-%COMP%], #validity-group[_ngcontent-%COMP%]{padding:0 2.4rem}div.mat-tab-body-content[_ngcontent-%COMP%]{height:100%;overflow:hidden}width-full[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),vg);function Sg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-card",1),la.Tb(1,"mat-card-header"),la.Tb(2,"mat-card-title"),la.Tb(3,"span",2),la.Xb(4,yg),la.Sb(),la.Tb(5,"span"),la.Cc(6),la.Sb(),la.Sb(),la.Sb(),la.Tb(7,"mat-card-content"),la.Tb(8,"section"),la.Tb(9,"jo-contract-form",3,4),la.dc("copy",(function(e){return la.tc(n),la.hc().onCopy(e)}))("new",(function(){return la.tc(n),la.hc().onNew()}))("create",(function(e){return la.tc(n),la.hc().onCreate(e)}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)}))("update",(function(e){return la.tc(n),la.hc().onUpdate(e)}))("quickInvoice",(function(e){return la.tc(n),la.hc().onQuickInvoice(e)})),la.ic(11,"async"),la.ic(12,"async"),la.ic(13,"async"),la.ic(14,"async"),la.ic(15,"async"),la.ic(16,"async"),la.Sb(),la.Sb(),la.Sb(),la.Sb()}if(2&e){var c=t.ngIf,r=la.hc();la.Cb(6),la.Dc(r.getTitle(c)),la.Cb(3),la.nc("object",c)("contractPartner",la.jc(11,8,r.contractPartner$))("receivers",la.jc(12,10,r.receivers$))("openInvoices",la.jc(13,12,r.openInvoices$))("allInvoices",la.jc(14,14,r.allInvoices$))("isChangeable",la.jc(15,16,r.isChangeable$))("task",la.jc(16,18,r.task$))}}yg=$localize(Lt());var Tg,wg,kg,Dg,Ig,Pg,$g,xg,_g,Mg,zg,Ag,Bg,Rg,Eg,Ng=((Tg=function(e){Jr(n,e);var t=Wr(n);function n(e,c){var r;return na(this,n),(r=t.call(this,e,c)).service=e,r.route=c,r}return ra(n,[{key:"onQuickInvoice",value:function(e){this.service.createQuickInvoice(e)}},{key:"getTitle",value:function(e){return e.header.id?"".concat(e.header.id," - ").concat(e.header.description):"[neu]"}},{key:"initializeWithData",value:function(e){this.receivers$=this.service.getReceivers(),this.contractPartner$=this.service.getPartner(),"copy"===e||"new"===e?(this.task$.next(e),this.contract$=this.service.getCurrent(),this.isChangeable$=Object(ji.of)(!0)):(this.task$.next("edit"),this.contract$=this.service.getCurrent(),this.openInvoices$=this.service.getOpenInvoices(),this.allInvoices$=this.service.getInvoices(),this.isChangeable$=this.service.isDeletable())}}]),n}(qs)).\u0275fac=function(e){return new(e||Tg)(la.Nb(dl),la.Nb(ua.a))},Tg.\u0275cmp=la.Hb({type:Tg,selectors:[["jo-contract-details"]],features:[la.zb],decls:2,vars:3,consts:[["class","jo-details mat-elevation-z0",4,"ngIf"],[1,"jo-details","mat-elevation-z0"],["fxHide.lt-md",""],[3,"object","contractPartner","receivers","openInvoices","allInvoices","isChangeable","task","copy","new","create","delete","update","quickInvoice"],["detailsForm",""]],template:function(e,t){1&e&&(la.Bc(0,Sg,17,20,"mat-card",0),la.ic(1,"async")),2&e&&la.nc("ngIf",la.jc(1,1,t.contract$))},directives:[vl.m,Ol.a,Ol.e,Ol.h,Sl.b,Ol.d,jg],pipes:[vl.b],styles:[".jo-details-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;text-transform:uppercase}@media only screen and (max-width:959px){.jo-details[_ngcontent-%COMP%]{padding:1rem 2rem;margin:.75rem}.jo-details[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}}"],changeDetection:0}),Tg);function Fg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",21),la.Tb(1,"button",22),la.dc("click",(function(){la.tc(n);var e=la.hc(2);return e.onDelete(e.itemGroup.get("id").value)})),la.Tb(2,"mat-icon",23),la.Cc(3,"remove"),la.Sb(),la.Sb(),la.Sb()}}function Lg(e,t){if(1&e&&(la.Rb(0),la.Bc(1,Fg,4,0,"div",20),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}function Xg(e,t){if(1&e&&(la.Tb(0,"mat-option",24),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.nc("value",n.id),la.Cb(1),la.Ec(" ",n.id," ")}}function qg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,_g),la.Sb())}function Hg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Mg),la.Sb())}function Ug(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,zg),la.Sb())}function Vg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Ag),la.Sb())}function Gg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Bg),la.Sb())}function Yg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Rg),la.Sb())}function Zg(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Eg),la.Sb())}function Qg(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",26),la.Tb(1,"button",22),la.dc("click",(function(){la.tc(n);var e=la.hc(2);return e.onDelete(e.itemGroup.get("id").value)})),la.Tb(2,"mat-icon",23),la.Cc(3,"remove"),la.Sb(),la.Sb(),la.Sb()}}function Jg(e,t){if(1&e&&(la.Rb(0),la.Bc(1,Qg,4,0,"div",25),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}wg=$localize(Ft()),kg=$localize(Nt()),Dg=$localize(Et()),Ig=$localize(Rt()),Pg=$localize(Bt()),$g=$localize(At()),xg=$localize(zt()),_g=$localize(Mt()),Mg=$localize(_t()),zg=$localize(xt()),Ag=$localize($t()),Bg=$localize(Pt()),Rg=$localize(It()),Eg=$localize(Dt());var Kg,Wg,ep,tp,np,cp,rp,ap,ip,op=function(){return["sales-user"]},up=((Kg=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).utility=e,c}return ra(n,[{key:"buildItem",value:function(){this.itemGroup.addControl("id",new Hs.g("")),this.itemGroup.addControl("contractItemId",new Hs.g("",Hs.w.required)),this.itemGroup.addControl("description",new Hs.g("",Hs.w.required)),this.itemGroup.addControl("quantity",new Hs.g("",[Hs.w.required,Hs.w.pattern(Us.a)])),this.itemGroup.addControl("quantityUnit",new Hs.g("",Hs.w.required)),this.itemGroup.addControl("pricePerUnit",new Hs.g("",[Hs.w.required,Hs.w.pattern(Us.a)])),this.itemGroup.addControl("netValue",new Hs.g({value:"",disabled:!0})),this.itemGroup.addControl("cashDiscountAllowed",new Hs.g("")),this.isItemGroupBuilt=!0}},{key:"isImmediateChangeNeeded",value:function(e){return"contractItemId"===e||"quantity"===e||"pricePerUnit"===e||"cashDiscountAllowed"===e}},{key:"patchItem",value:function(){var e={quantity:this.utility.toLocalAmount(this.item.quantity),pricePerUnit:this.utility.toLocalAmount(this.item.pricePerUnit),netValue:this.utility.toLocalAmount(this.item.netValue)},t=Object.assign({},Object.assign({},this.item.data),e);this.itemGroup.patchValue(t)}}]),n}(ym)).\u0275fac=function(e){return new(e||Kg)(la.Nb(Gs))},Kg.\u0275cmp=la.Hb({type:Kg,selectors:[["jo-invoice-item-form"]],inputs:{contract:"contract",isChangeable:"isChangeable",mode:"mode"},features:[la.zb],decls:48,vars:20,consts:[[3,"formGroup"],["fxHide","","fxShow.lt-md",""],["fxHide","","fxShow.lt-md","",1,"jo-btn-row-sm"],[1,"invoice-item-id","width--xs"],[4,"joIfAuthorizedAs"],["fxShow","","fxHide.lt-md","",1,"invoice-item-id","width--xs"],[1,"width--xs"],["formControlName","contractItemId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"width--lg"],["matInput","","formControlName","description"],["matInput","","formControlName","quantity"],[1,"width--sm"],["matInput","","formControlName","quantityUnit"],[1,"width--sm2"],["matInput","","formControlName","pricePerUnit"],["matInput","","readonly","",3,"value"],[1,"invoice-item-cashDiscountAllowed","width--xs"],["color","primary","formControlName","cashDiscountAllowed",3,"value"],["class","invoice-item-action",4,"ngIf"],[1,"invoice-item-action"],["mat-mini-fab","","color","warn",3,"click"],["aria-label","Position l\xf6schen"],[3,"value"],["fxShow","","fxHide.lt-md","","class","invoice-item-action",4,"ngIf"],["fxShow","","fxHide.lt-md","",1,"invoice-item-action"]],template:function(e,t){1&e&&(la.Rb(0,0),la.Ob(1,"mat-divider",1),la.Tb(2,"div",2),la.Tb(3,"div",3),la.Tb(4,"div"),la.Cc(5),la.Sb(),la.Sb(),la.Bc(6,Lg,2,1,"ng-container",4),la.Sb(),la.Tb(7,"div",5),la.Tb(8,"div"),la.Cc(9),la.Sb(),la.Sb(),la.Tb(10,"mat-form-field",6),la.Tb(11,"mat-label",1),la.Xb(12,wg),la.Sb(),la.Tb(13,"mat-select",7),la.Bc(14,Xg,2,2,"mat-option",8),la.Sb(),la.Bc(15,qg,2,0,"mat-error",9),la.Sb(),la.Tb(16,"mat-form-field",10),la.Tb(17,"mat-label",1),la.Xb(18,kg),la.Sb(),la.Ob(19,"input",11),la.Bc(20,Hg,2,0,"mat-error",9),la.Sb(),la.Tb(21,"mat-form-field",6),la.Tb(22,"mat-label",1),la.Xb(23,Dg),la.Sb(),la.Ob(24,"input",12),la.Bc(25,Ug,2,0,"mat-error",9),la.Bc(26,Vg,2,0,"mat-error",9),la.Sb(),la.Tb(27,"mat-form-field",13),la.Tb(28,"mat-label",1),la.Xb(29,Ig),la.Sb(),la.Ob(30,"input",14),la.Bc(31,Gg,2,0,"mat-error",9),la.Sb(),la.Tb(32,"mat-form-field",15),la.Tb(33,"mat-label",1),la.Xb(34,Pg),la.Sb(),la.Ob(35,"input",16),la.Bc(36,Yg,2,0,"mat-error",9),la.Bc(37,Zg,2,0,"mat-error",9),la.Sb(),la.Tb(38,"mat-form-field",15),la.Tb(39,"mat-label",1),la.Xb(40,$g),la.Sb(),la.Ob(41,"input",17),la.ic(42,"number"),la.Sb(),la.Tb(43,"div",18),la.Tb(44,"mat-checkbox",19),la.Tb(45,"span",1),la.Xb(46,xg),la.Sb(),la.Sb(),la.Sb(),la.Bc(47,Jg,2,1,"ng-container",4),la.Qb()),2&e&&(la.nc("formGroup",t.itemGroup),la.Cb(5),la.Dc(t.itemGroup.get("id").value),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(18,op)),la.Cb(3),la.Dc(t.itemGroup.get("id").value),la.Cb(5),la.nc("ngForOf",t.contract.items),la.Cb(1),la.nc("ngIf",t.itemGroup.get("contractItemId").hasError("required")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("description").hasError("required")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("quantity").hasError("required")),la.Cb(1),la.nc("ngIf",t.itemGroup.get("quantity").hasError("pattern")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("quantityUnit").hasError("required")),la.Cb(5),la.nc("ngIf",t.itemGroup.get("pricePerUnit").hasError("required")),la.Cb(1),la.nc("ngIf",t.itemGroup.get("pricePerUnit").hasError("pattern")),la.Cb(4),la.nc("value",la.kc(42,15,t.item.netValue,"1.2-2")),la.Cb(3),la.nc("value",t.item.cashDiscountAllowed),la.Cb(3),la.nc("joIfAuthorizedAs",la.oc(19,op)))},directives:[Hs.q,Hs.j,Rb.a,Sl.b,pl.a,eb.c,eb.g,cb.a,Hs.p,Hs.h,vl.l,vl.m,tb.b,Hs.c,lb.a,yl.b,rb.a,ab.l,eb.b],pipes:[vl.f],styles:["@media only screen and (max-width:959px){[_nghost-%COMP%]{font-size:1.6rem}}.width--xs[_ngcontent-%COMP%]{width:4rem}.width--sm[_ngcontent-%COMP%]{width:6rem}.width--sm2[_ngcontent-%COMP%]{width:8rem}.width--md[_ngcontent-%COMP%]{width:10rem}.width--lg[_ngcontent-%COMP%]{width:28rem}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{width:36rem}}@media only screen and (min-width:1600px){.width--lg[_ngcontent-%COMP%]{width:36rem}}@media only screen and (min-width:1280px){.width--lg[_ngcontent-%COMP%]{width:32rem}}.width--xl[_ngcontent-%COMP%]{width:36rem}div.invoice-item-id[_ngcontent-%COMP%]{align-self:flex-start}div.invoice-item-id[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-weight:600;height:4rem;width:4rem;border-radius:100%;background-color:#777}div.invoice-item-contractItemId[_ngcontent-%COMP%]{align-self:center}div.invoice-item-description[_ngcontent-%COMP%], div.invoice-item-quantity[_ngcontent-%COMP%], div.invoice-item-quantityUnit[_ngcontent-%COMP%]{align-self:center;overflow:hidden}div.invoice-item-pricePerUnit[_ngcontent-%COMP%]{align-self:center}div.invoice-item-netValue[_ngcontent-%COMP%]{align-self:center;text-align:right}div.invoice-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:center;justify-self:center}@media only screen and (max-width:599px){div.invoice-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:flex-start}}@media only screen and (max-width:959px){div.invoice-item-cashDiscountAllowed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:flex-start}}div.invoice-item-action[_ngcontent-%COMP%]{align-self:center}.jo-btn-row-sm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin:2rem 0 1rem}"],changeDetection:0}),Kg);function lp(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",14),la.dc("click",(function(){return la.tc(n),la.hc(2).onAdd()})),la.Tb(1,"mat-icon",15),la.Cc(2,"add"),la.Sb(),la.Sb()}}function sp(e,t){if(1&e&&(la.Rb(0),la.Bc(1,lp,3,0,"button",13),la.Qb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}function bp(e,t){if(1&e){var n=la.Ub();la.Tb(0,"jo-invoice-item-form",16),la.dc("changed",(function(){return la.tc(n),la.hc().onChanged()}))("delete",(function(e){return la.tc(n),la.hc().onDelete(e)})),la.Sb()}if(2&e){var c=t.$implicit,r=t.index,a=la.hc();la.nc("itemGroup",c)("item",a.object.items[r])("contract",a.contract)("isChangeable",a.isChangeable)}}function dp(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",19),la.dc("click",(function(e){return la.tc(n),la.hc(2).onAdd(e)})),la.Xb(1,ip),la.Sb()}}function fp(e,t){if(1&e&&(la.Tb(0,"div",17),la.Bc(1,dp,2,0,"button",18),la.Sb()),2&e){var n=la.hc();la.Cb(1),la.nc("ngIf",n.isChangeable)}}Wg=$localize(kt()),ep=$localize(wt()),tp=$localize(Tt()),np=$localize(St()),cp=$localize(jt()),rp=$localize(Ot()),ap=$localize(Ct()),ip=$localize(yt());var mp,hp,gp,pp,vp=function(){return["sales-user"]},yp=((mp=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).service=e,c}return n}(vm)).\u0275fac=function(e){return new(e||mp)(la.Nb(sl))},mp.\u0275cmp=la.Hb({type:mp,selectors:[["jo-invoice-items-form"]],inputs:{contract:"contract"},features:[la.zb],decls:22,vars:5,consts:[["fxShow","","fxHide.lt-md","",1,"table-header"],[1,"table-btn"],[4,"joIfAuthorizedAs"],[1,"invoice-item-contractItemId"],[1,"invoice-item-description"],[1,"invoice-item-quantity"],[1,"invoice-item-quantityUnit"],[1,"invoice-item-pricePerUnit"],[1,"invoice-item-netValue"],[1,"invoice-item-cashDiscountAllowed"],[1,"invoice-item-action"],["class","table-row table-row--editable",3,"itemGroup","item","contract","isChangeable","changed","delete",4,"ngFor","ngForOf"],["class","u-mt-md","fxHide","","fxShow.lt-md","",4,"joIfAuthorizedAs"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"click"],["aria-label","Position hinzuf\xfcgen"],[1,"table-row","table-row--editable",3,"itemGroup","item","contract","isChangeable","changed","delete"],["fxHide","","fxShow.lt-md","",1,"u-mt-md"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(la.Tb(0,"div"),la.Tb(1,"div",0),la.Tb(2,"div",1),la.Bc(3,sp,2,1,"ng-container",2),la.Sb(),la.Tb(4,"label",3),la.Xb(5,Wg),la.Sb(),la.Tb(6,"label",4),la.Xb(7,ep),la.Sb(),la.Tb(8,"label",5),la.Xb(9,tp),la.Sb(),la.Tb(10,"label",6),la.Xb(11,np),la.Sb(),la.Tb(12,"label",7),la.Xb(13,cp),la.Sb(),la.Tb(14,"label",8),la.Xb(15,rp),la.Sb(),la.Tb(16,"label",9),la.Xb(17,ap),la.Sb(),la.Ob(18,"label",10),la.Sb(),la.Tb(19,"div"),la.Bc(20,bp,1,4,"jo-invoice-item-form",11),la.Sb(),la.Bc(21,fp,2,1,"div",12),la.Sb()),2&e&&(la.Cb(3),la.nc("joIfAuthorizedAs",la.oc(3,vp)),la.Cb(17),la.nc("ngForOf",t.itemsFormArray.controls),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(4,vp)))},directives:[Sl.b,pl.a,vl.l,vl.m,yl.b,rb.a,up],styles:[".table-btn[_ngcontent-%COMP%]{width:4rem;display:flex;justify-content:center;align-items:center;padding:1rem 0}.table-header[_ngcontent-%COMP%] > .table-btn[_ngcontent-%COMP%]{margin-right:1.2rem}label[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.8}.invoice-item-contractItemId[_ngcontent-%COMP%], .invoice-item-id[_ngcontent-%COMP%]{width:4rem}.invoice-item-description[_ngcontent-%COMP%]{width:28rem}@media only screen and (min-width:1600px){.invoice-item-description[_ngcontent-%COMP%]{width:36rem}}@media only screen and (min-width:1280px){.invoice-item-description[_ngcontent-%COMP%]{width:32rem}}.invoice-item-quantity[_ngcontent-%COMP%]{width:4rem}.invoice-item-quantityUnit[_ngcontent-%COMP%]{width:6rem}.invoice-item-netValue[_ngcontent-%COMP%], .invoice-item-pricePerUnit[_ngcontent-%COMP%]{width:8rem}.invoice-item-action[_ngcontent-%COMP%], .invoice-item-cashDiscountAllowed[_ngcontent-%COMP%]{width:4rem}"],changeDetection:0}),mp),Cp=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(c=Object.getOwnPropertySymbols(e);r<c.length;r++)t.indexOf(c[r])<0&&Object.prototype.propertyIsEnumerable.call(e,c[r])&&(n[c[r]]=e[c[r]])}return n},Op=["label",$localize(vt())];hp=$localize(pt()),gp=$localize(gt()),pp=$localize(ht());var jp,Sp=["placeholder",$localize(mt())],Tp=["placeholder",$localize(ft())],wp=["placeholder",$localize(dt())];jp=$localize(bt());var kp,Dp,Ip=["placeholder",$localize(st())],Pp=["placeholder",$localize(lt())];kp=$localize(ut()),Dp=$localize(ot());var $p,xp=["placeholder",$localize(it())],_p=["placeholder",$localize(at())];$p=$localize(rt());var Mp,zp,Ap=["placeholder",$localize(ct())],Bp=["placeholder",$localize(nt())];Mp=$localize(tt()),zp=$localize(et());var Rp,Ep,Np=["placeholder",$localize(We())],Fp=["placeholder",$localize(Ke())],Lp=["placeholder",$localize(Je())],Xp=["placeholder",$localize(Qe())],qp=["placeholder",$localize(Ze())];Rp=$localize(Ye()),Ep=$localize(Ge());var Hp,Up,Vp,Gp,Yp,Zp,Qp,Jp,Kp,Wp,ev,tv,nv,cv,rv=["placeholder",$localize(Ve())],av=["placeholder",$localize(Ue())],iv=["placeholder",$localize(He())],ov=["placeholder",$localize(qe())],uv=["placeholder",$localize(Xe())],lv=["placeholder",$localize(Le())],sv=["label",$localize(Fe())];function bv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Hp),la.Sb())}function dv(e,t){if(1&e&&(la.Tb(0,"mat-option",21),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.nc("value",n.header.id),la.Cb(1),la.Ec(" ",n.header.name," ")}}function fv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Up),la.Sb())}function mv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Vp),la.Sb())}function hv(e,t){1&e&&(la.Tb(0,"mat-icon",41),la.Cc(1," error_outline "),la.Sb())}function gv(e,t){if(1&e&&(la.Tb(0,"mat-option",21),la.Cc(1),la.ic(2,"date"),la.ic(3,"date"),la.Sb()),2&e){var n=t.$implicit;la.nc("value",n.header.id),la.Cb(1),la.Fc(" ",n.header.id,": ",la.jc(2,4,n.term.startDate)," - ",la.jc(3,6,n.term.endDate)," ")}}function pv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Gp),la.Sb())}function vv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Yp),la.Sb())}function yv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Zp),la.Sb())}function Cv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Qp),la.Sb())}function Ov(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Jp),la.Sb())}function jv(e,t){1&e&&(la.Tb(0,"mat-icon",41),la.Cc(1," error_outline "),la.Sb())}function Sv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Kp),la.Sb())}function Tv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Wp),la.Sb())}function wv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,ev),la.Sb())}function kv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,tv),la.Sb())}function Dv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,nv),la.Sb())}function Iv(e,t){1&e&&(la.Tb(0,"mat-icon",41),la.Cc(1,"error_outline"),la.Sb())}function Pv(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,cv),la.Sb())}Hp=$localize(Ne()),Up=$localize(Ee()),Vp=$localize(Re()),Gp=$localize(Be()),Yp=$localize(Ae()),Zp=$localize(ze()),Qp=$localize(Me()),Jp=$localize(_e()),Kp=$localize(xe()),Wp=$localize($e()),ev=$localize(Pe()),tv=$localize(Ie()),nv=$localize(De()),cv=$localize(ke());var $v,xv,_v,Mv,zv,Av,Bv,Rv,Ev=["label",$localize(we())];function Nv(e,t){if(1&e&&(la.Tb(0,"mat-tab",2),la.Yb(1,Ev),la.Tb(2,"section",42),la.Tb(3,"div"),la.Ob(4,"jo-document-link-list",43),la.Sb(),la.Sb(),la.Sb()),2&e){var n=la.hc();la.Cb(4),la.nc("object",n.object)}}function Fv(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,$v),la.Sb())}function Lv(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,xv),la.Sb())}function Xv(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",53),la.dc("click",(function(e){return la.tc(n),la.hc(3).onDelete(e)})),la.Tb(1,"span"),la.Xb(2,zv),la.Sb(),la.Sb()}}function qv(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",54),la.dc("click",(function(e){return la.tc(n),la.hc(3).onPdf(e)})),la.Tb(1,"span"),la.Xb(2,Av),la.Sb(),la.Sb()}if(2&e){var c=la.hc(3);la.nc("disabled",!c.form.valid||c.form.dirty||!c.object.header.id)}}function Hv(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",55),la.dc("click",(function(e){return la.tc(n),la.hc(3).onEmail(e)})),la.Tb(1,"span"),la.Xb(2,Bv),la.Sb(),la.Sb()}if(2&e){var c=la.hc(3);la.nc("disabled",!c.form.valid||c.form.dirty||!c.object.header.id)}}function Uv(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",56),la.dc("click",(function(){la.tc(n);var e=la.hc(3);return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,Rv),la.Sb(),la.Sb()}if(2&e){var c=la.hc(3);la.nc("disabled",!c.form.valid||!c.form.dirty)}}function Vv(e,t){if(1&e){var n=la.Ub();la.Rb(0),la.Bc(1,Xv,3,0,"button",47),la.Tb(2,"button",48),la.dc("click",(function(e){return la.tc(n),la.hc(2).onNew(e)})),la.Tb(3,"span"),la.Xb(4,_v),la.Sb(),la.Sb(),la.Tb(5,"button",49),la.dc("click",(function(e){return la.tc(n),la.hc(2).onCopy(e)})),la.Tb(6,"span"),la.Xb(7,Mv),la.Sb(),la.Sb(),la.Bc(8,qv,3,1,"button",50),la.Bc(9,Hv,3,1,"button",51),la.Bc(10,Uv,3,1,"button",52),la.Qb()}if(2&e){var c=la.hc(2);la.Cb(1),la.nc("ngIf",c.isChangeable||!c.form.controls.id.value),la.Cb(1),la.nc("disabled",!c.form.valid||c.form.dirty),la.Cb(3),la.nc("disabled",!c.form.valid||c.form.dirty||!c.object.header.id),la.Cb(3),la.nc("ngIf",0===c.object.header.status&&0===c.object.header.billingMethod),la.Cb(1),la.nc("ngIf",c.isSendable),la.Cb(1),la.nc("ngIf",c.isChangeable)}}$v=$localize(Te()),xv=$localize(Se()),_v=$localize(je()),Mv=$localize(Oe()),zv=$localize(Ce()),Av=$localize(ye()),Bv=$localize(ve()),Rv=$localize(pe());var Gv=function(){return["sales-user"]};function Yv(e,t){if(1&e){var n=la.Ub();la.Tb(0,"div",44),la.Tb(1,"button",45),la.dc("click",(function(e){return la.tc(n),la.hc().onCancel(e)})),la.Bc(2,Fv,2,0,"span",11),la.Bc(3,Lv,2,0,"span",11),la.Sb(),la.Bc(4,Vv,11,6,"ng-container",46),la.Sb()}if(2&e){var c=la.hc();la.Cb(2),la.nc("ngIf",c.form.dirty),la.Cb(1),la.nc("ngIf",!c.form.dirty),la.Cb(1),la.nc("joIfAuthorizedAs",la.oc(3,Gv))}}var Zv,Qv,Jv,Kv,Wv,ey,ty,ny,cy,ry=function(){return["contractId","billingMethod","currency","vatPercentage"]},ay=function(){return["paymentTerms","paymentMethod","cashDiscountDays","cashDiscountPercentage","dueInDays"]},iy=function(){return["items"]},oy=((Zv=function(e){Jr(n,e);var t=Wr(n);function n(e,c,r,a){var i;return na(this,n),(i=t.call(this,e,c,r,a)).fb=e,i.store=c,i.router=r,i.utility=a,i.createPdf=new la.o,i.sendEmail=new la.o,i.onCashDiscountPercentageChanged=function(e,t){var n=i.utility.fromLocalPercent(e);i.object.header.cashDiscountPercentage=n,i.changed.emit(i.object)},i.onContractIdChanged=function(e,t){console.log("contract assignment changed: ",e);var n=e;i.invoiceContract=i.contracts.find((function(e){return e.header.id===n})),i.object.header.contractId=n,i.changed.emit(i.object)},i.onReceiverIdChanged=function(e,t){var n=e;i.object.header.receiverId=n,i.invoiceReceiver=i.receivers.find((function(e){return e.data.id===i.object.header.receiverId})),i.contracts=i.contracts.filter((function(e){return e.header.customerId===n})),i.changed.emit(i.object)},i.onVatPercentageChanged=function(e){var t=i.utility.fromLocalPercent(e);i.object.vatPercentage=t,i.changed.emit(i.object)},i}return ra(n,[{key:"onEmail",value:function(e){this.sendEmail.emit(this.object),e&&e.stopPropagation()}},{key:"onPdf",value:function(e){this.createPdf.emit(this.object),e&&e.stopPropagation()}},{key:"getFormTitle",value:function(){return this.object.header.id?"".concat(this.object.header.id," - ").concat(this.object.header.billingPeriod):"[neu]"}},{key:"buildForm",value:function(){return this.fb.group({id:[{value:"",disabled:!0}],issuedAt:["",[Hs.w.required]],status:["",[Hs.w.required]],billingPeriod:["",[Hs.w.required]],receiverId:["",[Hs.w.required]],contractId:["",[Hs.w.required]],billingMethod:["",[Hs.w.required]],currency:["",[Hs.w.required]],paymentTerms:["",[Hs.w.required]],paymentMethod:["",[Hs.w.required]],cashDiscountDays:["",[Hs.w.pattern(Us.b)]],cashDiscountPercentage:["",[Hs.w.pattern(Us.a)]],dueInDays:["",[Hs.w.required,Hs.w.pattern(Us.b)]],vatPercentage:["",[Hs.w.pattern(Us.a)]],documentUrl:[""],texts:this.fb.group({invoiceText:[""],internalText:[""]}),items:new Hs.d([],[gm])})}},{key:"changeObject",value:function(e){var t=this,n=e.items,c=Cp(e,["items","texts"]),r=n.map((function(e){return Object.assign({},e,{quantity:t.utility.fromLocalAmount(e.quantity),pricePerUnit:t.utility.fromLocalAmount(e.pricePerUnit)})})),a={issuedAt:Ti.DateUtility.getDateFromMoment(e.issuedAt),status:+e.status,vatPercentage:this.utility.fromLocalAmount(e.vatPercentage),cashDiscountPercentage:this.utility.fromLocalPercent(e.cashDiscountPercentage),cashDiscountDays:+e.cashDiscountDays,internalText:e.texts.internalText,invoiceText:e.texts.invoiceText};console.log("reformatted values: ",a);var i=Object.assign({},Object.assign({},this.object.data),Object.assign({},c),Object.assign({},a),{items:r});console.log("changed invoice data: ",i);var o=Ti.InvoiceFactory.fromData(i);return console.log("changedInvoice: ",o),this.changed.emit(o),o}},{key:"listenToChanges",value:function(){this.listenToFieldChanges("status",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("issuedAt",this.onSimpleHeaderStartDateChanged),this.listenToFieldChanges("receiverId",this.onReceiverIdChanged),this.listenToFieldChanges("contractId",this.onContractIdChanged),this.listenToFieldChanges("billingMethod",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("vatPercentage",this.onVatPercentageChanged),this.listenToFieldChanges("cashDiscountPercentage",this.onCashDiscountPercentageChanged),this.listenToFieldChanges("cashDiscountDays",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("dueInDays",this.onSimpleHeaderNumberChanged),this.listenToFieldChanges("billingPeriod",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("currency",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("paymentTerm",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("paymentMethod",this.onSimpleHeaderNumberChanged)}},{key:"patchForm",value:function(){var e={status:this.object.header.status.toString(),issuedAt:this.object.header.issuedAt,cashDiscountPercentage:this.utility.toLocalPercent(this.object.header.cashDiscountPercentage),vatPercentage:this.utility.toLocalPercent(this.object.vatPercentage),netValue:this.utility.toLocalAmount(this.object.netValue),vatAmount:this.utility.toLocalAmount(this.object.vatAmount),grossValue:this.utility.toLocalAmount(this.object.grossValue),cashDiscountBaseAmount:this.utility.toLocalAmount(this.object.cashDiscountBaseAmount),cashDiscountAmount:this.utility.toLocalAmount(this.object.cashDiscountAmount),paymentAmount:this.utility.toLocalAmount(this.object.paymentAmount)},t=this.object.header,n=t.invoiceText,c=t.internalText,r=Cp(t,["invoiceText","internalText"]),a={invoiceText:n,internalText:c},i=Object.assign({},Object.assign({},r),e,{texts:a});this.form.patchValue(i),this.logErrors()}},{key:"logErrors",value:function(){var e=this;Object.keys(this.form.controls).forEach((function(t){e.form.get(t).errors&&console.log(t,e.form.get(t).errors||"no errors")}))}}]),n}(Js)).\u0275fac=function(e){return new(e||Zv)(la.Nb(Hs.f),la.Nb(ta.h),la.Nb(ua.g),la.Nb(Gs))},Zv.\u0275cmp=la.Hb({type:Zv,selectors:[["jo-invoice-form"]],inputs:{invoiceReceiver:"invoiceReceiver",invoiceContract:"invoiceContract",receivers:"receivers",contracts:"contracts",isChangeable:"isChangeable",isSendable:"isSendable",mode:"mode"},outputs:{createPdf:"createPdf",sendEmail:"sendEmail"},features:[la.zb],decls:142,vars:68,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","invoice-form",3,"formGroup"],[3,"selectedTabChange"],[6,"label"],["id","status-group","formControlName","status","aria-label","Rechnungsstatus"],["color","accent","value","0"],["color","primary","value","1"],["color","primary","value","2"],["id","main-group"],["matInput","","formControlName","issuedAt",3,"matDatepicker",6,"placeholder"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["formControlName","receiverId",6,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","billingPeriod",6,"placeholder"],["expanded","false"],["color","warn",4,"ngIf"],["id","contract-group"],[1,"width--lg"],["formControlName","contractId",6,"placeholder"],["id","billingMethod","formControlName","billingMethod",6,"placeholder"],[3,"value"],[1,"width--sm"],["matInput","","formControlName","currency",6,"placeholder"],["matInput","","formControlName","vatPercentage",6,"placeholder"],["id","payment-group"],["matInput","","formControlName","paymentTerms",6,"placeholder"],["formControlName","paymentMethod",6,"placeholder"],["id","cashDiscount-group"],[1,"width--md"],["matInput","","formControlName","cashDiscountDays",6,"placeholder"],["matInput","","readonly","",3,"value",6,"placeholder"],["matInput","","formControlName","cashDiscountPercentage",6,"placeholder"],["matInput","","formControlName","dueInDays",6,"placeholder"],["expanded","true"],[1,""],["formArrayName","items",3,"itemsFormArray","object","contract","isChangeable"],["id","totals-group"],[3,"textsFormGroup","object","isChangeable"],[4,"ngIf",6,"label"],["class","jo-btn-row",4,"ngIf"],["color","warn"],[1,"tables","u-mt-lg"],[3,"object"],[1,"jo-btn-row"],["id","btn_cancel","type","button","mat-raised-button","",3,"click"],[4,"joIfAuthorizedAs"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","btn_new","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_copy","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_createPdf","type","button","mat-raised-button","",3,"disabled","click",4,"ngIf"],["id","btn_send","type","button","mat-raised-button","",3,"disabled","click",4,"ngIf"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["id","btn_delete","type","button","mat-raised-button","","color","warn",3,"click"],["id","btn_createPdf","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_send","type","button","mat-raised-button","",3,"disabled","click"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(la.Tb(0,"form",0),la.Tb(1,"mat-tab-group",1),la.dc("selectedTabChange",(function(e){return t.onTabChange(e)})),la.Cc(2,"> "),la.Tb(3,"mat-tab",2),la.Yb(4,Op),la.Tb(5,"mat-radio-group",3),la.Tb(6,"mat-radio-button",4),la.Xb(7,hp),la.Sb(),la.Tb(8,"mat-radio-button",5),la.Xb(9,gp),la.Sb(),la.Tb(10,"mat-radio-button",6),la.Xb(11,pp),la.Sb(),la.Sb(),la.Tb(12,"div",7),la.Tb(13,"mat-form-field"),la.Tb(14,"input",8),la.Yb(15,Sp),la.Sb(),la.Ob(16,"mat-datepicker-toggle",9),la.Ob(17,"mat-datepicker",null,10),la.Bc(19,bv,2,0,"mat-error",11),la.Sb(),la.Tb(20,"mat-form-field"),la.Tb(21,"mat-select",12),la.Yb(22,Tp),la.Bc(23,dv,2,2,"mat-option",13),la.Sb(),la.Bc(24,fv,2,0,"mat-error",11),la.Sb(),la.Tb(25,"mat-form-field"),la.Tb(26,"input",14),la.Yb(27,wp),la.Sb(),la.Bc(28,mv,2,0,"mat-error",11),la.Sb(),la.Sb(),la.Tb(29,"mat-expansion-panel",15),la.Tb(30,"mat-expansion-panel-header"),la.Tb(31,"mat-panel-title"),la.Xb(32,jp),la.Sb(),la.Tb(33,"mat-panel-description"),la.Bc(34,hv,2,0,"mat-icon",16),la.Sb(),la.Sb(),la.Tb(35,"div",17),la.Tb(36,"mat-form-field",18),la.Tb(37,"mat-select",19),la.Yb(38,Ip),la.Bc(39,gv,4,8,"mat-option",13),la.Sb(),la.Bc(40,pv,2,0,"mat-error",11),la.Sb(),la.Tb(41,"mat-form-field",18),la.Tb(42,"mat-select",20),la.Yb(43,Pp),la.Tb(44,"mat-option",21),la.Xb(45,kp),la.Sb(),la.Tb(46,"mat-option",21),la.Xb(47,Dp),la.Sb(),la.Sb(),la.Bc(48,vv,2,0,"mat-error",11),la.Sb(),la.Tb(49,"mat-form-field",22),la.Tb(50,"input",23),la.Yb(51,xp),la.Sb(),la.Bc(52,yv,2,0,"mat-error",11),la.Sb(),la.Tb(53,"mat-form-field",22),la.Tb(54,"input",24),la.Yb(55,_p),la.Sb(),la.Bc(56,Cv,2,0,"mat-error",11),la.Bc(57,Ov,2,0,"mat-error",11),la.Sb(),la.Sb(),la.Sb(),la.Tb(58,"mat-expansion-panel"),la.Tb(59,"mat-expansion-panel-header"),la.Tb(60,"mat-panel-title"),la.Xb(61,$p),la.Sb(),la.Tb(62,"mat-panel-description"),la.Bc(63,jv,2,0,"mat-icon",16),la.Sb(),la.Sb(),la.Tb(64,"div",25),la.Tb(65,"mat-form-field",18),la.Tb(66,"input",26),la.Yb(67,Ap),la.Sb(),la.Bc(68,Sv,2,0,"mat-error",11),la.Sb(),la.Tb(69,"mat-form-field"),la.Tb(70,"mat-select",27),la.Yb(71,Bp),la.Tb(72,"mat-option",21),la.Xb(73,Mp),la.Sb(),la.Tb(74,"mat-option",21),la.Xb(75,zp),la.Sb(),la.Sb(),la.Bc(76,Tv,2,0,"mat-error",11),la.Sb(),la.Sb(),la.Tb(77,"div",28),la.Tb(78,"mat-form-field",29),la.Tb(79,"input",30),la.Yb(80,Np),la.Sb(),la.Bc(81,wv,2,0,"mat-error",11),la.Sb(),la.Tb(82,"mat-form-field"),la.Tb(83,"input",31),la.Yb(84,Fp),la.ic(85,"date"),la.Sb(),la.Sb(),la.Tb(86,"mat-form-field",22),la.Tb(87,"input",32),la.Yb(88,Lp),la.Sb(),la.Bc(89,kv,2,0,"mat-error",11),la.Sb(),la.Tb(90,"mat-form-field",29),la.Tb(91,"input",33),la.Yb(92,Xp),la.Sb(),la.Bc(93,Dv,2,0,"mat-error",11),la.Sb(),la.Tb(94,"mat-form-field"),la.Tb(95,"input",31),la.Yb(96,qp),la.ic(97,"date"),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Tb(98,"mat-expansion-panel",34),la.Tb(99,"mat-expansion-panel-header"),la.Tb(100,"mat-panel-title"),la.Xb(101,Rp),la.Sb(),la.Tb(102,"mat-panel-description"),la.Bc(103,Iv,2,0,"mat-icon",16),la.Sb(),la.Sb(),la.Tb(104,"div",35),la.Ob(105,"jo-invoice-items-form",36),la.Bc(106,Pv,2,0,"mat-error",11),la.Sb(),la.Sb(),la.Tb(107,"mat-expansion-panel",34),la.Tb(108,"mat-expansion-panel-header"),la.Tb(109,"mat-panel-title"),la.Xb(110,Ep),la.Sb(),la.Ob(111,"mat-panel-description"),la.Sb(),la.Tb(112,"div",37),la.Tb(113,"mat-form-field",22),la.Tb(114,"input",31),la.Yb(115,rv),la.ic(116,"number"),la.Sb(),la.Sb(),la.Tb(117,"mat-form-field",22),la.Tb(118,"input",31),la.Yb(119,av),la.ic(120,"number"),la.Sb(),la.Sb(),la.Tb(121,"mat-form-field",22),la.Tb(122,"input",31),la.Yb(123,iv),la.ic(124,"number"),la.Sb(),la.Sb(),la.Tb(125,"mat-form-field",22),la.Tb(126,"input",31),la.Yb(127,ov),la.ic(128,"number"),la.Sb(),la.Sb(),la.Tb(129,"mat-form-field",22),la.Tb(130,"input",31),la.Yb(131,uv),la.ic(132,"number"),la.Sb(),la.Sb(),la.Tb(133,"mat-form-field",22),la.Tb(134,"input",31),la.Yb(135,lv),la.ic(136,"number"),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Sb(),la.Tb(137,"mat-tab",2),la.Yb(138,sv),la.Ob(139,"jo-texts-form-component",38),la.Sb(),la.Bc(140,Nv,5,1,"mat-tab",39),la.Sb(),la.Bc(141,Yv,5,4,"div",40),la.Sb()),2&e){var n=la.sc(18);la.nc("formGroup",t.form),la.Cb(14),la.nc("matDatepicker",n),la.Cb(2),la.nc("for",n),la.Cb(3),la.nc("ngIf",t.form.get("issuedAt").hasError("required")),la.Cb(4),la.nc("ngForOf",t.receivers),la.Cb(1),la.nc("ngIf",t.form.get("receiverId").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("billingPeriod").hasError("required")),la.Cb(6),la.nc("ngIf",t.hasError(la.oc(65,ry))),la.Cb(5),la.nc("ngForOf",t.contracts),la.Cb(1),la.nc("ngIf",t.form.get("contractId").hasError("required")),la.Cb(4),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("ngIf",t.form.get("billingMethod").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("currency").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("vatPercentage").hasError("required")),la.Cb(1),la.nc("ngIf",t.form.get("vatPercentage").hasError("pattern")),la.Cb(6),la.nc("ngIf",t.hasError(la.oc(66,ay))),la.Cb(5),la.nc("ngIf",t.form.get("paymentTerms").hasError("required")),la.Cb(4),la.nc("value",0),la.Cb(2),la.nc("value",1),la.Cb(2),la.nc("ngIf",t.form.get("paymentMethod").hasError("required")),la.Cb(5),la.nc("ngIf",t.form.get("cashDiscountDays").hasError("required")),la.Cb(2),la.nc("value",la.jc(85,43,t.object.cashDiscountDate)),la.Cb(6),la.nc("ngIf",t.form.get("cashDiscountPercentage").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("dueInDays").hasError("required")),la.Cb(2),la.nc("value",la.jc(97,45,t.object.dueDate)),la.Cb(8),la.nc("ngIf",t.hasError(la.oc(67,iy))),la.Cb(2),la.nc("itemsFormArray",t.form.get("items"))("object",t.object)("contract",t.invoiceContract)("isChangeable",t.isChangeable),la.Cb(1),la.nc("ngIf",t.form.get("items").hasError("minItems")),la.Cb(8),la.nc("value",la.kc(116,47,t.object.netValue,"1.2-2")),la.Cb(4),la.nc("value",la.kc(120,50,t.object.vatAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(124,53,t.object.grossValue,"1.2-2")),la.Cb(4),la.nc("value",la.kc(128,56,t.object.cashDiscountBaseAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(132,59,t.object.cashDiscountAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(136,62,t.object.paymentAmount,"1.2-2")),la.Cb(5),la.nc("textsFormGroup",t.form.get("texts"))("object",t.object)("isChangeable",t.isChangeable),la.Cb(1),la.nc("ngIf",t.object.header.id),la.Cb(1),la.nc("ngIf",t.tabIndex<2)}},directives:[Hs.x,Hs.q,Hs.j,Ks.b,Ks.a,Ws.b,Hs.p,Hs.h,Ws.a,eb.c,tb.b,Hs.c,pm.b,pm.d,eb.h,pm.a,vl.m,cb.a,vl.l,nb.b,nb.d,nb.e,nb.c,ab.l,yp,Hs.e,Ym,eb.b,rb.a,Ub,yl.b,pl.a],pipes:[vl.e,vl.f],styles:["#invoice-form[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:959px){#invoice-form[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]{height:4.8rem;font-size:1.4rem}#invoice-form[_ngcontent-%COMP%]   .mat-radio-label-content[_ngcontent-%COMP%], #invoice-form[_ngcontent-%COMP%]   .mat-tab-label-content[_ngcontent-%COMP%]{font-size:1.4rem}#invoice-form[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%], #invoice-form[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}#invoice-form[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:6.4rem!important}}#cashDiscount-group[_ngcontent-%COMP%], #contract-group[_ngcontent-%COMP%], #due-group[_ngcontent-%COMP%], #main-group[_ngcontent-%COMP%], #payment-group[_ngcontent-%COMP%], #validity-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}#cashDiscount-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #contract-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #due-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #main-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #payment-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #validity-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){margin-right:2.4rem}@media only screen and (max-width:600px){#cashDiscount-group[_ngcontent-%COMP%], #contract-group[_ngcontent-%COMP%], #due-group[_ngcontent-%COMP%], #main-group[_ngcontent-%COMP%], #payment-group[_ngcontent-%COMP%], #validity-group[_ngcontent-%COMP%]{flex-direction:column;font-size:1.6rem}}#main-group[_ngcontent-%COMP%]{padding:0 2.4rem}#totals-discounted-group[_ngcontent-%COMP%], #totals-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}#totals-discounted-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child), #totals-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:last-child){margin-right:2.4rem}@media only screen and (max-width:600px){#totals-discounted-group[_ngcontent-%COMP%], #totals-group[_ngcontent-%COMP%]{font-size:1.6rem}}#status-group[_ngcontent-%COMP%]{margin-top:2.4rem;margin-bottom:2.4rem;padding:0 2.4rem;display:flex;flex-wrap:wrap;font-size:1.4rem}#status-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:0 1.6rem}@media only screen and (max-width:600px){#status-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:0 .8rem}}#cashDiscountAmount[_ngcontent-%COMP%], #cashDiscountBaseAmount[_ngcontent-%COMP%], #grossValue[_ngcontent-%COMP%], #netValue[_ngcontent-%COMP%], #paymentAmount[_ngcontent-%COMP%], #vatAmount[_ngcontent-%COMP%]{margin-top:.8rem}width-full[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),Zv),uy=["placeholder",$localize(ge())],ly=["placeholder",$localize(he())],sy=["placeholder",$localize(me())],by=["placeholder",$localize(fe())],dy=["placeholder",$localize(de())],fy=["placeholder",$localize(be())],my=["placeholder",$localize(se())],hy=["placeholder",$localize(le())],gy=["placeholder",$localize(ue())],py=["placeholder",$localize(oe())],vy=["placeholder",$localize(ie())],yy=["placeholder",$localize(ae())];function Cy(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Jv),la.Sb())}function Oy(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Kv),la.Sb())}function jy(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,Wv),la.Sb())}function Sy(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,ey),la.Sb())}function Ty(e,t){1&e&&(la.Tb(0,"mat-error"),la.Xb(1,ty),la.Sb())}function wy(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,ny),la.Sb())}function ky(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,cy),la.Sb())}Qv=$localize(re()),Jv=$localize(ce()),Kv=$localize(ne()),Wv=$localize(te()),ey=$localize(ee()),ty=$localize(W()),ny=$localize(K()),cy=$localize(J());var Dy,Iy=((Dy=function(e){Jr(n,e);var t=Wr(n);function n(e,c,r,a){var i;return na(this,n),(i=t.call(this,e,c,r,a)).fb=e,i.store=c,i.router=r,i.utility=a,i.onDescriptionChanged=function(e,t){i.object.items[0].description=e,i.changed.emit(i.object)},i.onQuantityChanged=function(e,t){var n=i.utility.fromLocalAmount(e);i.object.items[0].quantity=n,i.changed.emit(i.object)},i}return ra(n,[{key:"getFormTitle",value:function(){return null}},{key:"buildForm",value:function(){return this.fb.group({issuedAt:["",[Hs.w.required]],billingPeriod:["",[Hs.w.required]],quantity:["",[Hs.w.required,Hs.w.pattern(Us.a)]],description:["",[Hs.w.required]]})}},{key:"changeObject",value:function(e){var t={quantity:this.utility.fromLocalAmount(e.quantity),description:e.description},n={issuedAt:Ti.DateUtility.getDateFromMoment(e.issuedAt),billingPeriod:e.billingPeriod},c=Object.assign({},Object.assign({},this.object.data),Object.assign({},n));c.items[0].quantity=t.quantity,c.items[0].description=t.description;var r=Ti.InvoiceFactory.fromData(c);return this.changed.emit(r),r}},{key:"listenToChanges",value:function(){this.listenToFieldChanges("issuedAt",this.onSimpleHeaderStartDateChanged),this.listenToFieldChanges("billingPeriod",this.onSimpleHeaderTextChanged),this.listenToFieldChanges("quantity",this.onQuantityChanged),this.listenToFieldChanges("description",this.onDescriptionChanged)}},{key:"patchForm",value:function(){var e={receiverId:this.object.header.receiverId,contractId:this.object.header.contractId,issuedAt:this.object.header.issuedAt,billingPeriod:this.object.header.billingPeriod,quantity:this.utility.toLocalAmount(this.object.items[0].quantity),description:this.object.items[0].description,netValue:this.utility.toLocalAmount(this.object.netValue),vatAmount:this.utility.toLocalAmount(this.object.vatAmount),grossValue:this.utility.toLocalAmount(this.object.grossValue),cashDiscountBaseAmount:this.utility.toLocalAmount(this.object.cashDiscountBaseAmount),cashDiscountAmount:this.utility.toLocalAmount(this.object.cashDiscountAmount),paymentAmount:this.utility.toLocalAmount(this.object.paymentAmount)},t=Object.assign({},Object.assign({},e));this.form.patchValue(t)}}]),n}(Js)).\u0275fac=function(e){return new(e||Dy)(la.Nb(Hs.f),la.Nb(ta.h),la.Nb(ua.g),la.Nb(Gs))},Dy.\u0275cmp=la.Hb({type:Dy,selectors:[["jo-quick-invoice-form"]],inputs:{invoiceReceiver:"invoiceReceiver",invoiceContract:"invoiceContract"},features:[la.zb],decls:59,vars:37,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","quick-invoice-form",3,"formGroup"],[1,"width--lg"],["matInput","","readonly","",3,"value",6,"placeholder"],["matInput","","formControlName","issuedAt",3,"matDatepicker",6,"placeholder"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","formControlName","billingPeriod",6,"placeholder"],[1,"width--sm"],["matInput","","formControlName","quantity",6,"placeholder"],["matInput","","formControlName","description",6,"placeholder"],["id","totals-group",1,"u-mt-md"],[1,"jo-btn-row"],["id","btn_cancel","type","button","mat-raised-button","",3,"click"],["id","btn_save","type","button","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(la.Tb(0,"form",0),la.Tb(1,"mat-form-field",1),la.Tb(2,"input",2),la.Yb(3,uy),la.Sb(),la.Sb(),la.Tb(4,"mat-form-field",1),la.Tb(5,"input",2),la.Yb(6,ly),la.Sb(),la.Sb(),la.Tb(7,"mat-form-field",1),la.Tb(8,"input",3),la.Yb(9,sy),la.Sb(),la.Ob(10,"mat-datepicker-toggle",4),la.Ob(11,"mat-datepicker",null,5),la.Bc(13,Cy,2,0,"mat-error",6),la.Sb(),la.Tb(14,"mat-form-field",1),la.Tb(15,"input",7),la.Yb(16,by),la.Sb(),la.Bc(17,Oy,2,0,"mat-error",6),la.Sb(),la.Tb(18,"mat-form-field",8),la.Tb(19,"input",9),la.Yb(20,dy),la.Sb(),la.Bc(21,jy,2,0,"mat-error",6),la.Bc(22,Sy,2,0,"mat-error",6),la.Sb(),la.Tb(23,"mat-form-field",1),la.Tb(24,"input",10),la.Yb(25,fy),la.Sb(),la.Bc(26,Ty,2,0,"mat-error",6),la.Sb(),la.Tb(27,"div",11),la.Tb(28,"mat-form-field",8),la.Tb(29,"input",2),la.Yb(30,my),la.ic(31,"number"),la.Sb(),la.Sb(),la.Tb(32,"mat-form-field",8),la.Tb(33,"input",2),la.Yb(34,hy),la.ic(35,"number"),la.Sb(),la.Sb(),la.Tb(36,"mat-form-field",8),la.Tb(37,"input",2),la.Yb(38,gy),la.ic(39,"number"),la.Sb(),la.Sb(),la.Tb(40,"mat-form-field",8),la.Tb(41,"input",2),la.Yb(42,py),la.ic(43,"number"),la.Sb(),la.Sb(),la.Tb(44,"mat-form-field",8),la.Tb(45,"input",2),la.Yb(46,vy),la.ic(47,"number"),la.Sb(),la.Sb(),la.Tb(48,"mat-form-field",8),la.Tb(49,"input",2),la.Yb(50,yy),la.ic(51,"number"),la.Sb(),la.Sb(),la.Sb(),la.Tb(52,"div",12),la.Tb(53,"button",13),la.dc("click",(function(e){return t.onCancel(e)})),la.Bc(54,wy,2,0,"span",6),la.Bc(55,ky,2,0,"span",6),la.Sb(),la.Tb(56,"button",14),la.dc("click",(function(){return t.onSave(t.form)})),la.Tb(57,"span"),la.Xb(58,Qv),la.Sb(),la.Sb(),la.Sb(),la.Sb()),2&e){var n=la.sc(12);la.nc("formGroup",t.form),la.Cb(2),la.nc("value",t.object.header.receiverId+" - "+t.invoiceReceiver.header.name),la.Cb(3),la.nc("value",t.object.header.contractId+" - "+t.invoiceContract.header.description),la.Cb(3),la.nc("matDatepicker",n),la.Cb(2),la.nc("for",n),la.Cb(3),la.nc("ngIf",t.form.get("issuedAt").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("billingPeriod").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("quantity").hasError("required")),la.Cb(1),la.nc("ngIf",t.form.get("quantity").hasError("pattern")),la.Cb(4),la.nc("ngIf",t.form.get("description").hasError("required")),la.Cb(3),la.nc("value",la.kc(31,19,t.object.netValue,"1.2-2")),la.Cb(4),la.nc("value",la.kc(35,22,t.object.vatAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(39,25,t.object.grossValue,"1.2-2")),la.Cb(4),la.nc("value",la.kc(43,28,t.object.cashDiscountBaseAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(47,31,t.object.cashDiscountAmount,"1.2-2")),la.Cb(4),la.nc("value",la.kc(51,34,t.object.paymentAmount,"1.2-2")),la.Cb(5),la.nc("ngIf",t.form.dirty),la.Cb(1),la.nc("ngIf",!t.form.dirty),la.Cb(1),la.nc("disabled",!t.form.valid||!t.form.dirty)}},directives:[Hs.x,Hs.q,Hs.j,eb.c,tb.b,Hs.c,pm.b,Hs.p,Hs.h,pm.d,eb.h,pm.a,vl.m,yl.b,eb.b],pipes:[vl.f],styles:["#quick-invoice-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),Dy);function Py(e,t){if(1&e){var n=la.Ub();la.Tb(0,"section"),la.Tb(1,"jo-invoice-form",5,6),la.dc("copy",(function(e){return la.tc(n),la.hc(2).onCopy(e)}))("new",(function(){return la.tc(n),la.hc(2).onNew()}))("changed",(function(e){return la.tc(n),la.hc(2).onChanged(e)}))("create",(function(e){return la.tc(n),la.hc(2).onCreate(e)}))("delete",(function(e){return la.tc(n),la.hc(2).onDelete(e)}))("update",(function(e){return la.tc(n),la.hc(2).onUpdate(e)}))("createPdf",(function(e){return la.tc(n),la.hc(2).onCreatePdf(e)}))("sendEmail",(function(e){return la.tc(n),la.hc(2).onSendEmail(e)})),la.ic(3,"async"),la.ic(4,"async"),la.ic(5,"async"),la.ic(6,"async"),la.ic(7,"async"),la.ic(8,"async"),la.Sb(),la.Sb()}if(2&e){var c=la.hc().ngIf,r=la.hc();la.Cb(1),la.nc("object",c)("invoiceReceiver",la.jc(3,8,r.invoiceReceiver$))("invoiceContract",la.jc(4,10,r.invoiceContract$))("receivers",la.jc(5,12,r.receivers$))("contracts",la.jc(6,14,r.contracts$))("isChangeable",la.jc(7,16,r.isChangeable$))("isSendable",la.jc(8,18,r.isSendable$))("mode",r.mode)}}function $y(e,t){if(1&e){var n=la.Ub();la.Tb(0,"section"),la.Tb(1,"jo-quick-invoice-form",7,6),la.dc("changed",(function(e){return la.tc(n),la.hc(2).onChanged(e)}))("create",(function(e){return la.tc(n),la.hc(2).onCreate(e)})),la.ic(3,"async"),la.ic(4,"async"),la.Sb(),la.Sb()}if(2&e){var c=la.hc().ngIf,r=la.hc();la.Cb(1),la.nc("object",c)("invoiceReceiver",la.jc(3,3,r.invoiceReceiver$))("invoiceContract",la.jc(4,5,r.invoiceContract$))}}function xy(e,t){if(1&e&&(la.Tb(0,"mat-card",1),la.Tb(1,"mat-card-header"),la.Tb(2,"mat-card-title"),la.Tb(3,"span",2),la.Cc(4),la.Sb(),la.Tb(5,"span",3),la.Cc(6),la.Sb(),la.Sb(),la.Sb(),la.Tb(7,"mat-card-content"),la.Bc(8,Py,9,20,"section",4),la.ic(9,"async"),la.Bc(10,$y,5,7,"section",4),la.ic(11,"async"),la.Sb(),la.Sb()),2&e){var n=t.ngIf,c=la.hc();la.Cb(4),la.Dc(c.getTitle(n)),la.Cb(2),la.Dc(c.getShortenedTitle(n)),la.Cb(2),la.nc("ngIf","quick"!==la.jc(9,4,c.task$)),la.Cb(2),la.nc("ngIf","quick"===la.jc(11,6,c.task$))}}var _y,My,zy,Ay=((_y=function(e){Jr(n,e);var t=Wr(n);function n(e,c){var r;return na(this,n),(r=t.call(this,e,c)).service=e,r.route=c,r}return ra(n,[{key:"onCreatePdf",value:function(e){this.service.createPdf(e)}},{key:"onSendEmail",value:function(e){this.service.sendEmail(e)}},{key:"getShortenedTitle",value:function(e){return e.header.id?"".concat(e.header.id," - ").concat(e.header.billingPeriod):(0===e.header.billingMethod?"Rechnung":"Gutschriftsanforderung")+" [neu]"}},{key:"getTitle",value:function(e){var t=0===e.header.billingMethod?"Rechnung":"Gutschriftsanforderung";return e.header.id?"".concat(t," ").concat(e.header.id," - ").concat(e.header.billingPeriod):t+" [neu]"}},{key:"initializeWithData",value:function(e){this.invoice$=this.service.getCurrent(),this.invoiceReceiver$=this.service.getReceiver(),this.invoiceContract$=this.service.getContract(),this.receivers$=this.service.getReceivers(),this.contracts$=this.service.getContracts(),this.mode="edit","copy"===e||"new"===e?(this.task$.next(e),this.isChangeable$=Object(ji.of)(!0)):"quick"===e?this.task$.next(e):(this.task$.next("edit"),this.isChangeable$=this.service.isChangeable(),this.isSendable$=this.service.isSendable())}}]),n}(qs)).\u0275fac=function(e){return new(e||_y)(la.Nb(sl),la.Nb(ua.a))},_y.\u0275cmp=la.Hb({type:_y,selectors:[["jo-invoice-details"]],features:[la.zb],decls:2,vars:3,consts:[["class","jo-details mat-elevation-z0",4,"ngIf"],[1,"jo-details","mat-elevation-z0"],["fxHide.lt-md",""],["fxHide.gt-sm",""],[4,"ngIf"],[3,"object","invoiceReceiver","invoiceContract","receivers","contracts","isChangeable","isSendable","mode","copy","new","changed","create","delete","update","createPdf","sendEmail"],["detailsForm",""],[3,"object","invoiceReceiver","invoiceContract","changed","create"]],template:function(e,t){1&e&&(la.Bc(0,xy,12,8,"mat-card",0),la.ic(1,"async")),2&e&&la.nc("ngIf",la.jc(1,1,t.invoice$))},directives:[vl.m,Ol.a,Ol.e,Ol.h,Sl.b,Ol.d,oy,Iy],pipes:[vl.b],styles:[""],changeDetection:0}),_y);function By(e,t){1&e&&(la.Tb(0,"mat-header-cell",22),la.Xb(1,zy),la.Sb())}My=$localize(Q()),zy=$localize(Z());var Ry,Ey,Ny,Fy,Ly,Xy,qy,Hy,Uy,Vy=function(e){return["/invoicing/invoices",e]};function Gy(e,t){if(1&e&&(la.Tb(0,"mat-cell",22),la.Tb(1,"a",23),la.Cc(2),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.nc("routerLink",la.pc(2,Vy,n.id)),la.Cb(1),la.Dc(n.id)}}function Yy(e,t){1&e&&(la.Tb(0,"mat-header-cell",24),la.Xb(1,Ry),la.Sb())}function Zy(e,t){if(1&e&&(la.Tb(0,"mat-cell",24),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",n.receiverId," ")}}function Qy(e,t){1&e&&(la.Tb(0,"mat-header-cell",25),la.Xb(1,Ey),la.Sb())}function Jy(e,t){if(1&e&&(la.Tb(0,"mat-cell",25),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",n.receiverName," ")}}function Ky(e,t){1&e&&(la.Tb(0,"mat-header-cell",26),la.Xb(1,Ny),la.Sb())}function Wy(e,t){if(1&e&&(la.Tb(0,"mat-cell",26),la.Cc(1),la.ic(2,"date"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.jc(2,1,n.issuedAt)," ")}}function eC(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Tb(1,"span",25),la.Xb(2,Fy),la.Sb(),la.Tb(3,"span",27),la.Xb(4,Ly),la.Sb(),la.Sb())}function tC(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",n.billingPeriod," ")}}function nC(e,t){1&e&&(la.Tb(0,"mat-header-cell",25),la.Xb(1,Xy),la.Sb())}function cC(e,t){if(1&e&&(la.Tb(0,"mat-cell",25),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.netValue,"1.2-2")," ")}}function rC(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Tb(1,"span",25),la.Xb(2,qy),la.Sb(),la.Tb(3,"span",27),la.Xb(4,Hy),la.Sb(),la.Sb())}function aC(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.paymentAmount,"1.2-2")," ")}}function iC(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Xb(1,Uy),la.Sb())}Ry=$localize(Y()),Ey=$localize(G()),Ny=$localize(V()),Fy=$localize(U()),Ly=$localize(H()),Xy=$localize(q()),qy=$localize(X()),Hy=$localize(L()),Uy=$localize(F());var oC=function(e){return{"past-due":e}};function uC(e,t){if(1&e&&(la.Tb(0,"mat-cell",28),la.Tb(1,"span",25),la.Cc(2),la.ic(3,"date"),la.Sb(),la.Tb(4,"span",27),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Sb()),2&e){var n=t.$implicit,c=la.hc();la.nc("ngClass",la.pc(8,oC,c.isPastDue(n))),la.Cb(2),la.Dc(la.jc(3,3,n.dueDate)),la.Cb(3),la.Dc(la.kc(6,5,n.dueDate,"dd.MM.yy"))}}function lC(e,t){1&e&&la.Ob(0,"mat-header-row")}function sC(e,t){1&e&&la.Ob(0,"mat-row")}var bC,dC,fC=((bC=function(e){Jr(n,e);var t=Wr(n);function n(){var e;return na(this,n),(e=t.apply(this,arguments)).displayedColumns=["id","receiverId","receiverName","issuedAt","billingPeriod","netValue","paymentAmount","dueDate"],e}return ra(n,[{key:"ngOnChanges",value:function(){this.dataSource.data=this.objects}},{key:"isPastDue",value:function(e){return e.dueDate<new Date}}]),n}(Gb)).\u0275fac=function(e){return mC(e||bC)},bC.\u0275cmp=la.Hb({type:bC,selectors:[["jo-open-invoice-list"]],features:[la.zb,la.Ab],decls:31,vars:3,consts:[[3,"dataSource"],["matColumnDef","id"],["class","width--sm",4,"matHeaderCellDef"],["class","width--sm",4,"matCellDef"],["matColumnDef","receiverId"],["fxHide.lt-sm","","class","width--sm",4,"matHeaderCellDef"],["fxHide.lt-sm","","class","width--sm",4,"matCellDef"],["matColumnDef","receiverName"],["fxHide.lt-md","",4,"matHeaderCellDef"],["fxHide.lt-md","",4,"matCellDef"],["matColumnDef","issuedAt"],["fxHide.lt-sm","",4,"matHeaderCellDef"],["fxHide.lt-sm","",4,"matCellDef"],["matColumnDef","billingPeriod"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","netValue"],["matColumnDef","paymentAmount"],["matColumnDef","dueDate"],[3,"ngClass",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"width--sm"],["mat-button","",3,"routerLink"],["fxHide.lt-sm","",1,"width--sm"],["fxHide.lt-md",""],["fxHide.lt-sm",""],["fxHide.gt-sm",""],[3,"ngClass"]],template:function(e,t){1&e&&(la.Tb(0,"mat-card"),la.Tb(1,"mat-card-title"),la.Xb(2,My),la.Sb(),la.Tb(3,"mat-card-content"),la.Tb(4,"mat-table",0),la.Rb(5,1),la.Bc(6,By,2,0,"mat-header-cell",2),la.Bc(7,Gy,3,4,"mat-cell",3),la.Qb(),la.Rb(8,4),la.Bc(9,Yy,2,0,"mat-header-cell",5),la.Bc(10,Zy,2,1,"mat-cell",6),la.Qb(),la.Rb(11,7),la.Bc(12,Qy,2,0,"mat-header-cell",8),la.Bc(13,Jy,2,1,"mat-cell",9),la.Qb(),la.Rb(14,10),la.Bc(15,Ky,2,0,"mat-header-cell",11),la.Bc(16,Wy,3,3,"mat-cell",12),la.Qb(),la.Rb(17,13),la.Bc(18,eC,5,0,"mat-header-cell",14),la.Bc(19,tC,2,1,"mat-cell",15),la.Qb(),la.Rb(20,16),la.Bc(21,nC,2,0,"mat-header-cell",8),la.Bc(22,cC,3,4,"mat-cell",9),la.Qb(),la.Rb(23,17),la.Bc(24,rC,5,0,"mat-header-cell",14),la.Bc(25,aC,3,4,"mat-cell",15),la.Qb(),la.Rb(26,18),la.Bc(27,iC,2,0,"mat-header-cell",14),la.Bc(28,uC,7,10,"mat-cell",19),la.Qb(),la.Bc(29,lC,1,0,"mat-header-row",20),la.Bc(30,sC,1,0,"mat-row",21),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(4),la.nc("dataSource",t.dataSource),la.Cb(25),la.nc("matHeaderRowDef",t.displayedColumns),la.Cb(1),la.nc("matRowDefColumns",t.displayedColumns))},directives:[Ol.a,Ol.h,Ol.d,Vb.j,Vb.c,Vb.e,Vb.b,Vb.g,Vb.i,Vb.d,Vb.a,yl.a,ua.j,Sl.b,vl.k,Sl.a,Vb.f,Vb.h],pipes:[vl.e,vl.f],styles:["mat-cell[_ngcontent-%COMP%] > a.mat-button[_ngcontent-%COMP%]{min-width:4rem;padding:0 .5rem}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]{font-size:1.6rem}}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]:first-of-type, mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}}.width--sm[_ngcontent-%COMP%]{flex:1}.width--lg[_ngcontent-%COMP%]{flex:2}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{padding-left:.5rem}}.past-due[_ngcontent-%COMP%]{color:#c62828}"],changeDetection:0}),bC),mC=la.Vb(fC);function hC(e,t){if(1&e&&(la.Tb(0,"div",5),la.Cc(1),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Dc(n)}}function gC(e,t){if(1&e&&(la.Tb(0,"div",8),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Dc(la.kc(2,1,n,"1.0-0"))}}function pC(e,t){if(1&e&&(la.Tb(0,"div",6),la.Tb(1,"div",5),la.Cc(2),la.Sb(),la.Bc(3,gC,3,4,"div",7),la.Sb()),2&e){var n=t.$implicit,c=la.hc();la.Cb(2),la.Dc(n.year),la.Cb(1),la.nc("ngForOf",c.getMonths(n))}}dC=$localize(N());var vC,yC,CC,OC,jC=((yC=function(){function e(t){na(this,e),this.i18nUtility=t}return ra(e,[{key:"getHeaderLine",value:function(){return["Jahr"].concat(Yr(this.i18nUtility.generateAbbrevMonthNames()),["Summe"])}},{key:"getMonths",value:function(e){var t=e.revenuePerMonth;return t.push(e.revenuePerYear),t}}]),e}()).\u0275fac=function(e){return new(e||yC)(la.Nb(Gs))},yC.\u0275cmp=la.Hb({type:yC,selectors:[["jo-revenue-list"]],inputs:{revenues:"revenues"},decls:8,vars:2,consts:[[1,"jo-table--title"],[1,"table"],[1,"table-header"],["class","table-cell table-cell--header",4,"ngFor","ngForOf"],["class","table-line",4,"ngFor","ngForOf"],[1,"table-cell","table-cell--header"],[1,"table-line"],["class","table-cell",4,"ngFor","ngForOf"],[1,"table-cell"]],template:function(e,t){1&e&&(la.Tb(0,"mat-card"),la.Tb(1,"mat-card-title",0),la.Xb(2,dC),la.Sb(),la.Tb(3,"mat-card-content"),la.Tb(4,"div",1),la.Tb(5,"div",2),la.Bc(6,hC,2,1,"div",3),la.Sb(),la.Bc(7,pC,4,2,"div",4),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(6),la.nc("ngForOf",t.getHeaderLine()),la.Cb(1),la.nc("ngForOf",t.revenues))},directives:[Ol.a,Ol.h,Ol.d,vl.l],pipes:[vl.f],styles:[".jo-table--title[_ngcontent-%COMP%]{margin-bottom:1rem}.table[_ngcontent-%COMP%]{display:grid;font-size:1.2rem}@media only screen and (max-width:1059px){.table[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,calc(100% / 4));font-size:1.4rem}}.table-header[_ngcontent-%COMP%], .table-line[_ngcontent-%COMP%]{display:grid}.table-header[_ngcontent-%COMP%]:first-of-type, .table-line[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #bfbfbf}@media only screen and (max-width:1059px){.table-header[_ngcontent-%COMP%], .table-line[_ngcontent-%COMP%]{border-bottom:1px solid #bfbfbf}}@media only screen and (min-width:1060px){.table-header[_ngcontent-%COMP%], .table-line[_ngcontent-%COMP%]{border-left:1px solid #bfbfbf;grid-template-columns:repeat(14,calc(100% / 14))}}@media only screen and (min-width:1060px){div.table-line[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid #bfbfbf}}.table-cell[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #bfbfbf;border-right:.5px solid #bfbfbf;text-align:right}.table-cell--header[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:lighter;opacity:.7}"],changeDetection:0}),yC),SC=((vC=function(){function e(t){na(this,e),this.revenuesBusinessService=t}return ra(e,[{key:"ngOnInit",value:function(){this.revenues$=this.revenuesBusinessService.calculateTotalRevenues(),this.openInvoices$=this.revenuesBusinessService.selectOpenInvoices()}}]),e}()).\u0275fac=function(e){return new(e||vC)(la.Nb(ml))},vC.\u0275cmp=la.Hb({type:vC,selectors:[["jo-overview"]],decls:5,vars:6,consts:[[1,"window","mat-elevation-z4"],[3,"objects"],[3,"revenues"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Ob(1,"jo-open-invoice-list",1),la.ic(2,"async"),la.Ob(3,"jo-revenue-list",2),la.ic(4,"async"),la.Sb()),2&e&&(la.Cb(1),la.nc("objects",la.jc(2,2,t.openInvoices$)),la.Cb(2),la.nc("revenues",la.jc(4,4,t.revenues$)))},directives:[fC,jC],pipes:[vl.b],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}"],changeDetection:0}),vC);CC=$localize(E()),OC=$localize(R());var TC,wC,kC,DC,IC,PC,$C=function(){return["/invoicing/settings/countries"]},xC=function(){return["/invoicing/settings/vats"]},_C=((TC=function(){function e(t){na(this,e),this.service=t}return ra(e,[{key:"ngOnInit",value:function(){this.settings$=this.service.getSettings()}}]),e}()).\u0275fac=function(e){return new(e||TC)(la.Nb(el))},TC.\u0275cmp=la.Hb({type:TC,selectors:[["jo-settings"]],decls:7,vars:4,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center, center",1,"window"],["mat-button","",1,"width--lg",3,"routerLink"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"a",1),la.Tb(2,"span"),la.Xb(3,CC),la.Sb(),la.Sb(),la.Tb(4,"a",1),la.Tb(5,"span"),la.Xb(6,OC),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.Cb(1),la.nc("routerLink",la.oc(2,$C)),la.Cb(3),la.nc("routerLink",la.oc(3,xC)))},directives:[ub.a,ub.c,ub.b,yl.a,ua.j],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}.width--md[_ngcontent-%COMP%]{width:12rem}"],changeDetection:0}),TC),MC=Kr("LvDl");function zC(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,kC),la.Sb())}function AC(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,DC),la.Sb())}function BC(e,t){1&e&&(la.Tb(0,"span"),la.Xb(1,IC),la.Sb())}function RC(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,PC),la.Sb(),la.Sb())}wC=$localize(B()),kC=$localize(A()),DC=$localize(z()),IC=$localize(M()),PC=$localize(_());var EC,NC,FC,LC=["placeholder",$localize(x())],XC=["placeholder",$localize($())];function qC(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,EC),la.Sb(),la.Sb())}function HC(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,NC),la.Sb(),la.Sb())}function UC(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,FC),la.Sb(),la.Sb())}EC=$localize(P()),NC=$localize(I()),FC=$localize(D());var VC,GC,YC,ZC=function(e,t){return{"jo-flex-row":e,"jo-flex-col":t}};function QC(e,t){if(1&e&&(la.Tb(0,"div",10),la.Tb(1,"div",11),la.Ob(2,"input",12),la.Tb(3,"div",13),la.Tb(4,"mat-form-field"),la.Tb(5,"input",14),la.Yb(6,LC),la.Sb(),la.Bc(7,qC,3,0,"mat-error",2),la.Bc(8,HC,3,0,"mat-error",2),la.Sb(),la.Tb(9,"mat-form-field"),la.Tb(10,"input",15),la.Yb(11,XC),la.Sb(),la.Bc(12,UC,3,0,"mat-error",2),la.Sb(),la.Sb(),la.Sb(),la.Sb()),2&e){var n=t.$implicit,c=t.index,r=la.hc();la.Cb(1),la.nc("formGroupName",c),la.Cb(2),la.nc("ngClass",la.qc(5,ZC,"translate"!==r.data.task,"translate"===r.data.task)),la.Cb(4),la.nc("ngIf",n.get("language").hasError("required")),la.Cb(1),la.nc("ngIf",n.get("language").hasError("translationExists")),la.Cb(4),la.nc("ngIf",n.get("name").hasError("required"))}}function JC(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",16),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,VC),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}function KC(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",17),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,GC),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}function WC(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",18),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,YC),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}VC=$localize(k()),GC=$localize(w()),YC=$localize(T());var eO,tO,nO,cO,rO,aO,iO=((eO=function(){function e(t,n,c){na(this,e),this.data=t,this.fb=n,this.dialogRef=c}return ra(e,[{key:"ngOnInit",value:function(){this.form||(this.form=this.buildForm()),this.patchForm()}},{key:"onSave",value:function(e){var t=this.changeObject(e.value);this.data.country=t,this.dialogRef.close(this.data)}},{key:"addLanguage",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[Hs.w.required];return e||t.push(this.validateLanguageNotYetExists.bind(this)),this.fb.group({langCode:[""],language:[{value:"",disabled:e},t],name:["",[Hs.w.required]]})}},{key:"addLanguages",value:function(){var e=this,t=[];return this.data.task===Ti.COUNTRY_TASK_EDIT?Object.keys(this.data.country.names).forEach((function(){return t.push(e.addLanguage())})):this.data.task===Ti.COUNTRY_TASK_NEW_COUNTRY?this.data.supportedLanguages.forEach((function(){return t.push(e.addLanguage())})):t.push(this.addLanguage(!1)),t}},{key:"buildForm",value:function(){return this.fb.group({isoCode:[{value:"",disabled:this.data.task!==Ti.COUNTRY_TASK_NEW_COUNTRY}],translations:new Hs.d(this.addLanguages())})}},{key:"changeObject",value:function(e){var t=Object.assign({},this.data.country);return e.isoCode&&e.isoCode.length>=2&&(t.isoCode=e.isoCode),e.translations.forEach((function(e){e.language&&e.language.length>=2&&e.name&&e.name.length>0?t.names[e.language]=e.name:e.langCode&&e.langCode.length>=2&&e.name&&e.name.length>0&&(t.names[e.langCode]=e.name)})),t}},{key:"logForm",value:function(){console.log("FORM: ",this.form)}},{key:"patchForm",value:function(){var e,t=this;e=Object.assign({},{isoCode:this.data.country.isoCode,translations:[]}),this.data.task!==Ti.COUNTRY_TASK_NEW_TRANSLATION?Object.keys(this.data.country.names).forEach((function(n){return e.translations.push({langCode:n,language:n,name:t.data.country.names[n]})})):e.translations.push({langCode:this.data.language,language:this.data.language,name:this.data.translation}),this.form.patchValue(e)}},{key:"validateLanguageNotYetExists",value:function(e){return this.data.country.names[e.value]?{translationExists:!0}:null}},{key:"translations",get:function(){return this.form.get("translations").controls}}]),e}()).\u0275fac=function(e){return new(e||eO)(la.Nb(ob.a),la.Nb(Hs.f),la.Nb(ob.g))},eO.\u0275cmp=la.Hb({type:eO,selectors:[["jo-country-details-dialog"]],decls:17,vars:9,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","country-details-form",3,"formGroup"],["mat-dialog-title",""],[4,"ngIf"],["fxLayout","column"],["matInput","","id","isoCode","placeholder","Land","formControlName","isoCode"],["formArrayName","translations","fxLayout","column","fxLayoutGap","1rem",4,"ngFor","ngForOf"],["id","btn_save","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_create","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_addTranslation","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_cancel","mat-button","","mat-dialog-close",""],["formArrayName","translations","fxLayout","column","fxLayoutGap","1rem"],[3,"formGroupName"],["matInput","","formControlName","langCode","hidden",""],[3,"ngClass"],["matInput","","formControlName","language",1,"width--sm",6,"placeholder"],["matInput","","formControlName","name",1,"width--lg",6,"placeholder"],["id","btn_save","mat-button","",3,"disabled","click"],["id","btn_create","mat-button","",3,"disabled","click"],["id","btn_addTranslation","mat-button","",3,"disabled","click"]],template:function(e,t){1&e&&(la.Tb(0,"form",0),la.Tb(1,"h1",1),la.Bc(2,zC,2,0,"span",2),la.Bc(3,AC,2,0,"span",2),la.Bc(4,BC,2,0,"span",2),la.Sb(),la.Tb(5,"mat-dialog-content",3),la.Tb(6,"mat-form-field"),la.Ob(7,"input",4),la.Bc(8,RC,3,0,"mat-error",2),la.Sb(),la.Bc(9,QC,13,8,"div",5),la.Sb(),la.Tb(10,"mat-dialog-actions"),la.Bc(11,JC,3,1,"button",6),la.Bc(12,KC,3,1,"button",7),la.Bc(13,WC,3,1,"button",8),la.Tb(14,"button",9),la.Tb(15,"span"),la.Xb(16,wC),la.Sb(),la.Sb(),la.Sb(),la.Sb()),2&e&&(la.nc("formGroup",t.form),la.Cb(2),la.nc("ngIf","edit"===t.data.task),la.Cb(1),la.nc("ngIf","new"===t.data.task),la.Cb(1),la.nc("ngIf","translate"===t.data.task),la.Cb(4),la.nc("ngIf",t.form.get("isoCode").hasError("required")),la.Cb(1),la.nc("ngForOf",t.translations),la.Cb(2),la.nc("ngIf","edit"===t.data.task),la.Cb(1),la.nc("ngIf","new"===t.data.task),la.Cb(1),la.nc("ngIf","translate"===t.data.task))},directives:[Hs.x,Hs.q,Hs.j,ob.h,vl.m,ob.e,ub.c,eb.c,tb.b,Hs.c,Hs.p,Hs.h,vl.l,ob.c,yl.b,ob.d,eb.b,Hs.e,ub.d,Hs.k,vl.k,Sl.a],styles:["form[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.6rem}h1[_ngcontent-%COMP%]{font-size:1.8rem}.width--xs[_ngcontent-%COMP%]{width:4rem}.width--sm[_ngcontent-%COMP%]{width:8rem}.width--md[_ngcontent-%COMP%]{width:12rem}.width--lg[_ngcontent-%COMP%]{width:28rem}.width--xl[_ngcontent-%COMP%]{width:36rem}mat-dialog-content[_ngcontent-%COMP%]{overflow:visible}.jo-flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.jo-flex-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem}@media only screen and (max-width:959px){.jo-flex-row[_ngcontent-%COMP%]{flex-direction:column}}@media only screen and (max-width:959px){.mat-button[_ngcontent-%COMP%]{padding:0}}.jo-flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.jo-flex-col[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:1rem}"],changeDetection:0}),eO);function oO(e,t){1&e&&(la.Tb(0,"mat-header-cell",18),la.Tb(1,"span"),la.Xb(2,cO),la.Sb(),la.Sb())}function uO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell",19),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onSelect(e)})),la.Cc(1),la.Sb()}if(2&e){var c=t.$implicit;la.Cb(1),la.Ec(" ",c.isoCode," ")}}function lO(e,t){if(1&e&&(la.Tb(0,"mat-header-cell",23),la.Tb(1,"span"),la.Xb(2,rO),la.Sb(),la.Cc(3),la.Sb()),2&e){var n=la.hc(),c=n.$implicit;la.nc("fxHide.lt-md",n.index>0),la.Cb(3),la.Ec("(",c,") ")}}function sO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell",24),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc(2).onSelect(e)})),la.Cc(1),la.Sb()}if(2&e){var c=t.$implicit,r=la.hc(),a=r.$implicit;la.nc("fxHide.lt-md",r.index>0),la.Cb(1),la.Ec(" ",c.names[a]," ")}}function bO(e,t){if(1&e&&(la.Rb(0),la.Rb(1,20),la.Bc(2,lO,4,2,"mat-header-cell",21),la.Bc(3,sO,2,2,"mat-cell",22),la.Qb(),la.Qb()),2&e){var n=t.$implicit;la.Cb(1),la.nc("matColumnDef","name_"+n)}}function dO(e,t){1&e&&(la.Tb(0,"mat-header-cell",25),la.Tb(1,"span"),la.Xb(2,aO),la.Sb(),la.Sb())}function fO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell",26),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onSelect(e)})),la.Cc(1),la.Sb()}if(2&e){var c=t.$implicit,r=la.hc();la.Cb(1),la.Ec(" ",r.getNamesCount(c)," ")}}function mO(e,t){1&e&&la.Ob(0,"mat-header-cell",27)}function hO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell",27),la.Tb(1,"button",28),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onAddTranslation(e)})),la.Tb(2,"mat-icon",29),la.Cc(3,"playlist_add"),la.Sb(),la.Sb(),la.Sb()}}function gO(e,t){1&e&&la.Ob(0,"mat-header-cell",27)}function pO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",31),la.dc("click",(function(){la.tc(n);var e=la.hc().$implicit;return la.hc().onDelete(e)})),la.Tb(1,"mat-icon",32),la.Cc(2,"delete"),la.Sb(),la.Sb()}}function vO(e,t){if(1&e&&(la.Tb(0,"mat-cell",27),la.Bc(1,pO,3,0,"button",30),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.nc("ngIf","DE"!==n.isoCode)}}function yO(e,t){1&e&&la.Ob(0,"mat-header-row")}function CO(e,t){1&e&&la.Ob(0,"mat-row")}tO=$localize(S()),nO=$localize(j()),cO=$localize(O()),rO=$localize(C()),aO=$localize(y());var OO,jO,SO=function(){return["/invoicing/settings"]},TO=((OO=function(){function e(t,n){na(this,e),this.service=t,this.dialog=n,this.displayedColumns=["isoCode","more","task","delete"],this.dataSource=new Vb.k,this.selected=null}return ra(e,[{key:"ngOnInit",value:function(){var e=this;this.supportedLanguages=this.service.getSupportedLanguages(),this.supportedLanguages.forEach((function(t,n){return e.displayedColumns.splice(n+1,0,"name_"+t)})),this.subscription=this.service.getCountrySettings().subscribe((function(t){e.countrySettings=MC.cloneDeep(t),e.countrySettings.values.sort((function(e,t){return e.isoCode.localeCompare(t.isoCode)})),e.dataSource.data=e.countrySettings.values}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"getNamesCount",value:function(e){return Object.keys(e.names).length-this.supportedLanguages.length}},{key:"onAddTranslation",value:function(e){this.selected=e;var t=Object.assign({},e);this.openDetailsDialog(Ti.COUNTRY_TASK_NEW_TRANSLATION,t)}},{key:"onDelete",value:function(e){this.selected=null,this.countrySettings.values=Yr(this.countrySettings.values.filter((function(t){return!MC.isEqual(t,e)}))),this.service.update(this.countrySettings)}},{key:"onNew",value:function(e){this.selected=null;var t={names:{}};this.supportedLanguages.forEach((function(e){return t.names[e]=null})),this.openDetailsDialog(Ti.COUNTRY_TASK_NEW_COUNTRY,t),e&&e.stopPropagation()}},{key:"onSelect",value:function(e){this.selected=e;var t=Object.assign({},e);this.openDetailsDialog(Ti.COUNTRY_TASK_EDIT,t)}},{key:"openDetailsDialog",value:function(e,t){var n=this,c=this.calculateDialogDimensions(e,t),r={supportedLanguages:this.supportedLanguages,task:e,country:t};return e!==Ti.COUNTRY_TASK_NEW_TRANSLATION&&(r.language=null,r.translation=null),this.detailsDialogRef=this.dialog.open(iO,Object.assign(Object.assign({},c),{data:r})),this.detailsDialogRef.afterClosed().subscribe((function(e){e&&n.updateCountry(e)})),this.detailsDialogRef}},{key:"calculateDialogDimensions",value:function(e,t){return{height:25+6*(("translate"!==e?Object.keys(t.names).length||0:3)+1)+"rem",width:"48rem"}}},{key:"updateCountry",value:function(e){switch(e.task){case Ti.COUNTRY_TASK_EDIT:case Ti.COUNTRY_TASK_NEW_TRANSLATION:this.service.update(this.countrySettings);break;case Ti.COUNTRY_TASK_NEW_COUNTRY:this.countrySettings.values.some((function(t){return t.isoCode===e.country.isoCode}))?this.service.throwError({message:"Das Land ".concat(e.country.isoCode," existiert bereits.")}):(this.countrySettings.values.push(e.country),this.service.update(this.countrySettings))}}}]),e}()).\u0275fac=function(e){return new(e||OO)(la.Nb(el),la.Nb(ob.b))},OO.\u0275cmp=la.Hb({type:OO,selectors:[["jo-country-list"]],decls:24,vars:6,consts:[[1,"window","mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between",1,"u-mb-md"],["id","btn_new","mat-raised-button","","color","primary",3,"click"],["id","btn_back","mat-raised-button","",3,"routerLink"],[3,"dataSource"],["matColumnDef","isoCode"],["class","width--md",4,"matHeaderCellDef"],["class","width--sm",3,"click",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","more"],["class","width--xs","fxHide.lt-md","",4,"matHeaderCellDef"],["class","width--xs","fxHide.lt-md","",3,"click",4,"matCellDef"],["matColumnDef","task"],["class","width--xs",4,"matHeaderCellDef"],["class","width--xs",4,"matCellDef"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"width--md"],[1,"width--sm",3,"click"],[3,"matColumnDef"],["class","width--lg",3,"fxHide.lt-md",4,"matHeaderCellDef"],["class","width--lg",3,"fxHide.lt-md","click",4,"matCellDef"],[1,"width--lg",3,"fxHide.lt-md"],[1,"width--lg",3,"fxHide.lt-md","click"],["fxHide.lt-md","",1,"width--xs"],["fxHide.lt-md","",1,"width--xs",3,"click"],[1,"width--xs"],["mat-icon-button","",3,"click"],["aria-label","\xdcbersetzung hinzuf\xfcgen"],["mat-icon-button","","mat-button","",3,"click",4,"ngIf"],["mat-icon-button","","mat-button","",3,"click"],["color","warn","aria-label","L\xf6schen"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"div",1),la.Tb(2,"button",2),la.dc("click",(function(e){return t.onNew(e)})),la.Tb(3,"span"),la.Xb(4,tO),la.Sb(),la.Sb(),la.Tb(5,"a",3),la.Tb(6,"span"),la.Xb(7,nO),la.Sb(),la.Sb(),la.Sb(),la.Tb(8,"mat-table",4),la.Rb(9,5),la.Bc(10,oO,3,0,"mat-header-cell",6),la.Bc(11,uO,2,1,"mat-cell",7),la.Qb(),la.Bc(12,bO,4,1,"ng-container",8),la.Rb(13,9),la.Bc(14,dO,3,0,"mat-header-cell",10),la.Bc(15,fO,2,1,"mat-cell",11),la.Qb(),la.Rb(16,12),la.Bc(17,mO,1,0,"mat-header-cell",13),la.Bc(18,hO,4,0,"mat-cell",14),la.Qb(),la.Rb(19,15),la.Bc(20,gO,1,0,"mat-header-cell",13),la.Bc(21,vO,2,1,"mat-cell",14),la.Qb(),la.Bc(22,yO,1,0,"mat-header-row",16),la.Bc(23,CO,1,0,"mat-row",17),la.Sb(),la.Sb()),2&e&&(la.Cb(5),la.nc("routerLink",la.oc(5,SO)),la.Cb(3),la.nc("dataSource",t.dataSource),la.Cb(4),la.nc("ngForOf",t.supportedLanguages),la.Cb(10),la.nc("matHeaderRowDef",t.displayedColumns),la.Cb(1),la.nc("matRowDefColumns",t.displayedColumns))},directives:[ub.c,ub.b,yl.b,yl.a,ua.j,Vb.j,Vb.c,Vb.e,Vb.b,vl.l,Vb.g,Vb.i,Vb.d,Vb.a,Sl.b,rb.a,vl.m,Vb.f,Vb.h],styles:[".table-header[_ngcontent-%COMP%]{margin-top:3.6rem;display:flex}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-right:0;padding:.8rem 1.2rem}.table-row[_ngcontent-%COMP%]{display:flex}.table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{padding:.8rem 1.2rem}.table-row[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#d3d3d3}.window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}.width--xs[_ngcontent-%COMP%]{width:4rem}.width--sm[_ngcontent-%COMP%]{width:8rem}.width--md[_ngcontent-%COMP%]{width:12rem}.width--lg[_ngcontent-%COMP%]{width:28rem;flex:3}@media only screen and (max-width:959px){.width--lg[_ngcontent-%COMP%]{padding-left:.5rem}}.width--xl[_ngcontent-%COMP%]{width:36rem}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]{font-size:1.6rem}}"],changeDetection:0}),OO);jO=$localize(v());var wO,kO,DO,IO,PO,$O,xO,_O,MO,zO=["placeholder",$localize(p())],AO=["placeholder",$localize(g())],BO=["placeholder",$localize(h())],RO=["placeholder",$localize(m())];function EO(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,kO),la.Sb(),la.Sb())}function NO(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,DO),la.Sb(),la.Sb())}function FO(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,IO),la.Sb(),la.Sb())}function LO(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,PO),la.Sb(),la.Sb())}function XO(e,t){1&e&&(la.Tb(0,"mat-error"),la.Tb(1,"span"),la.Xb(2,$O),la.Sb(),la.Sb())}function qO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",15),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,xO),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}function HO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",16),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,_O),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}function UO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"button",17),la.dc("click",(function(){la.tc(n);var e=la.hc();return e.onSave(e.form)})),la.Tb(1,"span"),la.Xb(2,MO),la.Sb(),la.Sb()}if(2&e){var c=la.hc();la.nc("disabled",!c.form.valid)}}wO=$localize(f()),kO=$localize(d()),DO=$localize(b()),IO=$localize(s()),PO=$localize(l()),$O=$localize(u()),xO=$localize(o()),_O=$localize(i()),MO=$localize(a());var VO,GO,YO,ZO,QO,JO=((VO=function(){function e(t,n,c,r){na(this,e),this.data=t,this.fb=n,this.dialogRef=c,this.utility=r}return ra(e,[{key:"ngOnInit",value:function(){this.form||(this.form=this.buildForm()),this.patchForm()}},{key:"onSave",value:function(e){var t=this.changeObject(e.value);this.data.vat=t,this.dialogRef.close(this.data)}},{key:"buildForm",value:function(){return this.fb.group({taxCode:[{value:"",disabled:this.data.task!==Ti.VAT_TASK_NEW_TAXCODE}],validFrom:[{value:"",disabled:!1},[Hs.w.required]],validTo:[{value:"",disabled:!1},[Hs.w.required]],percentage:["",[Hs.w.required,Hs.w.pattern(Us.a)]]})}},{key:"changeObject",value:function(e){var t=e.vat,n={taxCode:e.taxCode||this.data.vat.taxCode,validFrom:Vs(e.validFrom).toDate(),validTo:Vs(e.validTo).toDate(),percentage:this.utility.fromLocalPercent(e.percentage)};return Object.assign({},Object.assign({},this.data.vat),Object.assign({},t),Object.assign({},n))}},{key:"patchForm",value:function(){var e={percentage:this.utility.toLocalPercent(this.data.vat.percentage)},t=Object.assign({},Object.assign({},this.data.vat),Object.assign({},e));this.form.patchValue(t)}}]),e}()).\u0275fac=function(e){return new(e||VO)(la.Nb(ob.a),la.Nb(Hs.f),la.Nb(ob.g),la.Nb(Gs))},VO.\u0275cmp=la.Hb({type:VO,selectors:[["jo-vat-details-dialog"]],decls:34,vars:13,consts:[["autocomplete","off","novalidate","","spellcheck","false","id","vat-details-form",3,"formGroup"],["mat-dialog-title",""],["fxLayout","column"],["matInput","","id","taxCode","formControlName","taxCode",6,"placeholder"],[4,"ngIf"],["matInput","","formControlName","validFrom",3,"matDatepicker",6,"placeholder"],["matSuffix","",3,"for"],["fromPicker",""],["matInput","","formControlName","validTo",3,"matDatepicker",6,"placeholder"],["toPicker",""],["matInput","","id","percentage","formControlName","percentage",6,"placeholder"],["id","btn_save","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_create","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_addPeriod","mat-button","",3,"disabled","click",4,"ngIf"],["id","btn_cancel","mat-button","","mat-dialog-close",""],["id","btn_save","mat-button","",3,"disabled","click"],["id","btn_create","mat-button","",3,"disabled","click"],["id","btn_addPeriod","mat-button","",3,"disabled","click"]],template:function(e,t){if(1&e&&(la.Tb(0,"form",0),la.Tb(1,"h1",1),la.Xb(2,jO),la.Sb(),la.Tb(3,"mat-dialog-content",2),la.Tb(4,"mat-form-field"),la.Tb(5,"input",3),la.Yb(6,zO),la.Sb(),la.Bc(7,EO,3,0,"mat-error",4),la.Sb(),la.Tb(8,"mat-form-field"),la.Tb(9,"input",5),la.Yb(10,AO),la.Sb(),la.Ob(11,"mat-datepicker-toggle",6),la.Ob(12,"mat-datepicker",null,7),la.Bc(14,NO,3,0,"mat-error",4),la.Sb(),la.Tb(15,"mat-form-field"),la.Tb(16,"input",8),la.Yb(17,BO),la.Sb(),la.Ob(18,"mat-datepicker-toggle",6),la.Ob(19,"mat-datepicker",null,9),la.Bc(21,FO,3,0,"mat-error",4),la.Sb(),la.Tb(22,"mat-form-field"),la.Tb(23,"input",10),la.Yb(24,RO),la.Sb(),la.Bc(25,LO,3,0,"mat-error",4),la.Bc(26,XO,3,0,"mat-error",4),la.Sb(),la.Sb(),la.Tb(27,"mat-dialog-actions"),la.Bc(28,qO,3,1,"button",11),la.Bc(29,HO,3,1,"button",12),la.Bc(30,UO,3,1,"button",13),la.Tb(31,"button",14),la.Tb(32,"span"),la.Xb(33,wO),la.Sb(),la.Sb(),la.Sb(),la.Sb()),2&e){var n=la.sc(13),c=la.sc(20);la.nc("formGroup",t.form),la.Cb(7),la.nc("ngIf",t.form.get("taxCode").hasError("required")),la.Cb(2),la.nc("matDatepicker",n),la.Cb(2),la.nc("for",n),la.Cb(3),la.nc("ngIf",t.form.get("validFrom").hasError("required")),la.Cb(2),la.nc("matDatepicker",c),la.Cb(2),la.nc("for",c),la.Cb(3),la.nc("ngIf",t.form.get("validTo").hasError("required")),la.Cb(4),la.nc("ngIf",t.form.get("percentage").hasError("required")),la.Cb(1),la.nc("ngIf",t.form.get("percentage").hasError("pattern")),la.Cb(2),la.nc("ngIf","edit"===t.data.task),la.Cb(1),la.nc("ngIf","new"===t.data.task),la.Cb(1),la.nc("ngIf","period"===t.data.task)}},directives:[Hs.x,Hs.q,Hs.j,ob.h,ob.e,ub.c,eb.c,tb.b,Hs.c,Hs.p,Hs.h,vl.m,pm.b,pm.d,eb.h,pm.a,ob.c,yl.b,ob.d,eb.b],styles:["form[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.6rem}h1[_ngcontent-%COMP%]{font-size:1.8rem}.width--xs[_ngcontent-%COMP%]{width:4rem}.width--sm[_ngcontent-%COMP%]{width:8rem}.width--md[_ngcontent-%COMP%]{width:12rem}.width--lg[_ngcontent-%COMP%]{width:28rem}.width--xl[_ngcontent-%COMP%]{width:36rem}mat-dialog-content[_ngcontent-%COMP%]{overflow:visible}.jo-flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.jo-flex-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem}@media only screen and (max-width:959px){.jo-flex-row[_ngcontent-%COMP%]{flex-direction:column}}@media only screen and (max-width:959px){.mat-button[_ngcontent-%COMP%]{padding:0}}"],changeDetection:0}),VO);function KO(e,t){1&e&&(la.Tb(0,"mat-header-cell",19),la.Xb(1,GO),la.Sb())}function WO(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell",19),la.Tb(1,"a",20),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onSelect(e)})),la.Cc(2),la.Sb(),la.Sb()}if(2&e){var c=t.$implicit;la.Cb(2),la.Dc(c.taxCode)}}function ej(e,t){1&e&&(la.Tb(0,"mat-header-cell",21),la.Xb(1,YO),la.Sb())}function tj(e,t){if(1&e&&(la.Tb(0,"mat-cell",21),la.Cc(1),la.ic(2,"date"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.jc(2,1,n.validFrom)," ")}}function nj(e,t){1&e&&(la.Tb(0,"mat-header-cell",19),la.Xb(1,ZO),la.Sb())}function cj(e,t){if(1&e&&(la.Tb(0,"mat-cell",19),la.Tb(1,"span",22),la.Cc(2),la.ic(3,"date"),la.Sb(),la.Tb(4,"span",23),la.Cc(5),la.ic(6,"date"),la.Sb(),la.Sb()),2&e){var n=t.$implicit;la.Cb(2),la.Dc(la.jc(3,2,n.validTo)),la.Cb(3),la.Dc(la.kc(6,4,n.validTo,"dd.MM.yy"))}}function rj(e,t){1&e&&(la.Tb(0,"mat-header-cell"),la.Xb(1,QO),la.Sb())}function aj(e,t){if(1&e&&(la.Tb(0,"mat-cell"),la.Cc(1),la.ic(2,"number"),la.Sb()),2&e){var n=t.$implicit;la.Cb(1),la.Ec(" ",la.kc(2,1,n.percentage,"1.1-2")," ")}}function ij(e,t){1&e&&la.Ob(0,"mat-header-cell")}function oj(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell"),la.Tb(1,"button",24),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onAddPeriod(e)})),la.Tb(2,"mat-icon",25),la.Cc(3,"playlist_add"),la.Sb(),la.Sb(),la.Sb()}}function uj(e,t){1&e&&la.Ob(0,"mat-header-cell")}function lj(e,t){if(1&e){var n=la.Ub();la.Tb(0,"mat-cell"),la.Tb(1,"button",24),la.dc("click",(function(){la.tc(n);var e=t.$implicit;return la.hc().onDelete(e)})),la.Tb(2,"mat-icon",26),la.Cc(3,"delete"),la.Sb(),la.Sb(),la.Sb()}}function sj(e,t){1&e&&la.Ob(0,"mat-header-row")}function bj(e,t){1&e&&la.Ob(0,"mat-row")}GO=$localize(r()),YO=$localize(c()),ZO=$localize(n()),QO=$localize(t());var dj,fj,mj,hj,gj,pj,vj,yj,Cj,Oj,jj,Sj,Tj,wj,kj,Dj,Ij,Pj=function(){return["/invoicing/settings"]},$j=((Sj=function(){function e(t,n){na(this,e),this.service=t,this.dialog=n,this.displayedColumns=["taxCode","validFrom","validTo","percentage","task","delete"],this.dataSource=new Vb.k,this.selectedVat=null}return ra(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.getVatSettings().subscribe((function(t){e.vatSettings=MC.cloneDeep(t),e.vatSettings.values.sort((function(t,n){return e.sortByTaxCodeAndValidTo(t,n)})),e.dataSource.data=e.vatSettings.values}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onAddPeriod",value:function(e){this.selectedVat=e;var t=Object.assign({},e,{validFrom:Qs.DateTime.utc().startOf("day").toJSDate(),validTo:Qs.DateTime.utc(9999,12,31).endOf("day").toJSDate()});this.openDetailsDialog(Ti.VAT_TASK_NEW_PERIOD,t)}},{key:"onDelete",value:function(e){this.selectedVat=null,this.vatSettings.values=Yr(this.vatSettings.values.filter((function(t){return!MC.isEqual(t,e)}))),this.service.update(this.vatSettings)}},{key:"onNew",value:function(){this.selectedVat=null;var e=Object.assign({},{validFrom:Qs.DateTime.utc().startOf("day").toJSDate(),validTo:Qs.DateTime.utc(9999,12,31).endOf("day").toJSDate()});this.openDetailsDialog(Ti.VAT_TASK_NEW_TAXCODE,e)}},{key:"onSelect",value:function(e){this.selectedVat=e;var t=Object.assign({},e);this.openDetailsDialog(Ti.VAT_TASK_EDIT,t)}},{key:"openDetailsDialog",value:function(e,t){var n=this,c=this.calculateDialogDimensions(e,t);return this.detailsDialogRef=this.dialog.open(JO,Object.assign(Object.assign({},c),{data:{task:e,vat:t}})),this.detailsDialogRef.afterClosed().subscribe((function(e){e?n.updateVat(e):n.selectedVat=null})),this.detailsDialogRef}},{key:"calculateDialogDimensions",value:function(e,t){return{height:"90%",width:"66%",minHeight:"45rem",minWidth:"36rem",maxHeight:"50rem",maxWidth:"48rem"}}},{key:"createTaxCode",value:function(e){this.vatSettings.values.find((function(t){return t.taxCode===e.vat.taxCode}))?this.service.throwError({message:"Der Steuercode ".concat(e.vat.taxCode," existiert bereits.")}):(this.vatSettings.values.push(e.vat),this.service.update(this.vatSettings))}},{key:"createValidityPeriod",value:function(e){this.selectedVat.validTo=Qs.DateTime.fromJSDate(e.vat.validFrom).minus({days:1}).toJSDate(),this.vatSettings.values.push(e.vat),this.service.update(this.vatSettings)}},{key:"sortByTaxCodeAndValidTo",value:function(e,t){var n=e.taxCode.localeCompare(t.taxCode);return 0===n?t.validTo.getTime()-e.validTo.getTime():n}},{key:"updateTaxPercentage",value:function(e){this.selectedVat.validFrom=e.vat.validFrom,this.selectedVat.validTo=e.vat.validTo,this.selectedVat.percentage=e.vat.percentage,this.service.update(this.vatSettings)}},{key:"updateVat",value:function(e){switch(e.task){case Ti.VAT_TASK_EDIT:this.updateTaxPercentage(e);break;case Ti.VAT_TASK_NEW_TAXCODE:this.createTaxCode(e);break;case Ti.VAT_TASK_NEW_PERIOD:this.createValidityPeriod(e)}}}]),e}()).\u0275fac=function(e){return new(e||Sj)(la.Nb(el),la.Nb(ob.b))},Sj.\u0275cmp=la.Hb({type:Sj,selectors:[["jo-vat-list"]],decls:27,vars:5,consts:[[1,"window","mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between",1,"u-mb-md"],["id","btn_new","mat-raised-button","","color","primary",3,"click"],["id","btn_back","mat-raised-button","",3,"routerLink"],[3,"dataSource"],["matColumnDef","taxCode"],["class","width--md",4,"matHeaderCellDef"],["class","width--md",4,"matCellDef"],["matColumnDef","validFrom"],["class","width--md","fxHide.lt-md","",4,"matHeaderCellDef"],["class","width--md","fxHide.lt-md","",4,"matCellDef"],["matColumnDef","validTo"],["matColumnDef","percentage"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","task"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"width--md"],[3,"click"],["fxHide.lt-md","",1,"width--md"],["fxHide.lt-md",""],["fxHide.gt-sm",""],["mat-icon-button","",3,"click"],["aria-label","Steuersatz hinzuf\xfcgen"],["color","warn","aria-label","L\xf6schen"]],template:function(e,t){1&e&&(la.Tb(0,"div",0),la.Tb(1,"div",1),la.Tb(2,"button",2),la.dc("click",(function(){return t.onNew()})),la.Cc(3,"Steuersatz hinzuf\xfcgen"),la.Sb(),la.Tb(4,"a",3),la.Cc(5,"Zur\xfcck"),la.Sb(),la.Sb(),la.Tb(6,"mat-table",4),la.Rb(7,5),la.Bc(8,KO,2,0,"mat-header-cell",6),la.Bc(9,WO,3,1,"mat-cell",7),la.Qb(),la.Rb(10,8),la.Bc(11,ej,2,0,"mat-header-cell",9),la.Bc(12,tj,3,3,"mat-cell",10),la.Qb(),la.Rb(13,11),la.Bc(14,nj,2,0,"mat-header-cell",6),la.Bc(15,cj,7,7,"mat-cell",7),la.Qb(),la.Rb(16,12),la.Bc(17,rj,2,0,"mat-header-cell",13),la.Bc(18,aj,3,4,"mat-cell",14),la.Qb(),la.Rb(19,15),la.Bc(20,ij,1,0,"mat-header-cell",13),la.Bc(21,oj,4,0,"mat-cell",14),la.Qb(),la.Rb(22,16),la.Bc(23,uj,1,0,"mat-header-cell",13),la.Bc(24,lj,4,0,"mat-cell",14),la.Qb(),la.Bc(25,sj,1,0,"mat-header-row",17),la.Bc(26,bj,1,0,"mat-row",18),la.Sb(),la.Sb()),2&e&&(la.Cb(4),la.nc("routerLink",la.oc(4,Pj)),la.Cb(2),la.nc("dataSource",t.dataSource),la.Cb(19),la.nc("matHeaderRowDef",t.displayedColumns),la.Cb(1),la.nc("matRowDefColumns",t.displayedColumns))},directives:[ub.c,ub.b,yl.b,yl.a,ua.j,Vb.j,Vb.c,Vb.e,Vb.b,Vb.g,Vb.i,Vb.d,Vb.a,Sl.b,rb.a,Vb.f,Vb.h],pipes:[vl.e,vl.f],styles:[".window[_ngcontent-%COMP%]{margin:2.5rem 5rem}@media only screen and (max-width:959px){.window[_ngcontent-%COMP%]{margin:.5rem 1rem}}@media only screen and (max-width:959px){mat-cell[_ngcontent-%COMP%]{font-size:1.6rem}}.mat-row[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}a[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width:959px){.width--md[_ngcontent-%COMP%]{padding-left:.5rem}}"],changeDetection:0}),Sj),xj=((jj=function(){function e(t){na(this,e),this.store=t}return ra(e,[{key:"canActivate",value:function(){return this.checkStore().pipe(Object(yi.a)((function(){return Object(ji.of)(!0)})),Object(Xi.a)((function(){return Object(ji.of)(!1)})))}},{key:"checkStore",value:function(){var e=this;return this.store.pipe(Object(ta.r)(this.getObjectLoadedSelector()),Object(Li.a)((function(t){return!t&&e.store.dispatch(e.getQueryAction())})),Object(Fi.a)((function(e){return e})),Object(nl.a)(1))}}]),e}()).\u0275fac=function(e){return new(e||jj)(la.Zb(ta.h))},jj.\u0275prov=la.Jb({token:jj,factory:jj.\u0275fac}),jj),_j=((Oj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return ao}},{key:"getQueryAction",value:function(){return new vi.A}}]),n}(xj)).\u0275fac=function(e){return new(e||Oj)(la.Zb(ta.h))},Oj.\u0275prov=la.Jb({token:Oj,factory:Oj.\u0275fac}),Oj),Mj=((Cj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return so}},{key:"getQueryAction",value:function(){return new vi.B}}]),n}(xj)).\u0275fac=function(e){return new(e||Cj)(la.Zb(ta.h))},Cj.\u0275prov=la.Jb({token:Cj,factory:Cj.\u0275fac}),Cj),zj=((yj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return Oo}},{key:"getQueryAction",value:function(){return new vi.w}}]),n}(xj)).\u0275fac=function(e){return new(e||yj)(la.Zb(ta.h))},yj.\u0275prov=la.Jb({token:yj,factory:yj.\u0275fac}),yj),Aj=((vj=function(){function t(e){na(this,t),this.store=e}return ra(t,[{key:"canActivate",value:function(e){var t=this;return this.checkStore(e).pipe(Object(yi.a)((function(){return"copy"===e.params.id||"new"===e.params.id||"quick"===e.params.id?t.hasCurrentObject():t.hasObject(e.params.id)})),Object(Xi.a)((function(e,n){return t.store.dispatch(new il.b({path:["/invoicing"]})),Object(ji.of)(!1)})))}},{key:"checkStore",value:function(t){var n=this;return Object(ji.combineLatest)([this.store.pipe(Object(ta.r)(ao)),this.store.pipe(Object(ta.r)(Oo)),this.store.pipe(Object(ta.r)(so)),this.store.pipe(Object(ta.r)($o))]).pipe(Object(Li.a)((function(e){e[0]||n.store.dispatch(new vi.A),e[1]||n.store.dispatch(new vi.w),e[2]||n.store.dispatch(new vi.B),e[3]||n.store.dispatch(new vi.z),n.store.dispatch(new vi.y({objectType:t.url[0].path,id:t.params.id}))})),Object(Oi.a)((function(t){var n=e(t,4),c=n[0],r=n[1],a=n[2],i=n[3];return c&&r&&a&&i})),Object(Li.a)((function(e){return console.log("[Guard] all dependencies loaded: "+e)})),Object(Fi.a)((function(e){return e})),Object(nl.a)(1))}}]),t}()).\u0275fac=function(e){return new(e||vj)(la.Zb(ta.h))},vj.\u0275prov=la.Jb({token:vj,factory:vj.\u0275fac}),vj),Bj=((pj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"hasCurrentObject",value:function(){return this.store.pipe(Object(ta.r)(bo),Object(Oi.a)((function(e){return!!e})),Object(nl.a)(1))}},{key:"hasObject",value:function(e){var t=this;return this.store.pipe(Object(ta.r)(uo),Object(Li.a)((function(n){return t.store.dispatch(new vi.G(n[e]))})),Object(Oi.a)((function(t){return!!t[e]})),Object(nl.a)(1))}}]),n}(Aj)).\u0275fac=function(e){return new(e||pj)(la.Zb(ta.h))},pj.\u0275prov=la.Jb({token:pj,factory:pj.\u0275fac}),pj),Rj=((gj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"hasCurrentObject",value:function(){return this.store.pipe(Object(ta.r)(jo),Object(Oi.a)((function(e){return!!e})),Object(nl.a)(1))}},{key:"hasObject",value:function(e){var t=this;return this.store.pipe(Object(ta.r)(vo),Object(Li.a)((function(n){return t.store.dispatch(new vi.E(n[e]))})),Object(Oi.a)((function(t){return!!t[e]})),Object(nl.a)(1))}}]),n}(Aj)).\u0275fac=function(e){return new(e||gj)(la.Zb(ta.h))},gj.\u0275prov=la.Jb({token:gj,factory:gj.\u0275fac}),gj),Ej=((hj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return $o}},{key:"getQueryAction",value:function(){return new vi.z}}]),n}(xj)).\u0275fac=function(e){return new(e||hj)(la.Zb(ta.h))},hj.\u0275prov=la.Jb({token:hj,factory:hj.\u0275fac}),hj),Nj=((mj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"hasCurrentObject",value:function(){return this.store.pipe(Object(ta.r)(xo),Object(Oi.a)((function(e){return!!e})),Object(nl.a)(1))}},{key:"hasObject",value:function(e){var t=this;return this.store.pipe(Object(ta.r)(Do),Object(Li.a)((function(n){return t.store.dispatch(new vi.F(n[e]))})),Object(Oi.a)((function(t){return!!t[e]})),Object(nl.a)(1))}}]),n}(Aj)).\u0275fac=function(e){return new(e||mj)(la.Zb(ta.h))},mj.\u0275prov=la.Jb({token:mj,factory:mj.\u0275fac}),mj),Fj=((fj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return No}},{key:"getQueryAction",value:function(){return new vi.x}}]),n}(xj)).\u0275fac=function(e){return new(e||fj)(la.Zb(ta.h))},fj.\u0275prov=la.Jb({token:fj,factory:fj.\u0275fac}),fj),Lj=((dj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return Fu}},{key:"getQueryAction",value:function(){return new vi.C}}]),n}(xj)).\u0275fac=function(e){return new(e||dj)(la.Zb(ta.h))},dj.\u0275prov=la.Jb({token:dj,factory:dj.\u0275fac}),dj),Xj=Kr("2CEU"),qj=((Tj=function(){function e(t){na(this,e),this.uiService=t}return ra(e,[{key:"canDeactivate",value:function(e,t,n,c){return e.formComponent&&e.formComponent.form.dirty?this.uiService.openConfirmationDialog({title:"Sie haben noch ungesicherte \xc4nderungen.",text:"Wollen Sie den Dialog trotzdem verlassen?"}).pipe(Object(Oi.a)((function(e){return e.reply}))):Object(ji.of)(!0)}}]),e}()).\u0275fac=function(e){return new(e||Tj)(la.Zb(Xj.a))},Tj.\u0275prov=la.Jb({token:Tj,factory:Tj.\u0275fac}),Tj),Hj=[_j,Mj,Bj,zj,Rj,Ej,Nj,Fj,Lj,qj],Uj=((wj=function(e){Jr(n,e);var t=Wr(n);function n(e){var c;return na(this,n),(c=t.call(this,e)).store=e,c}return ra(n,[{key:"getObjectLoadedSelector",value:function(){return qo}},{key:"getQueryAction",value:function(){return new vi.D}}]),n}(xj)).\u0275fac=function(e){return new(e||wj)(la.Zb(ta.h))},wj.\u0275prov=la.Jb({token:wj,factory:wj.\u0275fac}),wj),Vj=[Uj],Gj=[{path:"",component:Os,canActivate:[_j,Lj,Uj,Mj,zj,Ej],children:[{path:"",component:SC,canActivate:[Mj,zj,Ej]},{path:"receivers",component:Ls,canActivate:[_j,Uj,Mj,zj,Ej]},{path:"receivers/:id",component:mm,canActivate:[Bj],canDeactivate:[qj]},{path:"contracts",component:ts,canActivate:[_j,Uj,zj,Mj,Ej]},{path:"contracts/:id",component:Ng,canActivate:[Rj],canDeactivate:[qj]},{path:"confirmations",component:wa},{path:"invoices",component:Cs,canActivate:[_j,Uj,zj,Mj,Ej]},{path:"invoices/:id",component:Ay,canActivate:[Nj],canDeactivate:[qj]}]}],Yj=((kj=function e(){na(this,e)}).\u0275mod=la.Lb({type:kj}),kj.\u0275inj=la.Kb({factory:function(e){return new(e||kj)},providers:[].concat(Hj,[Uj]),imports:[[ua.k.forChild(Gj)],ua.k]}),kj),Zj=[{path:"settings",canActivate:[Uj],children:[{path:"",component:_C,canActivate:[Uj]},{path:"countries",component:TO,canActivate:[Uj]},{path:"vats",component:$j,canActivate:[Uj]}]}],Qj=((Dj=function e(){na(this,e)}).\u0275mod=la.Lb({type:Dj}),Dj.\u0275inj=la.Kb({factory:function(e){return new(e||Dj)},providers:[Uj],imports:[[ua.k.forChild(Zj)],ua.k]}),Dj),Jj=[_i],Kj=((Ij=function e(){na(this,e)}).\u0275mod=la.Lb({type:Ij}),Ij.\u0275inj=la.Kb({factory:function(e){return new(e||Ij)},providers:[].concat(tl,Jj,Vj),imports:[[ia.a,Qj]]}),Ij);function Wj(e){return function(t,n){return"[Auth] clear state"===n.type&&(t=void 0),e(t,n)}}var eS,tS=[Wj],nS=((eS=function e(){na(this,e)}).\u0275mod=la.Lb({type:eS}),eS.\u0275inj=la.Kb({factory:function(e){return new(e||eS)},providers:[].concat(hl,Bi,Hj),imports:[[ia.a,oa.a,Kj,Yj,ta.j.forFeature("invoicing",gi,{metaReducers:tS}),ca.c.forFeature(no)]]}),eS)}}])}();